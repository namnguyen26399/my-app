{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../../administrator/administrator.api\";\nimport UserInfosRequestData from \"../RequestForm/UserInfosRequestData.vue\";\nexport default {\n  props: {\n    request: {}\n  },\n  components: {\n    UserInfosRequestData: UserInfosRequestData\n  },\n  watch: {\n    request: function request(newValue) {\n      this.m_requestData = newValue;\n      console.log(\"this.m_requestData\", this.m_requestData);\n    }\n  },\n  data: function data() {\n    return {\n      m_requestData: null,\n      m_requestDto: null,\n      listUser: [],\n      listMailTemp: [],\n      selected_status: null,\n      menungayxuly: false,\n      menuhanxuly: false,\n      ngayxuly: null,\n      hanxuly: null,\n      openUserInfosRequestData: false\n    };\n  },\n  created: function created() {\n    this.m_requestData = this.request;\n    this.$Progress.start();\n    this.load();\n  },\n  mounted: function mounted() {\n    this.$Progress.finish();\n  },\n  methods: {\n    load: function load() {\n      this.getAllUser();\n      this.getAllMailTemp();\n    },\n    getAllUser: function getAllUser() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!_this.m_requestData || !_this.m_requestData.id)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.next = 4;\n                return globalService.getData_Async(administratorAPI.API_GetAllUserByRequest(_this.m_requestData.id));\n\n              case 4:\n                response = _context.sent;\n\n                if (!(!response || !response.state)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _this.listUser = response.data;\n                console.log(\"res\", response);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getAllMailTemp: function getAllMailTemp() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllMailTemplate());\n\n              case 2:\n                response = _context2.sent;\n\n                if (!(!response || !response)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 5:\n                _this2.listMailTemp = response.data;\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    editUserInfosRequestData: function editUserInfosRequestData() {\n      this.openUserInfosRequestData = true;\n      console.log(\"list user :\" + this.listUser);\n    },\n    onClose: function onClose(value) {\n      if (value) {\n        this.openRelateRequestData = false;\n        this.openUserInfosRequestData = false;\n        this.openAttachmentFileRequestData = false;\n        this.openFileRequestData = false;\n        this.openViewAttachmentFile = false;\n      }\n    },\n    onSave: function onSave(value) {\n      this.m_requestDto.userInfos = value;\n      console.log(\"value : ------------------------------------\" + this.m_requestDto);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AAEA;EACAA;IAAAC;EAAA,CADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAH,OADA,mBACAI,QADA,EACA;MACA;MACAC;IACA;EAJA,CALA;EAWAC,IAXA,kBAWA;IACA;MACAC,mBADA;MAEAC,kBAFA;MAGAC,YAHA;MAIAC,gBAJA;MAKAC,qBALA;MAMAC,mBANA;MAOAC,kBAPA;MAQAC,cARA;MASAC,aATA;MAUAC;IAVA;EAYA,CAxBA;EAyBAC,OAzBA,qBAyBA;IACA;IACA;IACA;EACA,CA7BA;EA8BAC,OA9BA,qBA8BA;IACA;EACA,CAhCA;EAiCAC;IACAC,IADA,kBACA;MACA;MACA;IACA,CAJA;IAKAC,UALA,wBAKA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA,+CADA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAAA;gBAAA,OAEAC,4BACAC,gEADA,CAFA;;cAAA;gBAEAC,QAFA;;gBAAA,MAKA,4BALA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAMA;gBACAnB;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA,CAbA;IAcAoB,cAdA,4BAcA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAH,4BACAC,yCADA,CADA;;cAAA;gBACAC,QADA;;gBAAA,MAIA,sBAJA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAKA;;cALA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMA,CApBA;IAqBAE,wBArBA,sCAqBA;MACA;MACArB;IACA,CAxBA;IAyBAsB,OAzBA,mBAyBAC,KAzBA,EAyBA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA,CAjCA;IAkCAC,MAlCA,kBAkCAD,KAlCA,EAkCA;MACA;MACAvB,YACA,iDACA,iBAFA;IAIA;EAxCA;AAjCA","names":["props","request","components","UserInfosRequestData","watch","newValue","console","data","m_requestData","m_requestDto","listUser","listMailTemp","selected_status","menungayxuly","menuhanxuly","ngayxuly","hanxuly","openUserInfosRequestData","created","mounted","methods","load","getAllUser","globalService","administratorAPI","response","getAllMailTemp","editUserInfosRequestData","onClose","value","onSave"],"sourceRoot":"src/views/modules/khai-phieu-yeu-cau/modulepopup","sources":["SendEmail.vue"],"sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<v-dialog\r\n\t\t\tmax-width=\"60vw\"\r\n\t\t\tv-model=\"openUserInfosRequestData\"\r\n\t\t\tpersistent\r\n\t\t>\r\n\t\t\t<UserInfosRequestData\r\n\t\t\t\t@save=\"onSave\"\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t></UserInfosRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-toolbar color=\"grey lighten-4\">\r\n\t\t\t<v-toolbar-title> Gửi email </v-toolbar-title>\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-btn icon @click=\"closeDialog\">\r\n\t\t\t\t<v-icon>mdi-close</v-icon>\r\n\t\t\t</v-btn>\r\n\t\t</v-toolbar>\r\n\t\t<v-card-text class=\"mt-4\">\r\n\t\t\t<v-container>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"10\">\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t:items=\"listMailTemp\"\r\n\t\t\t\t\t\t\titem-text=\"mailTemplateName\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tlabel=\"Mẫu email\"\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"2\">\r\n\t\t\t\t\t\t<v-btn class=\"blue\" dark> Soạn thư </v-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"10\">\r\n\t\t\t\t\t\t<v-\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t:items=\"listUser\"\r\n\t\t\t\t\t\t\tkeyName=\"id\"\r\n\t\t\t\t\t\t\titem-text=\"fullName\"\r\n\t\t\t\t\t\t\tlabel=\"Người nhận\"\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t\t\tNgười nhận <span class=\"red--text\">(*)</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v->\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"1\">\r\n\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t@click=\"editUserInfosRequestData\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-icon>mdi-account-plus</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"10\">\r\n\t\t\t\t\t\t<v-autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t:items=\"listUser\"\r\n\t\t\t\t\t\t\tkeyName=\"id\"\r\n\t\t\t\t\t\t\titem-text=\"fullName\"\r\n\t\t\t\t\t\t\tlabel=\"cc\"\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t>abc</v-autocomplete\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"1\">\r\n\t\t\t\t\t\t<v-btn icon color=\"blue\">\r\n\t\t\t\t\t\t\t<v-icon>mdi-account-plus</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-textarea outlined label=\"Nội dung\"> </v-textarea>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-checkbox label=\"Gửi OTP\"> </v-checkbox>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-checkbox label=\"Đính kèm PDF\"> </v-checkbox>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t<v-file-input\r\n\t\t\t\t\t\t\ttruncate-length=\"15\"\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tlabel=\"File input\"\r\n\t\t\t\t\t\t></v-file-input>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-container>\r\n\t\t</v-card-text>\r\n\t\t<v-card-actions>\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-btn elevation=\"0\" color=\"blue darken-2\" dark class=\"rounded-0\">\r\n\t\t\t\t{{ $t(\"button.ok\") }}\r\n\t\t\t</v-btn>\r\n\t\t\t<v-btn\r\n\t\t\t\televation=\"0\"\r\n\t\t\t\tcolor=\"grey lighten-4\"\r\n\t\t\t\tclass=\"rounded-0\"\r\n\t\t\t\t@click=\"closeDialog()\"\r\n\t\t\t>\r\n\t\t\t\t{{ $t(\"button.cancel\") }}\r\n\t\t\t</v-btn>\r\n\t\t</v-card-actions>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../../administrator/administrator.api\";\r\nimport UserInfosRequestData from \"../RequestForm/UserInfosRequestData.vue\";\r\n\r\nexport default {\r\n\tprops: { request: {} },\r\n\tcomponents: {\r\n\t\tUserInfosRequestData,\r\n\t},\r\n\twatch: {\r\n\t\trequest(newValue) {\r\n\t\t\tthis.m_requestData = newValue;\r\n\t\t\tconsole.log(\"this.m_requestData\", this.m_requestData);\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tm_requestData: null,\r\n\t\t\tm_requestDto: null,\r\n\t\t\tlistUser: [],\r\n\t\t\tlistMailTemp: [],\r\n\t\t\tselected_status: null,\r\n\t\t\tmenungayxuly: false,\r\n\t\t\tmenuhanxuly: false,\r\n\t\t\tngayxuly: null,\r\n\t\t\thanxuly: null,\r\n\t\t\topenUserInfosRequestData: false,\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.m_requestData = this.request;\r\n\t\tthis.$Progress.start();\r\n\t\tthis.load();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$Progress.finish();\r\n\t},\r\n\tmethods: {\r\n\t\tload() {\r\n\t\t\tthis.getAllUser();\r\n\t\t\tthis.getAllMailTemp();\r\n\t\t},\r\n\t\tasync getAllUser() {\r\n\t\t\tif (!this.m_requestData || !this.m_requestData.id) return;\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllUserByRequest(this.m_requestData.id),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) return;\r\n\t\t\tthis.listUser = response.data;\r\n\t\t\tconsole.log(\"res\", response);\r\n\t\t},\r\n\t\tasync getAllMailTemp() {\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllMailTemplate(),\r\n\t\t\t);\r\n\t\t\tif (!response || !response) return;\r\n\t\t\tthis.listMailTemp = response.data;\r\n\t\t},\r\n\t\teditUserInfosRequestData() {\r\n\t\t\tthis.openUserInfosRequestData = true;\r\n\t\t\tconsole.log(\"list user :\" + this.listUser);\r\n\t\t},\r\n\t\tonClose(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.openRelateRequestData = false;\r\n\t\t\t\tthis.openUserInfosRequestData = false;\r\n\t\t\t\tthis.openAttachmentFileRequestData = false;\r\n\t\t\t\tthis.openFileRequestData = false;\r\n\t\t\t\tthis.openViewAttachmentFile = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSave(value) {\r\n\t\t\tthis.m_requestDto.userInfos = value;\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"value : ------------------------------------\" +\r\n\t\t\t\t\tthis.m_requestDto,\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}