{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"@koumoul/vjsf/lib/VJsf.css\";\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\nimport store from \"@/store\";\nimport globalService from \"@/services/global.service\";\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nexport default {\n  name: \"ThemeConfigVue\",\n  components: {\n    VJsf: VJsf,\n    BreadcrumbsVue: BreadcrumbsVue\n  },\n  created: function created() {\n    this.$Progress.start();\n  },\n  mounted: function mounted() {\n    this.$Progress.finish();\n  },\n  data: function data() {\n    return {\n      model: store.state.config.theme,\n      schema: {\n        type: \"object\",\n        properties: {\n          primary: {\n            type: \"string\",\n            title: this.$t(\"title.primary\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          secondary: {\n            type: \"string\",\n            title: this.$t(\"title.secondary\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          accent: {\n            type: \"string\",\n            title: this.$t(\"title.accent\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          error: {\n            type: \"string\",\n            title: this.$t(\"title.error\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          info: {\n            type: \"string\",\n            title: this.$t(\"title.info\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          success: {\n            type: \"string\",\n            title: this.$t(\"title.success\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          },\n          warning: {\n            type: \"string\",\n            title: this.$t(\"title.warning\"),\n            format: \"hexcolor\",\n            \"x-props\": {\n              showSwatches: true,\n              hideCanvas: true,\n              hideInputs: true,\n              hideModeSwitch: true\n            }\n          }\n        }\n      }\n    };\n  },\n  methods: {\n    restore: function restore() {\n      this.$vuetify.theme.themes.light = {\n        primary: \"#C62828\",\n        secondary: \"#424242\",\n        accent: \"#82B1FF\",\n        error: \"#FF5252\",\n        info: \"#2196F3\",\n        success: \"#4CAF50\",\n        warning: \"#FFC107\"\n      };\n      this.model = this.$vuetify.theme.themes.light;\n    },\n    save: function save() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response, tmp;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                tmp = Object.assign({}, store.state.config.theme);\n                tmp.primary = _this.model.primary;\n                tmp.secondary = _this.model.secondary;\n                tmp.accent = _this.model.accent;\n                tmp.error = _this.model.error;\n                tmp.info = _this.model.info;\n                tmp.success = _this.model.success;\n                tmp.warning = _this.model.warning;\n                _context.prev = 8;\n\n                if (!(!store.state.config.theme || !store.state.config.theme.id)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _context.next = 12;\n                return globalService.postData_Async(\"/api/theme-configs\", tmp);\n\n              case 12:\n                response = _context.sent;\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.next = 17;\n                return globalService.putData_Async(\"/api/theme-configs/\".concat(store.state.config.theme.id), tmp);\n\n              case 17:\n                response = _context.sent;\n\n              case 18:\n                if (!response || !response.state) {\n                  _this.toastError(_this.$t(\"error.update_fail\"));\n                }\n\n                _this.toastSuccess(_this.$t(\"success.updated\"));\n\n                store.state.config.theme = response.data;\n                _this.$vuetify.theme.themes.light = _this.model;\n                _context.next = 27;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context[\"catch\"](8);\n\n                _this.toastError(_context.t0);\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[8, 24]]);\n      }))();\n    },\n    handle: function handle() {\n      this.$vuetify.theme.themes.light = this.model;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA,sBADA;EAEAC;IACAC,UADA;IAEAC;EAFA,CAFA;EAMAC,OANA,qBAMA;IACA;EACA,CARA;EASAC,OATA,qBASA;IACA;EACA,CAXA;EAYAC,IAZA,kBAYA;IACA;MACAC,+BADA;MAEAC;QACAC,cADA;QAEAC;UACAC;YACAF,cADA;YAEAG,+BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CADA;UAYAC;YACAT,cADA;YAEAG,iCAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CAZA;UAuBAE;YACAV,cADA;YAEAG,8BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CAvBA;UAkCAG;YACAX,cADA;YAEAG,6BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CAlCA;UA6CAI;YACAZ,cADA;YAEAG,4BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CA7CA;UAwDAK;YACAb,cADA;YAEAG,+BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA,CAxDA;UAmEAM;YACAd,cADA;YAEAG,+BAFA;YAGAC,kBAHA;YAIA;cACAC,kBADA;cAEAC,gBAFA;cAGAC,gBAHA;cAIAC;YAJA;UAJA;QAnEA;MAFA;IAFA;EAqFA,CAlGA;EAmGAO;IACAC,OADA,qBACA;MACA;QACAd,kBADA;QAEAO,oBAFA;QAGAC,iBAHA;QAIAC,gBAJA;QAKAC,eALA;QAMAC,kBANA;QAOAC;MAPA;MASA;IACA,CAZA;IAaAG,IAbA,kBAaA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEAC,GAFA,GAEAC,2CAFA;gBAGAD;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBATA;;gBAAA,MAWA,yDAXA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAYAE,mDAEAF,GAFA,CAZA;;cAAA;gBAYAG,QAZA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAiBAD,yDACAE,2BADA,GAEAJ,GAFA,CAjBA;;cAAA;gBAiBAG,QAjBA;;cAAA;gBAsBA;kBACA;gBACA;;gBACA;;gBACAC;gBACA;gBA3BA;gBAAA;;cAAA;gBAAA;gBAAA;;gBA6BA;;cA7BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA+BA,CA5CA;IA6CAC,MA7CA,oBA6CA;MACA;IACA;EA/CA;AAnGA","names":["name","components","VJsf","BreadcrumbsVue","created","mounted","data","model","schema","type","properties","primary","title","format","showSwatches","hideCanvas","hideInputs","hideModeSwitch","secondary","accent","error","info","success","warning","methods","restore","save","tmp","Object","globalService","response","store","handle"],"sourceRoot":"src/views/modules/administrator","sources":["ThemeConfig.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-row>\r\n\t\t\t<v-col>\r\n\t\t\t\t<v-form>\r\n\t\t\t\t\t<v-jsf\r\n\t\t\t\t\t\taria-disabled=\"true\"\r\n\t\t\t\t\t\tv-model=\"model\"\r\n\t\t\t\t\t\t:schema=\"schema\"\r\n\t\t\t\t\t\t@change=\"handle()\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t@click.stop=\"save\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ $t(\"button.save\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\tcolor=\"blue darken-1 rounded-pill\"\r\n\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t@click.stop=\"restore\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ $t(\"button.restore\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-form>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport \"@koumoul/vjsf/lib/VJsf.css\";\r\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\r\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\r\nimport store from \"@/store\";\r\nimport globalService from \"@/services/global.service\";\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\n\r\nexport default {\r\n\tname: \"ThemeConfigVue\",\r\n\tcomponents: {\r\n\t\tVJsf,\r\n\t\tBreadcrumbsVue,\r\n\t},\r\n\tcreated() {\r\n\t\tthis.$Progress.start();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$Progress.finish();\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmodel: store.state.config.theme,\r\n\t\t\tschema: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.primary\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.secondary\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\taccent: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.accent\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.error\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinfo: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.info\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.success\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\twarning: {\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\ttitle: this.$t(\"title.warning\"),\r\n\t\t\t\t\t\tformat: \"hexcolor\",\r\n\t\t\t\t\t\t\"x-props\": {\r\n\t\t\t\t\t\t\tshowSwatches: true,\r\n\t\t\t\t\t\t\thideCanvas: true,\r\n\t\t\t\t\t\t\thideInputs: true,\r\n\t\t\t\t\t\t\thideModeSwitch: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\trestore() {\r\n\t\t\tthis.$vuetify.theme.themes.light = {\r\n\t\t\t\tprimary: \"#C62828\",\r\n\t\t\t\tsecondary: \"#424242\",\r\n\t\t\t\taccent: \"#82B1FF\",\r\n\t\t\t\terror: \"#FF5252\",\r\n\t\t\t\tinfo: \"#2196F3\",\r\n\t\t\t\tsuccess: \"#4CAF50\",\r\n\t\t\t\twarning: \"#FFC107\",\r\n\t\t\t};\r\n\t\t\tthis.model = this.$vuetify.theme.themes.light;\r\n\t\t},\r\n\t\tasync save() {\r\n\t\t\tlet response;\r\n\t\t\tlet tmp = Object.assign({}, store.state.config.theme);\r\n\t\t\ttmp.primary = this.model.primary;\r\n\t\t\ttmp.secondary = this.model.secondary;\r\n\t\t\ttmp.accent = this.model.accent;\r\n\t\t\ttmp.error = this.model.error;\r\n\t\t\ttmp.info = this.model.info;\r\n\t\t\ttmp.success = this.model.success;\r\n\t\t\ttmp.warning = this.model.warning;\r\n\t\t\ttry {\r\n\t\t\t\tif (!store.state.config.theme || !store.state.config.theme.id) {\r\n\t\t\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\t\t\t`/api/theme-configs`,\r\n\t\t\t\t\t\ttmp,\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresponse = await globalService.putData_Async(\r\n\t\t\t\t\t\t`/api/theme-configs/${store.state.config.theme.id}`,\r\n\t\t\t\t\t\ttmp,\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"error.update_fail\"));\r\n\t\t\t\t}\r\n\t\t\t\tthis.toastSuccess(this.$t(\"success.updated\"));\r\n\t\t\t\tstore.state.config.theme = response.data;\r\n\t\t\t\tthis.$vuetify.theme.themes.light = this.model;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandle() {\r\n\t\t\tthis.$vuetify.theme.themes.light = this.model;\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}