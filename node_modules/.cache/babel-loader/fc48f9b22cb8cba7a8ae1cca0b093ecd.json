{"ast":null,"code":"import _toConsumableArray from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"@koumoul/vjsf/lib/VJsf.css\";\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../../administrator/administrator.api\";\nimport FileRequestData from \"./FileRequestData.vue\";\nimport UserInfosRequestData from \"./UserInfosRequestData.vue\";\nimport RelateRequestData from \"./RelateRequestData.vue\";\nimport moment from \"moment\";\nimport RequestFormDataDto from \"@/models/form-data.dto\";\nimport AttachmentFileRequestData from \"./AttachmentFileRequestData.vue\";\nexport default {\n  name: \"VSMFEDeclarationV3\",\n  props: {\n    requestDataV2: {},\n    isSaved: {}\n  },\n  components: {\n    VJsf: VJsf,\n    FileRequestData: FileRequestData,\n    UserInfosRequestData: UserInfosRequestData,\n    RelateRequestData: RelateRequestData,\n    AttachmentFileRequestData: AttachmentFileRequestData\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      listTemplateForm: [],\n      m_isSaved: {},\n      m_requestDto: null,\n      listAttachmentFlieByRequest: [],\n      listUserInfos: [],\n      form: [],\n      options: {\n        fieldProps: {\n          outlined: \"outlined\",\n          dense: \"dense\"\n        }\n      },\n      formData: null,\n      file: [],\n      \"x-options\": {\n        messages: {\n          pattern: \"Sai định dạng\",\n          required: \"Đây là trường bắt buộc.\",\n          maxLength: \"Lớn hơn maxLength\",\n          minLength: \"Nhỏ hơn minLength\"\n        }\n      },\n      openFileRequestData: false,\n      openAttachmentFileRequestData: false,\n      openUserInfosRequestData: false,\n      openRelateRequestData: false,\n      items: [],\n      search: \"\",\n      singleSelect: false,\n      selected: [],\n      dateFormat: \"DD/MM/yyyy h:mm\",\n      listRequestData: [],\n      headers: [{\n        text: \"Tên file \",\n        value: \"attachmentFileDTOS[0].fileName\",\n        sortable: false,\n        filter: function filter(value) {\n          if (!_this.fileName) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.fileName).toLocaleUpperCase());\n        }\n      }, {\n        text: \"Biểu mẫu\",\n        value: \"templateFormName\",\n        filter: function filter(value) {\n          if (!_this.templateFormName) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.templateFormName).toLocaleUpperCase());\n        }\n      }, {\n        text: \"Người cập nhật\",\n        value: \"createdName\",\n        filter: function filter(value) {\n          if (!_this.createdName) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.createdName).toLocaleUpperCase());\n        }\n      }, {\n        text: \"Thời gian cập nhật\",\n        value: \"createdDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.createdDate) return true;\n          return value.includes(_this.createdDate);\n        }\n      }],\n      headerss: [{\n        text: \"Tên file\",\n        value: \"fileName\",\n        filter: function filter(value) {\n          if (!_this.fileName) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.fileName).toLocaleUpperCase());\n        }\n      }, {\n        text: \"Kiểu file\",\n        value: \"fileTypeName\",\n        filter: function filter(value) {\n          if (!_this.fileTypeName) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.fileTypeName).toLocaleUpperCase());\n        }\n      }, {\n        text: \"Ngày Tạo\",\n        value: \"createdDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.createdDate) return true;\n          return value.includes(_this.createdDate);\n        }\n      }],\n      listFile: [],\n      requestFormDataDto: RequestFormDataDto\n    };\n  },\n  watch: {\n    requestDataV2: function requestDataV2(newValue) {\n      this.m_requestDto = newValue;\n    },\n    isSaved: function isSaved(value) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.m_isSaved = value;\n\n                if (!(_this2.m_isSaved.state === 1)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _context.next = 4;\n                return _this2.saveFormData();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this3.m_requestDto = _this3.requestDataV2;\n              _context2.next = 3;\n              return _this3.FormData();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  mounted: function mounted() {\n    this.initialize();\n  },\n  methods: {\n    onSave: function onSave(value) {\n      this.m_requestDto.userInfos = value;\n      console.log(\"this.m_requestDto\", this.m_requestDto);\n    },\n    onSaveRelate: function onSaveRelate(value) {\n      this.m_requestDto.requestDataList = value;\n    },\n    onSaveFile: function onSaveFile(value) {\n      this.listFile = value;\n      console.log(\"this.listFile\", this.listFile);\n    },\n    // onSaveFile(value){\n    // \tthis.listFile=value;\n    // },\n    initialize: function initialize() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this4.getAllRequestData();\n\n              case 2:\n                _context3.next = 4;\n                return _this4.getAttachmentFileRequest();\n\n              case 4:\n                _context3.next = 6;\n                return _this4.getAllTemplateForm();\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    FormData: function FormData() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response, requests, _iterator, _step, form_row, _iterator2, _step2, form_col;\n\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetFormDataById(_this5.m_requestDto.id));\n\n              case 3:\n                response = _context4.sent;\n\n                if (!(!response || !response.state)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", []);\n\n              case 6:\n                requests = response.data;\n                console.log(\"this.formData\", requests);\n\n                if (requests.length > 0) {\n                  _this5.formData = requests[0];\n                  _this5.form = JSON.parse(_this5.formData.objectSchema);\n                  _iterator = _createForOfIteratorHelper(_this5.form);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      form_row = _step.value;\n                      _iterator2 = _createForOfIteratorHelper(form_row.elements);\n\n                      try {\n                        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                          form_col = _step2.value;\n\n                          if (form_col.field.name == \"Trường bảng\") {\n                            _this5.headers = JSON.parse(form_col.field.configSchema.properties.Headers);\n                          }\n                        }\n                      } catch (err) {\n                        _iterator2.e(err);\n                      } finally {\n                        _iterator2.f();\n                      }\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  _this5.form = _this5.form.map(function (ele) {\n                    if (ele.elements) {\n                      ele.elements = ele.elements.map(function (ele1) {\n                        if (ele1.field.configModel.is_required) ele1.field.previewSchema.required = _this5.spreadObjectToArray(ele1.field.previewSchema.properties);\n                        ele1.field.previewSchema.properties.title.readOnly = false;\n                        ele1.field.previewSchema.properties.title[\"x-options\"] = _objectSpread({}, _this5[\"x-options\"]);\n                        ele1.field.previewSchema.properties.title = _objectSpread(_objectSpread({}, ele1.field.previewSchema.properties.title), ele1.field.configModel);\n                        return ele1;\n                      });\n                    }\n\n                    return ele;\n                  }); // this.objectToAdd();\n                }\n\n                _context4.next = 15;\n                break;\n\n              case 11:\n                _context4.prev = 11;\n                _context4.t0 = _context4[\"catch\"](0);\n\n                _this5.toastError(_context4.t0);\n\n                return _context4.abrupt(\"return\");\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 11]]);\n      }))();\n    },\n    GetAllUser: function GetAllUser() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllUserInfos());\n\n              case 3:\n                response = _context5.sent;\n\n                if (!(!response || !response.state)) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", []);\n\n              case 6:\n                _this6.listUserInfos = response.data.filter(function (entry) {\n                  return !entry.isDelete && entry.isActive;\n                });\n                console.log(\"this.listUserInfos\", _this6.listUserInfos);\n                _context5.next = 14;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](0);\n\n                _this6.toastError(_context5.t0);\n\n                return _context5.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 10]]);\n      }))();\n    },\n    remove: function remove(item) {\n      this.m_requestDto.userInfos.splice(this.m_requestDto.userInfos.indexOf(item), 1);\n    },\n    editRelateRequestData: function editRelateRequestData() {\n      this.openRelateRequestData = true;\n    },\n    editUserInfosRequestData: function editUserInfosRequestData() {\n      this.openUserInfosRequestData = true;\n    },\n    editAttachmentFileRequestData: function editAttachmentFileRequestData() {\n      this.openAttachmentFileRequestData = true;\n    },\n    editFileRequestData: function editFileRequestData() {\n      this.openFileRequestData = true;\n    },\n    onClose: function onClose(value) {\n      if (value) {\n        this.openRelateRequestData = false;\n        this.openUserInfosRequestData = false;\n        this.openAttachmentFileRequestData = false;\n        this.openFileRequestData = false;\n      }\n    },\n    getAllRequestData: function getAllRequestData() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequestData());\n\n              case 3:\n                response = _context6.sent;\n\n                // response = await globalService.getData_Async(\n                // \tadministratorAPI.API_GetAllByUserIdRequestData(\n                // \t\tthis.user_info.id,\n                // \t),\n                // );\n                if (!response || !response.state) {\n                  _this7.toastError(_this7.$t(\"error.load\"));\n                }\n\n                _this7.requestAll = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _this7.listRequestData = Object.assign([], _this7.requestAll);\n                _context6.next = 13;\n                break;\n\n              case 9:\n                _context6.prev = 9;\n                _context6.t0 = _context6[\"catch\"](0);\n\n                _this7.toastError(_context6.t0);\n\n                return _context6.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 9]]);\n      }))();\n    },\n    getAttachmentFileRequest: function getAttachmentFileRequest() {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var _this8$listAttachment;\n\n        var response;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllAttachmentFileByRequestDataId(_this8.m_requestDto.id));\n\n              case 2:\n                response = _context7.sent;\n\n                if (!(!response || !response.state)) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", []);\n\n              case 5:\n                (_this8$listAttachment = _this8.listAttachmentFlieByRequest).push.apply(_this8$listAttachment, _toConsumableArray(response.data));\n\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    getAllTemplateForm: function getAllTemplateForm() {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                _context8.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllTemplateForm());\n\n              case 3:\n                response = _context8.sent;\n\n                if (!response || !response.state) {\n                  _this9.toastError(_this9.$t(\"error.load\"));\n                }\n\n                _this9.requestAll = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _this9.listTemplateForm = Object.assign([], _this9.requestAll);\n                _context8.next = 13;\n                break;\n\n              case 9:\n                _context8.prev = 9;\n                _context8.t0 = _context8[\"catch\"](0);\n\n                _this9.toastError(_context8.t0);\n\n                return _context8.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 9]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","requestDataV2","isSaved","components","VJsf","FileRequestData","UserInfosRequestData","RelateRequestData","AttachmentFileRequestData","data","listTemplateForm","m_isSaved","m_requestDto","listAttachmentFlieByRequest","listUserInfos","form","options","fieldProps","outlined","dense","formData","file","messages","pattern","required","maxLength","minLength","openFileRequestData","openAttachmentFileRequestData","openUserInfosRequestData","openRelateRequestData","items","search","singleSelect","selected","dateFormat","listRequestData","headers","text","value","sortable","filter","toLocaleUpperCase","includes","formatter","x","headerss","listFile","requestFormDataDto","watch","newValue","created","mounted","methods","onSave","console","onSaveRelate","onSaveFile","initialize","FormData","globalService","administratorAPI","response","requests","form_row","form_col","Headers","ele","ele1","title","GetAllUser","remove","item","editRelateRequestData","editUserInfosRequestData","editAttachmentFileRequestData","editFileRequestData","onClose","getAllRequestData","getAttachmentFileRequest","getAllTemplateForm"],"sourceRoot":"src/views/modules/khai-phieu-yeu-cau/RequestForm","sources":["ViewDeclaration.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\" v-if=\"m_requestDto\">\r\n\t\t<v-dialog max-width=\"80vw\" v-model=\"openFileRequestData\" persistent>\r\n\t\t\t<FileRequestData\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t\t@save=\"onSaveFile\"\r\n\t\t\t></FileRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog\r\n\t\t\tmax-width=\"80vw\"\r\n\t\t\tv-model=\"openAttachmentFileRequestData\"\r\n\t\t\tpersistent\r\n\t\t>\r\n\t\t\t<AttachmentFileRequestData\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t></AttachmentFileRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog\r\n\t\t\tmax-width=\"60vw\"\r\n\t\t\tv-model=\"openUserInfosRequestData\"\r\n\t\t\tpersistent\r\n\t\t>\r\n\t\t\t<UserInfosRequestData\r\n\t\t\t\t@save=\"onSave\"\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t></UserInfosRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog max-width=\"80vw\" v-model=\"openRelateRequestData\" persistent>\r\n\t\t\t<RelateRequestData\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t\t@saveRelate=\"onSaveRelate\"\r\n\t\t\t></RelateRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-row>\r\n\t\t\t<v-col md=\"8\">\r\n\t\t\t\t<v-list>\r\n\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t<v-row class=\"mt-4 my-4\">\r\n\t\t\t\t\t\t\t<v-col cols=\"4\" class=\"px-10\">\r\n\t\t\t\t\t\t\t\t<span>Tiêu đề :</span>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"8\" md=\"8\">\r\n\t\t\t\t\t\t\t\t<span> {{ m_requestDto.title }} </span>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"4\" class=\"px-10\">\r\n\t\t\t\t\t\t\t\t<span> Mô tả : </span>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"8\" md=\"8\">\r\n\t\t\t\t\t\t\t\t<span> {{ m_requestDto.description }}</span>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t<v-list-group no-action sub-group>\r\n\t\t\t\t\t\t<template v-slot:activator>\r\n\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t>Biểu mẫu thông tin</v-list-item-title\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<v-list-item class=\"block\">\r\n\t\t\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\">\r\n\t\t\t\t\t\t\t\t<v-card\r\n\t\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"grey lighten-4 p-2\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tcolor=\"#C2C2C2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(row, rowIndex) in form\"\r\n\t\t\t\t\t\t\t\t\t\t:key=\"'row_' + rowIndex\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-row\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcol, colIndex\r\n\t\t\t\t\t\t\t\t\t\t\t) in row.elements\"\r\n\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t'col_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\trowIndex +\r\n\t\t\t\t\t\t\t\t\t\t\t\t'_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t:cols=\"col.width\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"m-1 p-2 rounded col-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-card-text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.previewSchema\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-jsf\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.previewModel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:schema=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.previewSchema\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"options\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'col_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-data-table\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.name ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Trường bảng'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:items=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:headers=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theaders\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:items-per-page=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"elevation-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmulti-sort\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:[`item.action`]=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-pencil\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:top\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"d-flex\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"item of rowToAdd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.type ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:type=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-file-input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm_requestDto.status &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm_requestDto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.status\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'2' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.name ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Trường tải lên file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@change=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleFileUpload(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$event,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_file[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.fileName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!s_file[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.fileName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.attachment_file\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.star\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-file-input>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-jsf>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t</v-list-group>\r\n\t\t\t\t\t<v-list-group no-action sub-group>\r\n\t\t\t\t\t\t<template v-slot:activator>\r\n\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t>Tài liệu chính</v-list-item-title\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t\t<v-data-table\r\n\t\t\t\t\t\t\t\tv-model=\"selected\"\r\n\t\t\t\t\t\t\t\t:headers=\"headers\"\r\n\t\t\t\t\t\t\t\t:items=\"listTemplateForm\"\r\n\t\t\t\t\t\t\t\t:single-select=\"singleSelect\"\r\n\t\t\t\t\t\t\t\titem-key=\"id\"\r\n\t\t\t\t\t\t\t\tshow-select\r\n\t\t\t\t\t\t\t\t:search=\"search\"\r\n\t\t\t\t\t\t\t\tloading=\"true\"\r\n\t\t\t\t\t\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\tv-for=\"header in headers.filter((header) =>\r\n\t\t\t\t\t\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t\t\t\t\t\t)\"\r\n\t\t\t\t\t\t\t\t\tv-slot:[`item.${header.value}`]=\"{\r\n\t\t\t\t\t\t\t\t\t\theaders,\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t</v-list-group>\r\n\t\t\t\t\t<v-list-group no-action sub-group>\r\n\t\t\t\t\t\t<template v-slot:activator>\r\n\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t>Tài liệu đính kèm<menu></menu\r\n\t\t\t\t\t\t\t></v-list-item-title>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<v-data-table\r\n\t\t\t\t\t\t\tv-model=\"selected\"\r\n\t\t\t\t\t\t\t:headers=\"headerss\"\r\n\t\t\t\t\t\t\t:items=\"listAttachmentFlieByRequest\"\r\n\t\t\t\t\t\t\t:single-select=\"singleSelect\"\r\n\t\t\t\t\t\t\titem-key=\"id\"\r\n\t\t\t\t\t\t\tshow-select\r\n\t\t\t\t\t\t\t:search=\"search\"\r\n\t\t\t\t\t\t\tloading=\"true\"\r\n\t\t\t\t\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\tv-for=\"header in headerss.filter((header) =>\r\n\t\t\t\t\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t\t\t\t\t)\"\r\n\t\t\t\t\t\t\t\tv-slot:[`item.${header.value}`]=\"{\r\n\t\t\t\t\t\t\t\t\theaderss,\r\n\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t</v-list-group>\r\n\t\t\t\t</v-list>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col md=\"4\">\r\n\t\t\t\t<v-card>\r\n\t\t\t\t\t<v-card-title>\r\n\t\t\t\t\t\t<h4>Lịch sử</h4>\r\n\t\t\t\t\t</v-card-title>\r\n\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title class=\"w-full\">\r\n\t\t\t\t\t\tPhiếu yêu cầu liên quan\r\n\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(relate, index) of m_requestDto.requestDataList\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<!-- <span v-if=\"relate\" class=\"pl-4 mx-2\">{{\r\n\t\t\t\t\t\t\trelate.title\r\n\t\t\t\t\t\t}}</span> -->\r\n\t\t\t\t\t\t<v-btn class=\"ma-2 border-0\" outlined color=\"indigo\">\r\n\t\t\t\t\t\t\t{{ relate.title }}\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title class=\"w-full\">\r\n\t\t\t\t\t\t<v-list disabled>\r\n\t\t\t\t\t\t\tChia sẻ với:\r\n\t\t\t\t\t\t\t<v-list-item-group v-if=\"m_requestDto.userInfos\">\r\n\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\tv-for=\"(item, i) in m_requestDto.userInfos\"\r\n\t\t\t\t\t\t\t\t\t:key=\"i\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t</v-list-item-content>\r\n\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t\t\t</v-list>\r\n\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t<!-- <v-card-text>\r\n\t\t\t\t\t\t<v-combobox\r\n\t\t\t\t\t\t\tv-model=\"m_requestDto\"\r\n\t\t\t\t\t\t\t:items=\"listUserInfos\"\r\n\t\t\t\t\t\t\titem-text=\"fullName\"\r\n\t\t\t\t\t\t\tchips\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\thide-selected\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\tv-slot:selection=\"{\r\n\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\tparent,\r\n\t\t\t\t\t\t\t\t\tselected,\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\tv-if=\"item === Object(item)\"\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t:input-value=\"selected\"\r\n\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\tclass=\"ma-2\"\r\n\t\t\t\t\t\t\t\t\tclose\r\n\t\t\t\t\t\t\t\t\t@click:close=\"remove(item)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-avatar color=\"indigo mr-2\" size=\"30\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"white--text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetAvatarText(item.fullName, 2)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t@click=\"parent.selectItem(item)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-combobox>\r\n\t\t\t\t\t</v-card-text> -->\r\n\r\n\t\t\t\t\t<!-- <v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title>Chia sẻ với</v-card-title>\r\n\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t<v-combobox\r\n\t\t\t\t\t\t\tv-model=\"m_requestDto.userInfos\"\r\n\t\t\t\t\t\t\t:items=\"listUserInfos\"\r\n\t\t\t\t\t\t\titem-text=\"fullName\"\r\n\t\t\t\t\t\t\tchips\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\thide-selected\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\tv-slot:selection=\"{\r\n\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\tparent,\r\n\t\t\t\t\t\t\t\t\tselected,\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\tv-if=\"item === Object(item)\"\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t:input-value=\"selected\"\r\n\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\tclass=\"ma-2\"\r\n\t\t\t\t\t\t\t\t\tclose\r\n\t\t\t\t\t\t\t\t\t@click:close=\"remove(item)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-avatar color=\"indigo mr-2\" size=\"30\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"white--text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetAvatarText(item.fullName, 2)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t@click=\"parent.selectItem(item)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-combobox>\r\n\t\t\t\t\t</v-card-text> -->\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport \"@koumoul/vjsf/lib/VJsf.css\";\r\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\r\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../../administrator/administrator.api\";\r\nimport FileRequestData from \"./FileRequestData.vue\";\r\nimport UserInfosRequestData from \"./UserInfosRequestData.vue\";\r\nimport RelateRequestData from \"./RelateRequestData.vue\";\r\nimport moment from \"moment\";\r\nimport RequestFormDataDto from \"@/models/form-data.dto\";\r\nimport AttachmentFileRequestData from \"./AttachmentFileRequestData.vue\";\r\n\r\nexport default {\r\n\tname: \"VSMFEDeclarationV3\",\r\n\tprops: { requestDataV2: {}, isSaved: {} },\r\n\tcomponents: {\r\n\t\tVJsf,\r\n\t\tFileRequestData,\r\n\t\tUserInfosRequestData,\r\n\t\tRelateRequestData,\r\n\t\tAttachmentFileRequestData,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlistTemplateForm: [],\r\n\r\n\t\t\tm_isSaved: {},\r\n\r\n\t\t\tm_requestDto: null,\r\n\t\t\tlistAttachmentFlieByRequest: [],\r\n\t\t\tlistUserInfos: [],\r\n\t\t\tform: [],\r\n\t\t\toptions: {\r\n\t\t\t\tfieldProps: {\r\n\t\t\t\t\toutlined: \"outlined\",\r\n\t\t\t\t\tdense: \"dense\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tformData: null,\r\n\t\t\tfile: [],\r\n\t\t\t\"x-options\": {\r\n\t\t\t\tmessages: {\r\n\t\t\t\t\tpattern: \"Sai định dạng\",\r\n\t\t\t\t\trequired: \"Đây là trường bắt buộc.\",\r\n\t\t\t\t\tmaxLength: \"Lớn hơn maxLength\",\r\n\t\t\t\t\tminLength: \"Nhỏ hơn minLength\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\topenFileRequestData: false,\r\n\t\t\topenAttachmentFileRequestData: false,\r\n\t\t\topenUserInfosRequestData: false,\r\n\t\t\topenRelateRequestData: false,\r\n\t\t\titems: [],\r\n\t\t\tsearch: \"\",\r\n\t\t\tsingleSelect: false,\r\n\t\t\tselected: [],\r\n\t\t\tdateFormat: \"DD/MM/yyyy h:mm\",\r\n\t\t\tlistRequestData: [],\r\n\t\t\theaders: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Tên file \",\r\n\t\t\t\t\tvalue: \"attachmentFileDTOS[0].fileName\",\r\n\t\t\t\t\tsortable: false,\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.fileName) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(\r\n\t\t\t\t\t\t\t\t\tthis.fileName,\r\n\t\t\t\t\t\t\t\t).toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Biểu mẫu\",\r\n\t\t\t\t\tvalue: \"templateFormName\",\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.templateFormName) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(\r\n\t\t\t\t\t\t\t\t\tthis.templateFormName,\r\n\t\t\t\t\t\t\t\t).toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Người cập nhật\",\r\n\t\t\t\t\tvalue: \"createdName\",\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdName) return true;\r\n\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(\r\n\t\t\t\t\t\t\t\t\tthis.createdName,\r\n\t\t\t\t\t\t\t\t).toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Thời gian cập nhật\",\r\n\t\t\t\t\tvalue: \"createdDate\",\r\n\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.createdDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\theaderss: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Tên file\",\r\n\t\t\t\t\tvalue: \"fileName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.fileName) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(\r\n\t\t\t\t\t\t\t\t\tthis.fileName,\r\n\t\t\t\t\t\t\t\t).toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Kiểu file\",\r\n\t\t\t\t\tvalue: \"fileTypeName\",\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.fileTypeName) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(\r\n\t\t\t\t\t\t\t\t\tthis.fileTypeName,\r\n\t\t\t\t\t\t\t\t).toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Ngày Tạo\",\r\n\t\t\t\t\tvalue: \"createdDate\",\r\n\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.createdDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tlistFile: [],\r\n\t\t\trequestFormDataDto: RequestFormDataDto,\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\trequestDataV2(newValue) {\r\n\t\t\tthis.m_requestDto = newValue;\r\n\t\t},\r\n\t\tasync isSaved(value) {\r\n\t\t\tthis.m_isSaved = value;\r\n\t\t\tif (this.m_isSaved.state === 1) {\r\n\t\t\t\tawait this.saveFormData();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tasync created() {\r\n\t\tthis.m_requestDto = this.requestDataV2;\r\n\t\tawait this.FormData();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initialize();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tonSave(value) {\r\n\t\t\tthis.m_requestDto.userInfos = value;\r\n\r\n\t\t\tconsole.log(\"this.m_requestDto\", this.m_requestDto);\r\n\t\t},\r\n\t\tonSaveRelate(value) {\r\n\t\t\tthis.m_requestDto.requestDataList = value;\r\n\t\t},\r\n\t\tonSaveFile(value) {\r\n\t\t\tthis.listFile = value;\r\n\t\t\tconsole.log(\"this.listFile\", this.listFile);\r\n\t\t},\r\n\t\t// onSaveFile(value){\r\n\t\t// \tthis.listFile=value;\r\n\t\t// },\r\n\t\tasync initialize() {\r\n\t\t\t//await this._request();\r\n\t\t\tawait this.getAllRequestData();\r\n\t\t\tawait this.getAttachmentFileRequest();\r\n\t\t\tawait this.getAllTemplateForm();\r\n\t\t},\r\n\t\tasync FormData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetFormDataById(this.m_requestDto.id),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet requests = response.data;\r\n\t\t\t\tconsole.log(\"this.formData\", requests);\r\n\t\t\t\tif (requests.length > 0) {\r\n\t\t\t\t\tthis.formData = requests[0];\r\n\t\t\t\t\tthis.form = JSON.parse(this.formData.objectSchema);\r\n\t\t\t\t\tfor (const form_row of this.form) {\r\n\t\t\t\t\t\tfor (const form_col of form_row.elements) {\r\n\t\t\t\t\t\t\tif (form_col.field.name == \"Trường bảng\") {\r\n\t\t\t\t\t\t\t\tthis.headers = JSON.parse(\r\n\t\t\t\t\t\t\t\t\tform_col.field.configSchema.properties\r\n\t\t\t\t\t\t\t\t\t\t.Headers,\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.form = this.form.map((ele) => {\r\n\t\t\t\t\t\tif (ele.elements) {\r\n\t\t\t\t\t\t\tele.elements = ele.elements.map((ele1) => {\r\n\t\t\t\t\t\t\t\tif (ele1.field.configModel.is_required)\r\n\t\t\t\t\t\t\t\t\tele1.field.previewSchema.required =\r\n\t\t\t\t\t\t\t\t\t\tthis.spreadObjectToArray(\r\n\t\t\t\t\t\t\t\t\t\t\tele1.field.previewSchema.properties,\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title.readOnly = false;\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title[\r\n\t\t\t\t\t\t\t\t\t\"x-options\"\r\n\t\t\t\t\t\t\t\t] = { ...this[\"x-options\"] };\r\n\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title = {\r\n\t\t\t\t\t\t\t\t\t...ele1.field.previewSchema.properties\r\n\t\t\t\t\t\t\t\t\t\t.title,\r\n\t\t\t\t\t\t\t\t\t...ele1.field.configModel,\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\treturn ele1;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn ele;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// this.objectToAdd();\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync GetAllUser() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllUserInfos(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.listUserInfos = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete && entry.isActive;\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(\"this.listUserInfos\", this.listUserInfos);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremove(item) {\r\n\t\t\tthis.m_requestDto.userInfos.splice(\r\n\t\t\t\tthis.m_requestDto.userInfos.indexOf(item),\r\n\t\t\t\t1,\r\n\t\t\t);\r\n\t\t},\r\n\t\teditRelateRequestData() {\r\n\t\t\tthis.openRelateRequestData = true;\r\n\t\t},\r\n\t\teditUserInfosRequestData() {\r\n\t\t\tthis.openUserInfosRequestData = true;\r\n\t\t},\r\n\t\teditAttachmentFileRequestData() {\r\n\t\t\tthis.openAttachmentFileRequestData = true;\r\n\t\t},\r\n\t\teditFileRequestData() {\r\n\t\t\tthis.openFileRequestData = true;\r\n\t\t},\r\n\t\tonClose(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.openRelateRequestData = false;\r\n\t\t\t\tthis.openUserInfosRequestData = false;\r\n\t\t\t\tthis.openAttachmentFileRequestData = false;\r\n\t\t\t\tthis.openFileRequestData = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAllRequestData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRequestData(),\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// response = await globalService.getData_Async(\r\n\t\t\t\t// \tadministratorAPI.API_GetAllByUserIdRequestData(\r\n\t\t\t\t// \t\tthis.user_info.id,\r\n\t\t\t\t// \t),\r\n\t\t\t\t// );\r\n\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.requestAll = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.listRequestData = Object.assign([], this.requestAll);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAttachmentFileRequest() {\r\n\t\t\tlet response;\r\n\r\n\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllAttachmentFileByRequestDataId(\r\n\t\t\t\t\tthis.m_requestDto.id,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\tthis.listAttachmentFlieByRequest.push(...response.data);\r\n\t\t},\r\n\t\tasync getAllTemplateForm() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllTemplateForm(),\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.requestAll = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.listTemplateForm = Object.assign([], this.requestAll);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}