{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nimport EditFolderVue from \"../Folder/EditFolder.vue\";\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\nimport Vue from \"vue\";\nimport constant from \"@/common/constant\";\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../administrator.api\";\nimport moment from \"moment\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport UploadFileVue from \"./UploadFile.vue\";\nimport ViewFileVue from \"./ViewFile.vue\";\nimport graphService from \"@/modules/graph/services/graph.service\"; // import authService from \"@/modules/graph/services/auth.service\";\n\nexport default {\n  name: \"FileManagerVue\",\n  components: {\n    BreadcrumbsVue: BreadcrumbsVue,\n    EditFolderVue: EditFolderVue,\n    DeleteDialogVue: DeleteDialogVue,\n    VuePerfectScrollbar: VuePerfectScrollbar,\n    UploadFileVue: UploadFileVue,\n    ViewFileVue: ViewFileVue\n  },\n  data: function data() {\n    return {\n      moment: moment,\n      dialog: {\n        editFolderDialog: false,\n        deleteConfirmDialog: false,\n        uploadFileDialog: false,\n        viewFileDialog: false\n      },\n      root: {\n        idInFileService: \"017bd09e-4377-4b1b-bd0e-f8e55114e6db\",\n        fileName: \"root\",\n        fileExtension: \"\",\n        isFolder: true,\n        children: []\n      },\n      selected: {},\n      editedItem: {},\n      parent: {},\n      active: [],\n      openSync: [],\n      path: [],\n      selectedFile: {},\n      editWindow: null,\n      interval: null,\n      idInMicrosoft: null,\n      headers: [{\n        text: \"\",\n        value: \"fileExtension\"\n      }, {\n        text: this.$t(\"label.name\"),\n        value: \"fileName\"\n      }, {\n        value: \"actions\"\n      }, {\n        text: this.$t(\"label.data_room\"),\n        value: \"DRPath\"\n      }, {\n        text: this.$t(\"label.size\"),\n        value: \"fileSize\"\n      }, {\n        text: this.$t(\"label.modified_name\"),\n        value: \"modified\"\n      }, {\n        text: this.$t(\"label.last_update\"),\n        value: \"modifiedDate\"\n      }],\n      selectedList: []\n    };\n  },\n  watch: {\n    selected: function selected(value) {\n      this.path = this.getPath(this.root.children, value);\n    },\n    selectedFile: function selectedFile() {\n      this.idInMicrosoft = false;\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.initialize();\n\n            case 2:\n              _context.next = 4;\n              return _this.onToggle(_this.root);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  computed: {},\n  methods: {\n    initialize: function initialize() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetRootFolder());\n\n              case 3:\n                response = _context2.sent;\n\n                if (_this2.preHandleResponse(response)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this2.root = response.data;\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.toastError(_context2.t0);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 9]]);\n      }))();\n    },\n    edit: function edit(item, parent) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this3.dialog.editFolderDialog = true;\n                _this3.editedItem = item;\n                _this3.parent = parent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    deleteItem: function deleteItem(item) {\n      this.dialog.deleteConfirmDialog = true;\n      this.selectedList = [item]; // this.editedItem = item;\n    },\n    onConfirmDelete: function onConfirmDelete(value) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!value) {\n                  _context4.next = 24;\n                  break;\n                }\n\n                _this4.onCloseDialog();\n\n                _context4.prev = 2;\n\n                if (!_this4.editedItem.isFolder) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                _context4.next = 6;\n                return globalService.deleteData_Async(administratorAPI.API_Delete365Folder(_this4.editedItem.id));\n\n              case 6:\n                response = _context4.sent;\n                _context4.next = 12;\n                break;\n\n              case 9:\n                _context4.next = 11;\n                return globalService.deleteData_Async(administratorAPI.API_Delete365File(_this4.editedItem.id));\n\n              case 11:\n                response = _context4.sent;\n\n              case 12:\n                if (response) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _this4.toastError(_this4.$t(\"error.delete\")));\n\n              case 14:\n                if (response.state) {\n                  _context4.next = 16;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _this4.toastError(response.message));\n\n              case 16:\n                _this4.toastSuccess(_this4.$t(\"success.delete\"));\n\n                _context4.next = 19;\n                return _this4.onToggle(_this4.root);\n\n              case 19:\n                _context4.next = 24;\n                break;\n\n              case 21:\n                _context4.prev = 21;\n                _context4.t0 = _context4[\"catch\"](2);\n\n                _this4.toastError(_context4.t0);\n\n              case 24:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[2, 21]]);\n      }))();\n    },\n    m_onConfirmDelete: function m_onConfirmDelete(value) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response, _iterator, _step, item;\n\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!value) {\n                  _context5.next = 39;\n                  break;\n                }\n\n                _context5.prev = 1;\n                _iterator = _createForOfIteratorHelper(_this5.selectedList);\n                _context5.prev = 3;\n\n                _iterator.s();\n\n              case 5:\n                if ((_step = _iterator.n()).done) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                item = _step.value;\n\n                if (!item.isFolder) {\n                  _context5.next = 13;\n                  break;\n                }\n\n                _context5.next = 10;\n                return globalService.deleteData_Async(administratorAPI.API_Delete365Folder(item.id));\n\n              case 10:\n                response = _context5.sent;\n                _context5.next = 16;\n                break;\n\n              case 13:\n                _context5.next = 15;\n                return globalService.deleteData_Async(administratorAPI.API_Delete365File(item.id));\n\n              case 15:\n                response = _context5.sent;\n\n              case 16:\n                if (!response) {\n                  _this5.toastError(_this5.$t(\"error.delete\"));\n                }\n\n                if (!response.state) {\n                  _this5.toastError(response.message);\n                }\n\n              case 18:\n                _context5.next = 5;\n                break;\n\n              case 20:\n                _context5.next = 25;\n                break;\n\n              case 22:\n                _context5.prev = 22;\n                _context5.t0 = _context5[\"catch\"](3);\n\n                _iterator.e(_context5.t0);\n\n              case 25:\n                _context5.prev = 25;\n\n                _iterator.f();\n\n                return _context5.finish(25);\n\n              case 28:\n                _this5.toastSuccess(_this5.$t(\"success.delete\"));\n\n                _context5.next = 34;\n                break;\n\n              case 31:\n                _context5.prev = 31;\n                _context5.t1 = _context5[\"catch\"](1);\n\n                _this5.toastError(_context5.t1);\n\n              case 34:\n                _context5.prev = 34;\n\n                _this5.onCloseDialog();\n\n                _context5.next = 38;\n                return _this5.onToggle(_this5.root);\n\n              case 38:\n                return _context5.finish(34);\n\n              case 39:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 31, 34, 39], [3, 22, 25, 28]]);\n      }))();\n    },\n    _loadChild: function _loadChild(item) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return globalService.getData_Async(administratorAPI.API_Get365FolderContent(item.id));\n\n              case 3:\n                response = _context6.sent;\n\n                if (response) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", _this6.toastError(_this6.$t(\"error.load\")));\n\n              case 6:\n                if (response.state) {\n                  _context6.next = 8;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", _this6.toastError(response.message));\n\n              case 8:\n                return _context6.abrupt(\"return\", response.data);\n\n              case 11:\n                _context6.prev = 11;\n                _context6.t0 = _context6[\"catch\"](0);\n\n                _this6.toastError(_context6.t0);\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 11]]);\n      }))();\n    },\n    loadChild: function loadChild(item) {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var children;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _this7.selected = item;\n                _context7.next = 3;\n                return _this7._loadChild(item);\n\n              case 3:\n                children = _context7.sent;\n                item.children = [children];\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    onToggle: function onToggle(value) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var children, _iterator2, _step2, child, tmp;\n\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (value.isFolder) {\n                  _context8.next = 3;\n                  break;\n                }\n\n                _this8.selectedFile = value;\n                return _context8.abrupt(\"return\");\n\n              case 3:\n                _this8.selected = value;\n                _context8.next = 6;\n                return _this8._loadChild(value);\n\n              case 6:\n                children = _context8.sent;\n                Vue.set(value, constant.keys.children, children);\n                _iterator2 = _createForOfIteratorHelper(children);\n                _context8.prev = 9;\n\n                _iterator2.s();\n\n              case 11:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context8.next = 21;\n                  break;\n                }\n\n                child = _step2.value;\n\n                if (child.isFolder) {\n                  _context8.next = 15;\n                  break;\n                }\n\n                return _context8.abrupt(\"continue\", 19);\n\n              case 15:\n                _context8.next = 17;\n                return _this8._loadChild(child);\n\n              case 17:\n                tmp = _context8.sent;\n                Vue.set(child, constant.keys.children, tmp);\n\n              case 19:\n                _context8.next = 11;\n                break;\n\n              case 21:\n                _context8.next = 26;\n                break;\n\n              case 23:\n                _context8.prev = 23;\n                _context8.t0 = _context8[\"catch\"](9);\n\n                _iterator2.e(_context8.t0);\n\n              case 26:\n                _context8.prev = 26;\n\n                _iterator2.f();\n\n                return _context8.finish(26);\n\n              case 29:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[9, 23, 26, 29]]);\n      }))();\n    },\n    onSelect: function onSelect(value) {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _this9.selected = value;\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }))();\n    },\n    onSaveDialog: function onSaveDialog() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _this10.onCloseDialog();\n\n                _this10.selected = _this10.parent;\n                _context10.next = 4;\n                return _this10.onToggle(_this10.root);\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }))();\n    },\n    back: function back() {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var items;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                items = _this11.getPath(_this11.root.children, _this11.selected);\n\n                if (!(!items || items.length < 2)) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                _this11.selected = _this11.root;\n                return _context11.abrupt(\"return\");\n\n              case 4:\n                _this11.selected = items[items.length - 2];\n                _context11.next = 7;\n                return _this11.onToggle(_this11.selected);\n\n              case 7:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }))();\n    },\n    viewFile: function viewFile(item) {\n      var _this12 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _this12.selectedFile = item;\n                _this12.dialog.viewFileDialog = true;\n\n              case 2:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }))();\n    },\n    editFile: function editFile(item) {\n      var _this13 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _this13.selectedFile = item;\n\n                if (item.ofice365Path) {\n                  _context13.next = 3;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\", _this13.toastError(_this13.$t(\"error.system_not_response\")));\n\n              case 3:\n                try {\n                  // if (!authService.user()) {\n                  // \tawait authService.login();\n                  // }\n                  window.open(item.ofice365Path, \"_blank\"); // let description = JSON.parse(item.description);\n                  // let fileResponse = await globalService.downloadBlob_Async(\n                  // \tadministratorAPI.FullAPI_DownloadFileById(\n                  // \t\titem.idInFileService,\n                  // \t\tdescription.contentType,\n                  // \t),\n                  // );\n                  // if (!fileResponse) {\n                  // \treturn this.toastError(this.$t(\"error.load_file\"));\n                  // }\n                  // let uploadResponse = await graphService.uploadFile(\n                  // \t`${item.fileName}.` +\n                  // \t\tthis.convertContentTypeToFileExtension(\n                  // \t\t\tdescription.contentType,\n                  // \t\t),\n                  // \tfileResponse,\n                  // );\n                  // if (!uploadResponse) {\n                  // \treturn this.toastError(\"error.upload_to_office_365\");\n                  // }\n                  // this.idInMicrosoft = uploadResponse.id;\n                  // this.editWindow = window.open(\n                  // \tuploadResponse.webUrl,\n                  // \t\"targetWindow\",\n                  // \t`toolbar=no,\n                  // \tlocation=no,\n                  // \tstatus=no,\n                  // \tmenubar=no,\n                  // \tscrollbars=yes,\n                  // \tresizable=yes,\n                  // \twidth=1600,\n                  // \theight=800`,\n                  // );\n                  // let handler = this._handle;\n                  // this.interval = setInterval(handler, constant.values.interval);\n                } catch (error) {\n                  _this13.toastError(error);\n                }\n\n              case 4:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }))();\n    },\n    _handle: function _handle() {\n      var _this14 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (_this14.editWindow) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 2:\n                if (_this14.editWindow.closed) {\n                  _context14.next = 4;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 4:\n                if (_this14.idInMicrosoft) {\n                  _context14.next = 6;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 6:\n                clearInterval(_this14.interval);\n                _context14.next = 9;\n                return _this14.sync();\n\n              case 9:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }))();\n    },\n    sync: function sync() {\n      var _this15 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n        var getUrlResponse, downloadResponse, updateResponse;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.prev = 0;\n                _context15.next = 3;\n                return graphService.getDownloadUrlByFileId(_this15.idInMicrosoft);\n\n              case 3:\n                getUrlResponse = _context15.sent;\n\n                if (getUrlResponse) {\n                  _context15.next = 6;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", _this15.toastError(_this15.$t(\"error.download_from_office_365\")));\n\n              case 6:\n                _context15.next = 8;\n                return globalService.downloadBlob_Async(getUrlResponse.data[\"@microsoft.graph.downloadUrl\"]);\n\n              case 8:\n                downloadResponse = _context15.sent;\n\n                if (downloadResponse) {\n                  _context15.next = 11;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", _this15.toastError(_this15.$t(\"error.download_from_office_365\")));\n\n              case 11:\n                _context15.next = 13;\n                return globalService.updateFile_Async(administratorAPI.API_UpdateFile(_this15.selectedFile.idInFileService), downloadResponse);\n\n              case 13:\n                updateResponse = _context15.sent;\n\n                if (updateResponse) {\n                  _context15.next = 16;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", _this15.toastError(_this15.$t(\"error.save\")));\n\n              case 16:\n                if (updateResponse.state) {\n                  _context15.next = 18;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", _this15.toastError(updateResponse.message));\n\n              case 18:\n                _this15.editWindow.close();\n\n                _context15.next = 24;\n                break;\n\n              case 21:\n                _context15.prev = 21;\n                _context15.t0 = _context15[\"catch\"](0);\n\n                _this15.toastError(_context15.t0);\n\n              case 24:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, null, [[0, 21]]);\n      }))();\n    },\n    onUpload: function onUpload(value) {\n      var _this16 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                if (!value) {\n                  _context16.next = 4;\n                  break;\n                }\n\n                _this16.onCloseDialog();\n\n                _context16.next = 4;\n                return _this16.onToggle(_this16.selected);\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }))();\n    },\n    _displayFileSize: function _displayFileSize(item) {\n      if (!item) {\n        return;\n      }\n\n      if (item.isFolder) {\n        return;\n      } // let description = JSON.parse(item.description);\n\n\n      return this.displayFileSize(item.fileSize);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","BreadcrumbsVue","EditFolderVue","DeleteDialogVue","VuePerfectScrollbar","UploadFileVue","ViewFileVue","data","moment","dialog","editFolderDialog","deleteConfirmDialog","uploadFileDialog","viewFileDialog","root","idInFileService","fileName","fileExtension","isFolder","children","selected","editedItem","parent","active","openSync","path","selectedFile","editWindow","interval","idInMicrosoft","headers","text","value","selectedList","watch","created","mounted","computed","methods","initialize","globalService","administratorAPI","response","edit","item","deleteItem","onConfirmDelete","m_onConfirmDelete","_loadChild","loadChild","onToggle","Vue","child","tmp","onSelect","onSaveDialog","back","items","viewFile","editFile","window","_handle","clearInterval","sync","graphService","getUrlResponse","downloadResponse","updateResponse","onUpload","_displayFileSize"],"sourceRoot":"src/views/modules/administrator/FileManager","sources":["FileManager.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-dialog persistent v-model=\"dialog.editFolderDialog\" max-width=\"60vw\">\r\n\t\t\t<EditFolderVue\r\n\t\t\t\t:item=\"editedItem\"\r\n\t\t\t\t:parent=\"parent\"\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@save=\"onSaveDialog\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog\r\n\t\t\tpersistent\r\n\t\t\tv-model=\"dialog.deleteConfirmDialog\"\r\n\t\t\twidth=\"fit-content\"\r\n\t\t>\r\n\t\t\t<DeleteDialogVue\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@confirmDelete=\"m_onConfirmDelete\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog persistent v-model=\"dialog.uploadFileDialog\" max-width=\"60vw\">\r\n\t\t\t<UploadFileVue\r\n\t\t\t\t:parent=\"selected\"\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@upload=\"onUpload\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog persistent v-model=\"dialog.viewFileDialog\">\r\n\t\t\t<ViewFileVue :file=\"selectedFile\" @close=\"onCloseDialog\" />\r\n\t\t</v-dialog>\r\n\t\t<v-card elevation=\"0\">\r\n\t\t\t<v-card-title>\r\n\t\t\t\t<v-btn\r\n\t\t\t\t\ttext\r\n\t\t\t\t\tclass=\"rounded-0 text-capitalize font-weight-regular\"\r\n\t\t\t\t\t@click=\"edit({}, selected)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-icon>mdi-plus</v-icon>{{ $t(\"button.insert\") }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn\r\n\t\t\t\t\ttext\r\n\t\t\t\t\tclass=\"rounded-0 text-capitalize font-weight-regular\"\r\n\t\t\t\t\t@click=\"dialog.uploadFileDialog = true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-icon>mdi-cloud-upload-outline </v-icon>\r\n\t\t\t\t\t{{ $t(\"button.update_btn\") }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn\r\n\t\t\t\t\ttext\r\n\t\t\t\t\tclass=\"rounded-0 text-capitalize font-weight-regular\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-icon>mdi-cloud-sync</v-icon>{{ $t(\"button.sync\") }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn\r\n\t\t\t\t\ttext\r\n\t\t\t\t\tclass=\"rounded-0 text-capitalize font-weight-regular\"\r\n\t\t\t\t\t@click=\"dialog.deleteConfirmDialog = true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-icon>mdi-trash-can-outline </v-icon>\r\n\t\t\t\t\t{{ $t(\"button.delete\") }}\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t</v-card-title>\r\n\t\t</v-card>\r\n\t\t<v-card elevation=\"0\">\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col cols=\"12\" md=\"3\">\r\n\t\t\t\t\t<VuePerfectScrollbar>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<tree-item\r\n\t\t\t\t\t\t\t\t:item=\"root\"\r\n\t\t\t\t\t\t\t\t@toggle=\"onToggle\"\r\n\t\t\t\t\t\t\t></tree-item>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-divider vertical></v-divider>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-toolbar elevation=\"0\">\r\n\t\t\t\t\t\t<v-btn icon @click=\"back\">\r\n\t\t\t\t\t\t\t<v-icon>mdi-arrow-left </v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t<v-breadcrumbs v-if=\"path\" :items=\"[root, ...path]\">\r\n\t\t\t\t\t\t\t<template v-slot:item=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<v-breadcrumbs-item>\r\n\t\t\t\t\t\t\t\t\t{{ item.fileName }}\r\n\t\t\t\t\t\t\t\t</v-breadcrumbs-item>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-breadcrumbs>\r\n\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<VuePerfectScrollbar>\r\n\t\t\t\t\t\t<v-skeleton-loader\r\n\t\t\t\t\t\t\tv-if=\"!selected.children\"\r\n\t\t\t\t\t\t\ttype=\"table-heading, list-item-two-line, image, table-tfoot\"\r\n\t\t\t\t\t\t></v-skeleton-loader>\r\n\t\t\t\t\t\t<v-data-table\r\n\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\tv-model=\"selectedList\"\r\n\t\t\t\t\t\t\t:headers=\"headers\"\r\n\t\t\t\t\t\t\t:items=\"selected.children\"\r\n\t\t\t\t\t\t\titem-key=\"id\"\r\n\t\t\t\t\t\t\tshow-select\r\n\t\t\t\t\t\t\t:items-per-page=\"-1\"\r\n\t\t\t\t\t\t\thide-default-footer\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.fileExtension`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<v-icon v-if=\"!item.isFolder\">\r\n\t\t\t\t\t\t\t\t\t\t{{ m_files_icon[item.fileExtension] }}\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-icon v-else color=\"yellow darken-2\">\r\n\t\t\t\t\t\t\t\t\t\t{{ m_files_icon[\"\"] }}\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.fileName`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\t@dblclick=\"onToggle(item)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span class=\"underline\">\r\n\t\t\t\t\t\t\t\t\t\t{{ item.fileName }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.fileSize`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"!item.isFolder\">\r\n\t\t\t\t\t\t\t\t\t\t{{ _displayFileSize(item) }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.modified`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<m-user-chip :item=\"item.modified\" />\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.modifiedDate`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\tmoment(item.modifiedDate).format(\r\n\t\t\t\t\t\t\t\t\t\t\tdateTimeFormat,\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-slot:[`item.actions`]=\"{ item }\">\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<v-menu offset-y>\r\n\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\tv-slot:activator=\"{ on, attrs }\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>mdi-dots-vertical</v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<v-list>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item.isFolder\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"edit({}, item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"green darken-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-plus-circle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"button.create_folder\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!item.isFolder\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"viewFile(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"green darken-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-eye-circle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"button.view\") }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"!item.isFolder\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"editFile(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"green darken-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-pencil-circle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\"button.edit_online\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"edit(item, selected)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"blue darken-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-pencil-circle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"button.edit_info\") }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"deleteItem(item)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"red darken-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-delete-circle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"button.delete\") }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\t\t</v-list>\r\n\t\t\t\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t</v-card>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\nimport EditFolderVue from \"../Folder/EditFolder.vue\";\r\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\r\nimport Vue from \"vue\";\r\nimport constant from \"@/common/constant\";\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../administrator.api\";\r\nimport moment from \"moment\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport UploadFileVue from \"./UploadFile.vue\";\r\nimport ViewFileVue from \"./ViewFile.vue\";\r\nimport graphService from \"@/modules/graph/services/graph.service\";\r\n// import authService from \"@/modules/graph/services/auth.service\";\r\n\r\nexport default {\r\n\tname: \"FileManagerVue\",\r\n\tcomponents: {\r\n\t\tBreadcrumbsVue,\r\n\t\tEditFolderVue,\r\n\t\tDeleteDialogVue,\r\n\t\tVuePerfectScrollbar,\r\n\t\tUploadFileVue,\r\n\t\tViewFileVue,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmoment: moment,\r\n\t\t\tdialog: {\r\n\t\t\t\teditFolderDialog: false,\r\n\t\t\t\tdeleteConfirmDialog: false,\r\n\t\t\t\tuploadFileDialog: false,\r\n\t\t\t\tviewFileDialog: false,\r\n\t\t\t},\r\n\r\n\t\t\troot: {\r\n\t\t\t\tidInFileService: \"017bd09e-4377-4b1b-bd0e-f8e55114e6db\",\r\n\t\t\t\tfileName: \"root\",\r\n\t\t\t\tfileExtension: \"\",\r\n\t\t\t\tisFolder: true,\r\n\t\t\t\tchildren: [],\r\n\t\t\t},\r\n\t\t\tselected: {},\r\n\t\t\teditedItem: {},\r\n\t\t\tparent: {},\r\n\t\t\tactive: [],\r\n\t\t\topenSync: [],\r\n\t\t\tpath: [],\r\n\t\t\tselectedFile: {},\r\n\t\t\teditWindow: null,\r\n\t\t\tinterval: null,\r\n\t\t\tidInMicrosoft: null,\r\n\t\t\theaders: [\r\n\t\t\t\t{ text: \"\", value: \"fileExtension\" },\r\n\t\t\t\t{ text: this.$t(\"label.name\"), value: \"fileName\" },\r\n\t\t\t\t{ value: \"actions\" },\r\n\t\t\t\t{ text: this.$t(\"label.data_room\"), value: \"DRPath\" },\r\n\t\t\t\t{ text: this.$t(\"label.size\"), value: \"fileSize\" },\r\n\t\t\t\t{ text: this.$t(\"label.modified_name\"), value: \"modified\" },\r\n\t\t\t\t{ text: this.$t(\"label.last_update\"), value: \"modifiedDate\" },\r\n\t\t\t],\r\n\t\t\tselectedList: [],\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tselected(value) {\r\n\t\t\tthis.path = this.getPath(this.root.children, value);\r\n\t\t},\r\n\t\tselectedFile() {\r\n\t\t\tthis.idInMicrosoft = false;\r\n\t\t},\r\n\t},\r\n\tcreated() {},\r\n\tasync mounted() {\r\n\t\tawait this.initialize();\r\n\t\tawait this.onToggle(this.root);\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tasync initialize() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetRootFolder(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!this.preHandleResponse(response)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.root = response.data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync edit(item, parent) {\r\n\t\t\tthis.dialog.editFolderDialog = true;\r\n\t\t\tthis.editedItem = item;\r\n\t\t\tthis.parent = parent;\r\n\t\t},\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.dialog.deleteConfirmDialog = true;\r\n\t\t\tthis.selectedList = [item];\r\n\t\t\t// this.editedItem = item;\r\n\t\t},\r\n\t\tasync onConfirmDelete(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t\tlet response;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.editedItem.isFolder) {\r\n\t\t\t\t\t\tresponse = await globalService.deleteData_Async(\r\n\t\t\t\t\t\t\tadministratorAPI.API_Delete365Folder(\r\n\t\t\t\t\t\t\t\tthis.editedItem.id,\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresponse = await globalService.deleteData_Async(\r\n\t\t\t\t\t\t\tadministratorAPI.API_Delete365File(\r\n\t\t\t\t\t\t\t\tthis.editedItem.id,\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!response) {\r\n\t\t\t\t\t\treturn this.toastError(this.$t(\"error.delete\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!response.state) {\r\n\t\t\t\t\t\treturn this.toastError(response.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"success.delete\"));\r\n\t\t\t\t\tawait this.onToggle(this.root);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.toastError(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync m_onConfirmDelete(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tlet response;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (let item of this.selectedList) {\r\n\t\t\t\t\t\tif (item.isFolder) {\r\n\t\t\t\t\t\t\tresponse = await globalService.deleteData_Async(\r\n\t\t\t\t\t\t\t\tadministratorAPI.API_Delete365Folder(item.id),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresponse = await globalService.deleteData_Async(\r\n\t\t\t\t\t\t\t\tadministratorAPI.API_Delete365File(item.id),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!response) {\r\n\t\t\t\t\t\t\tthis.toastError(this.$t(\"error.delete\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!response.state) {\r\n\t\t\t\t\t\t\tthis.toastError(response.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"success.delete\"));\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.toastError(error);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.onCloseDialog();\r\n\t\t\t\t\tawait this.onToggle(this.root);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync _loadChild(item) {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_Get365FolderContent(item.id),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"error.load\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\treturn this.toastError(response.message);\r\n\t\t\t\t}\r\n\t\t\t\treturn response.data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync loadChild(item) {\r\n\t\t\tthis.selected = item;\r\n\t\t\tlet children = await this._loadChild(item);\r\n\t\t\titem.children = [children];\r\n\t\t},\r\n\t\tasync onToggle(value) {\r\n\t\t\tif (!value.isFolder) {\r\n\t\t\t\tthis.selectedFile = value;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.selected = value;\r\n\t\t\tlet children = await this._loadChild(value);\r\n\t\t\tVue.set(value, constant.keys.children, children);\r\n\t\t\tfor (let child of children) {\r\n\t\t\t\tif (!child.isFolder) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tlet tmp = await this._loadChild(child);\r\n\t\t\t\tVue.set(child, constant.keys.children, tmp);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onSelect(value) {\r\n\t\t\tthis.selected = value;\r\n\t\t},\r\n\t\tasync onSaveDialog() {\r\n\t\t\tthis.onCloseDialog();\r\n\t\t\tthis.selected = this.parent;\r\n\t\t\tawait this.onToggle(this.root);\r\n\t\t},\r\n\t\tasync back() {\r\n\t\t\tlet items = this.getPath(this.root.children, this.selected);\r\n\t\t\tif (!items || items.length < 2) {\r\n\t\t\t\tthis.selected = this.root;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.selected = items[items.length - 2];\r\n\t\t\tawait this.onToggle(this.selected);\r\n\t\t},\r\n\t\tasync viewFile(item) {\r\n\t\t\tthis.selectedFile = item;\r\n\t\t\tthis.dialog.viewFileDialog = true;\r\n\t\t},\r\n\t\tasync editFile(item) {\r\n\t\t\tthis.selectedFile = item;\r\n\t\t\tif (!item.ofice365Path) {\r\n\t\t\t\treturn this.toastError(this.$t(\"error.system_not_response\"));\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\t// if (!authService.user()) {\r\n\t\t\t\t// \tawait authService.login();\r\n\t\t\t\t// }\r\n\t\t\t\twindow.open(item.ofice365Path, \"_blank\");\r\n\t\t\t\t// let description = JSON.parse(item.description);\r\n\t\t\t\t// let fileResponse = await globalService.downloadBlob_Async(\r\n\t\t\t\t// \tadministratorAPI.FullAPI_DownloadFileById(\r\n\t\t\t\t// \t\titem.idInFileService,\r\n\t\t\t\t// \t\tdescription.contentType,\r\n\t\t\t\t// \t),\r\n\t\t\t\t// );\r\n\t\t\t\t// if (!fileResponse) {\r\n\t\t\t\t// \treturn this.toastError(this.$t(\"error.load_file\"));\r\n\t\t\t\t// }\r\n\t\t\t\t// let uploadResponse = await graphService.uploadFile(\r\n\t\t\t\t// \t`${item.fileName}.` +\r\n\t\t\t\t// \t\tthis.convertContentTypeToFileExtension(\r\n\t\t\t\t// \t\t\tdescription.contentType,\r\n\t\t\t\t// \t\t),\r\n\t\t\t\t// \tfileResponse,\r\n\t\t\t\t// );\r\n\r\n\t\t\t\t// if (!uploadResponse) {\r\n\t\t\t\t// \treturn this.toastError(\"error.upload_to_office_365\");\r\n\t\t\t\t// }\r\n\t\t\t\t// this.idInMicrosoft = uploadResponse.id;\r\n\t\t\t\t// this.editWindow = window.open(\r\n\t\t\t\t// \tuploadResponse.webUrl,\r\n\t\t\t\t// \t\"targetWindow\",\r\n\t\t\t\t// \t`toolbar=no,\r\n\t\t\t\t// \tlocation=no,\r\n\t\t\t\t// \tstatus=no,\r\n\t\t\t\t// \tmenubar=no,\r\n\t\t\t\t// \tscrollbars=yes,\r\n\t\t\t\t// \tresizable=yes,\r\n\t\t\t\t// \twidth=1600,\r\n\t\t\t\t// \theight=800`,\r\n\t\t\t\t// );\r\n\t\t\t\t// let handler = this._handle;\r\n\t\t\t\t// this.interval = setInterval(handler, constant.values.interval);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync _handle() {\r\n\t\t\tif (!this.editWindow) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.editWindow.closed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.idInMicrosoft) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearInterval(this.interval);\r\n\t\t\tawait this.sync();\r\n\t\t},\r\n\t\tasync sync() {\r\n\t\t\ttry {\r\n\t\t\t\tlet getUrlResponse = await graphService.getDownloadUrlByFileId(\r\n\t\t\t\t\tthis.idInMicrosoft,\r\n\t\t\t\t);\r\n\t\t\t\tif (!getUrlResponse) {\r\n\t\t\t\t\treturn this.toastError(\r\n\t\t\t\t\t\tthis.$t(\"error.download_from_office_365\"),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tlet downloadResponse = await globalService.downloadBlob_Async(\r\n\t\t\t\t\tgetUrlResponse.data[\"@microsoft.graph.downloadUrl\"],\r\n\t\t\t\t);\r\n\t\t\t\tif (!downloadResponse) {\r\n\t\t\t\t\treturn this.toastError(\r\n\t\t\t\t\t\tthis.$t(\"error.download_from_office_365\"),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tlet updateResponse = await globalService.updateFile_Async(\r\n\t\t\t\t\tadministratorAPI.API_UpdateFile(\r\n\t\t\t\t\t\tthis.selectedFile.idInFileService,\r\n\t\t\t\t\t),\r\n\t\t\t\t\tdownloadResponse,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!updateResponse) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"error.save\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!updateResponse.state) {\r\n\t\t\t\t\treturn this.toastError(updateResponse.message);\r\n\t\t\t\t}\r\n\t\t\t\tthis.editWindow.close();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onUpload(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t\tawait this.onToggle(this.selected);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_displayFileSize(item) {\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (item.isFolder) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// let description = JSON.parse(item.description);\r\n\t\t\treturn this.displayFileSize(item.fileSize);\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}