{"ast":null,"code":"import _typeof from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.match.js\";\n\n// Inspired by this without the fs references :\n// https://github.com/coderofsalvation/json-ref-lite/blob/master/index.js\nvar expr = require('property-expr');\n\nvar jrefs = {};\njrefs.cache = {};\njrefs.extendtoken = '$extend';\njrefs.reftoken = '$ref';\njrefs.pathtoken = '#';\njrefs.debug = false;\n\njrefs.clone = function (obj) {\n  var key, temp;\n\n  if (obj === null || _typeof(obj) !== 'object' || typeof obj === 'function') {\n    return obj;\n  }\n\n  temp = obj.constructor();\n\n  for (key in obj) {\n    temp[key] = jrefs.clone(obj[key]);\n  }\n\n  return temp;\n};\n\njrefs.findIds = function (json, ids) {\n  var id, k, obj, v;\n  id = false;\n  obj = {};\n\n  for (k in json) {\n    v = json[k];\n\n    if (json.id != null) {\n      id = json.id;\n    }\n\n    if (id && k !== 'id') {\n      obj[k] = v;\n    }\n\n    if (_typeof(v) === 'object') {\n      jrefs.findIds(v, ids);\n    }\n  }\n\n  if (id) {\n    ids[id] = obj;\n    return obj;\n  }\n};\n\njrefs.get_json_pointer = function (ref, root, replacements) {\n  var evalstr;\n  evalstr = ref.replace(/\\\\\\//, '#SLASH#').replace(/\\//g, '.').replace(/#SLASH#/, '/');\n  evalstr = evalstr.replace(new RegExp('^' + jrefs.pathtoken), '');\n\n  if (evalstr[0] === '.') {\n    evalstr = evalstr.substr(1, evalstr.length - 1);\n  }\n\n  var combinations = [evalstr];\n  Object.keys(replacements).forEach(function (key) {\n    var values = Array.isArray(replacements[key]) ? replacements[key] : [replacements[key]];\n    values.forEach(function (value) {\n      combinations.forEach(function (c) {\n        if (c.includes(key)) combinations.push(c.replace(key, value));\n      });\n    });\n  });\n  var error;\n\n  for (var _i = 0, _combinations = combinations; _i < _combinations.length; _i++) {\n    var combination = _combinations[_i];\n    if (jrefs.debug) console.log(\"evaluating '\" + evalstr + \"'\");\n\n    try {\n      var result = expr.getter(combination)(root);\n      if (result) return result;\n    } catch (err) {\n      error = err;\n    }\n  }\n\n  if (error) console.error(error);\n  return '';\n};\n\njrefs.replace = function (json, ids, root, replacements) {\n  var k, ref, ref1, ref2, results, v;\n  results = [];\n\n  for (k in json) {\n    v = json[k];\n\n    if (jrefs.debug && typeof ref === 'string') {\n      console.log('checking ' + k);\n    }\n\n    if (v != null && v[jrefs.reftoken] != null) {\n      ref = v[jrefs.reftoken];\n\n      if (jrefs.debug && typeof ref === 'string') {\n        console.log('checking ' + k + ' -> ' + ref);\n      }\n\n      if (Object.keys(v).length > 1) {\n        console.error(\"json-ref-lite error: object '\" + k + \"' contains reference as well as other properties..ignoring properties\");\n      }\n\n      if (Array.isArray(ref)) {\n        ref = jrefs.replace(ref, ids, root, replacements);\n      } else if (ids[ref] != null) {\n        json[k] = ids[ref];\n      } else if (String(ref).match(new RegExp('^' + jrefs.pathtoken))) {\n        if (jrefs.debug) {\n          console.log('checking ' + ref + ' pathtoken');\n        }\n\n        json[k] = jrefs.get_json_pointer(ref, root, replacements);\n      }\n\n      if (((ref1 = json[k]) != null ? ref1.length : void 0) != null && ((ref2 = json[k]) != null ? ref2.length : void 0) === 0 && jrefs.debug) {\n        results.push(console.log(ref + ' reference not found'));\n      } else {\n        results.push(void 0);\n      }\n    } else {\n      if (_typeof(v) === 'object') {\n        results.push(jrefs.replace(v, ids, root, replacements));\n      } else {\n        results.push(void 0);\n      }\n    }\n  }\n\n  return results;\n};\n\njrefs.extend = function (json, replacements) {\n  var k, ref, results, rk, rv, v;\n\n  if (_typeof(json) === 'object') {\n    results = [];\n\n    for (k in json) {\n      v = json[k];\n\n      if (k === jrefs.extendtoken && v[jrefs.reftoken] != null) {\n        ref = jrefs.get_json_pointer(v[jrefs.reftoken], json, replacements);\n\n        for (rk in v) {\n          rv = v[rk];\n\n          if (rk !== jrefs.reftoken) {\n            ref[rk] = rv;\n          }\n        }\n\n        delete json[k];\n      }\n\n      if (_typeof(v) === 'object') {\n        results.push(v = jrefs.extend(v));\n      } else {\n        results.push(void 0);\n      }\n    }\n\n    return results;\n  }\n};\n\njrefs.resolve = function (json, replacements) {\n  var ids;\n  ids = {};\n  jrefs.findIds(json, ids);\n\n  if (jrefs.debug && Object.keys(ids).length) {\n    console.dir(ids);\n  }\n\n  jrefs.replace(json, ids, json, replacements);\n  return json;\n};\n\njrefs.evaluate = function (json, data, cb) {\n  var k, ref1, v;\n\n  if (cb == null) {\n    cb = jrefs.evaluateStr;\n  }\n\n  ref1 = jrefs.clone(json);\n\n  for (k in ref1) {\n    v = ref1[k];\n\n    if (typeof v === 'string') {\n      json[k] = cb(v, data);\n    }\n\n    if (_typeof(v) === 'object') {\n      json[k] = jrefs.evaluate(v, data);\n    }\n  }\n\n  return json;\n};\n\njrefs.evaluateStr = function (k, data) {\n  var itemstr;\n\n  if (typeof k !== 'string') {\n    return k;\n  }\n\n  if (k[0] === '{' && k[k.length - 1] === '}') {\n    try {\n      return expr.getter(k.replace(/^{/, '').replace(/}$/, ''))(data);\n    } catch (error) {\n      return null;\n    }\n  } else {\n    itemstr = k.replace(/(\\{)(.*?)(\\})/g, function ($0, $1, $2) {\n      var result;\n      result = '';\n\n      if (data == null || $2 == null) {\n        return result;\n      }\n\n      if (data[$2] != null && typeof data[$2] === 'function') {\n        result = data[$2]();\n      } else {\n        if (data[$2] != null) {\n          result = data[$2];\n        } else {\n          try {\n            $2 = $2.replace(new RegExp('^' + jrefs.pathtoken + '\\/'), '').replace(/\\//g, '.');\n            result = expr.getter($2)(data);\n          } catch (error1) {\n            err = error1;\n            result = '';\n          }\n\n          if (result == null) {\n            result = '';\n          }\n        }\n      }\n\n      jrefs.evaluateStr(result, data);\n      return result;\n    });\n    return itemstr;\n  }\n};\n\nexport default jrefs;","map":{"version":3,"names":["expr","require","jrefs","cache","extendtoken","reftoken","pathtoken","debug","clone","obj","key","temp","constructor","findIds","json","ids","id","k","v","get_json_pointer","ref","root","replacements","evalstr","replace","RegExp","substr","length","combinations","Object","keys","forEach","values","Array","isArray","value","c","includes","push","error","combination","console","log","result","getter","err","ref1","ref2","results","String","match","extend","rk","rv","resolve","dir","evaluate","data","cb","evaluateStr","itemstr","$0","$1","$2","error1"],"sources":["C:/Users/nam/OneDrive/Máy tính/New folder/node_modules/@koumoul/vjsf/lib/utils/json-refs.js"],"sourcesContent":["// Inspired by this without the fs references :\n// https://github.com/coderofsalvation/json-ref-lite/blob/master/index.js\n\nvar expr = require('property-expr')\n\nconst jrefs = {}\njrefs.cache = {}\njrefs.extendtoken = '$extend'\njrefs.reftoken = '$ref'\njrefs.pathtoken = '#'\njrefs.debug = false\njrefs.clone = function(obj) {\n  var key, temp\n  if (obj === null || typeof obj !== 'object' || typeof obj === 'function') {\n    return obj\n  }\n  temp = obj.constructor()\n  for (key in obj) {\n    temp[key] = jrefs.clone(obj[key])\n  }\n  return temp\n}\njrefs.findIds = function(json, ids) {\n  var id, k, obj, v\n  id = false\n  obj = {}\n  for (k in json) {\n    v = json[k]\n    if (json.id != null) {\n      id = json.id\n    }\n    if (id && k !== 'id') {\n      obj[k] = v\n    }\n    if (typeof v === 'object') {\n      jrefs.findIds(v, ids)\n    }\n  }\n  if (id) {\n    ids[id] = obj\n    return obj\n  }\n}\njrefs.get_json_pointer = function(ref, root, replacements) {\n  var evalstr\n  evalstr = ref.replace(/\\\\\\//, '#SLASH#').replace(/\\//g, '.').replace(/#SLASH#/, '/')\n  evalstr = evalstr.replace(new RegExp('^' + jrefs.pathtoken), '')\n  if (evalstr[0] === '.') {\n    evalstr = evalstr.substr(1, evalstr.length - 1)\n  }\n  var combinations = [evalstr]\n  Object.keys(replacements).forEach(key => {\n    const values = Array.isArray(replacements[key]) ? replacements[key] : [replacements[key]]\n    values.forEach(value => {\n      combinations.forEach(c => {\n        if (c.includes(key)) combinations.push(c.replace(key, value))\n      })\n    })\n  })\n  var error\n  for (const combination of combinations) {\n    if (jrefs.debug) console.log(\"evaluating '\" + evalstr + \"'\")\n    try {\n      var result = expr.getter(combination)(root)\n      if (result) return result\n    } catch (err) {\n      error = err\n    }\n  }\n  if (error) console.error(error)\n  return ''\n}\njrefs.replace = function(json, ids, root, replacements) {\n  var k, ref, ref1, ref2, results, v\n  results = []\n  for (k in json) {\n    v = json[k]\n    if (jrefs.debug && typeof ref === 'string') {\n      console.log('checking ' + k)\n    }\n    if ((v != null) && (v[jrefs.reftoken] != null)) {\n      ref = v[jrefs.reftoken]\n      if (jrefs.debug && typeof ref === 'string') {\n        console.log('checking ' + k + ' -> ' + ref)\n      }\n      if (Object.keys(v).length > 1) {\n        console.error(\"json-ref-lite error: object '\" + k + \"' contains reference as well as other properties..ignoring properties\")\n      }\n      if (Array.isArray(ref)) {\n        ref = jrefs.replace(ref, ids, root, replacements)\n      } else if (ids[ref] != null) {\n        json[k] = ids[ref]\n      } else if (String(ref).match(new RegExp('^' + jrefs.pathtoken))) {\n        if (jrefs.debug) {\n          console.log('checking ' + ref + ' pathtoken')\n        }\n        json[k] = jrefs.get_json_pointer(ref, root, replacements)\n      }\n      if ((((ref1 = json[k]) != null ? ref1.length : void 0) != null) && ((ref2 = json[k]) != null ? ref2.length : void 0) === 0 && jrefs.debug) {\n        results.push(console.log(ref + ' reference not found'))\n      } else {\n        results.push(void 0)\n      }\n    } else {\n      if (typeof v === 'object') {\n        results.push(jrefs.replace(v, ids, root, replacements))\n      } else {\n        results.push(void 0)\n      }\n    }\n  }\n  return results\n}\njrefs.extend = function(json, replacements) {\n  var k, ref, results, rk, rv, v\n  if (typeof json === 'object') {\n    results = []\n    for (k in json) {\n      v = json[k]\n      if (k === jrefs.extendtoken && (v[jrefs.reftoken] != null)) {\n        ref = jrefs.get_json_pointer(v[jrefs.reftoken], json, replacements)\n        for (rk in v) {\n          rv = v[rk]\n          if (rk !== jrefs.reftoken) {\n            ref[rk] = rv\n          }\n        }\n        delete json[k]\n      }\n      if (typeof v === 'object') {\n        results.push(v = jrefs.extend(v))\n      } else {\n        results.push(void 0)\n      }\n    }\n    return results\n  }\n}\njrefs.resolve = function(json, replacements) {\n  var ids\n  ids = {}\n  jrefs.findIds(json, ids)\n  if (jrefs.debug && Object.keys(ids).length) {\n    console.dir(ids)\n  }\n  jrefs.replace(json, ids, json, replacements)\n  return json\n}\njrefs.evaluate = function(json, data, cb) {\n  var k, ref1, v\n  if (cb == null) {\n    cb = jrefs.evaluateStr\n  }\n  ref1 = jrefs.clone(json)\n  for (k in ref1) {\n    v = ref1[k]\n    if (typeof v === 'string') {\n      json[k] = cb(v, data)\n    }\n    if (typeof v === 'object') {\n      json[k] = jrefs.evaluate(v, data)\n    }\n  }\n  return json\n}\njrefs.evaluateStr = function(k, data) {\n  var itemstr\n  if (typeof k !== 'string') {\n    return k\n  }\n  if (k[0] === '{' && k[k.length - 1] === '}') {\n    try {\n      return expr.getter(k.replace(/^{/, '').replace(/}$/, ''))(data)\n    } catch (error) {\n      return null\n    }\n  } else {\n    itemstr = k.replace(/(\\{)(.*?)(\\})/g, function($0, $1, $2) {\n      var result\n      result = ''\n      if ((data == null) || ($2 == null)) {\n        return result\n      }\n      if ((data[$2] != null) && typeof data[$2] === 'function') {\n        result = data[$2]()\n      } else {\n        if (data[$2] != null) {\n          result = data[$2]\n        } else {\n          try {\n            $2 = $2.replace(new RegExp('^' + jrefs.pathtoken + '\\/'), '').replace(/\\//g, '.')\n            result = expr.getter($2)(data)\n          } catch (error1) {\n            err = error1\n            result = ''\n          }\n          if (result == null) {\n            result = ''\n          }\n        }\n      }\n      jrefs.evaluateStr(result, data)\n      return result\n    })\n    return itemstr\n  }\n}\n\nexport default jrefs\n"],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,eAAD,CAAlB;;AAEA,IAAMC,KAAK,GAAG,EAAd;AACAA,KAAK,CAACC,KAAN,GAAc,EAAd;AACAD,KAAK,CAACE,WAAN,GAAoB,SAApB;AACAF,KAAK,CAACG,QAAN,GAAiB,MAAjB;AACAH,KAAK,CAACI,SAAN,GAAkB,GAAlB;AACAJ,KAAK,CAACK,KAAN,GAAc,KAAd;;AACAL,KAAK,CAACM,KAAN,GAAc,UAASC,GAAT,EAAc;EAC1B,IAAIC,GAAJ,EAASC,IAAT;;EACA,IAAIF,GAAG,KAAK,IAAR,IAAgB,QAAOA,GAAP,MAAe,QAA/B,IAA2C,OAAOA,GAAP,KAAe,UAA9D,EAA0E;IACxE,OAAOA,GAAP;EACD;;EACDE,IAAI,GAAGF,GAAG,CAACG,WAAJ,EAAP;;EACA,KAAKF,GAAL,IAAYD,GAAZ,EAAiB;IACfE,IAAI,CAACD,GAAD,CAAJ,GAAYR,KAAK,CAACM,KAAN,CAAYC,GAAG,CAACC,GAAD,CAAf,CAAZ;EACD;;EACD,OAAOC,IAAP;AACD,CAVD;;AAWAT,KAAK,CAACW,OAAN,GAAgB,UAASC,IAAT,EAAeC,GAAf,EAAoB;EAClC,IAAIC,EAAJ,EAAQC,CAAR,EAAWR,GAAX,EAAgBS,CAAhB;EACAF,EAAE,GAAG,KAAL;EACAP,GAAG,GAAG,EAAN;;EACA,KAAKQ,CAAL,IAAUH,IAAV,EAAgB;IACdI,CAAC,GAAGJ,IAAI,CAACG,CAAD,CAAR;;IACA,IAAIH,IAAI,CAACE,EAAL,IAAW,IAAf,EAAqB;MACnBA,EAAE,GAAGF,IAAI,CAACE,EAAV;IACD;;IACD,IAAIA,EAAE,IAAIC,CAAC,KAAK,IAAhB,EAAsB;MACpBR,GAAG,CAACQ,CAAD,CAAH,GAASC,CAAT;IACD;;IACD,IAAI,QAAOA,CAAP,MAAa,QAAjB,EAA2B;MACzBhB,KAAK,CAACW,OAAN,CAAcK,CAAd,EAAiBH,GAAjB;IACD;EACF;;EACD,IAAIC,EAAJ,EAAQ;IACND,GAAG,CAACC,EAAD,CAAH,GAAUP,GAAV;IACA,OAAOA,GAAP;EACD;AACF,CApBD;;AAqBAP,KAAK,CAACiB,gBAAN,GAAyB,UAASC,GAAT,EAAcC,IAAd,EAAoBC,YAApB,EAAkC;EACzD,IAAIC,OAAJ;EACAA,OAAO,GAAGH,GAAG,CAACI,OAAJ,CAAY,MAAZ,EAAoB,SAApB,EAA+BA,OAA/B,CAAuC,KAAvC,EAA8C,GAA9C,EAAmDA,OAAnD,CAA2D,SAA3D,EAAsE,GAAtE,CAAV;EACAD,OAAO,GAAGA,OAAO,CAACC,OAAR,CAAgB,IAAIC,MAAJ,CAAW,MAAMvB,KAAK,CAACI,SAAvB,CAAhB,EAAmD,EAAnD,CAAV;;EACA,IAAIiB,OAAO,CAAC,CAAD,CAAP,KAAe,GAAnB,EAAwB;IACtBA,OAAO,GAAGA,OAAO,CAACG,MAAR,CAAe,CAAf,EAAkBH,OAAO,CAACI,MAAR,GAAiB,CAAnC,CAAV;EACD;;EACD,IAAIC,YAAY,GAAG,CAACL,OAAD,CAAnB;EACAM,MAAM,CAACC,IAAP,CAAYR,YAAZ,EAA0BS,OAA1B,CAAkC,UAAArB,GAAG,EAAI;IACvC,IAAMsB,MAAM,GAAGC,KAAK,CAACC,OAAN,CAAcZ,YAAY,CAACZ,GAAD,CAA1B,IAAmCY,YAAY,CAACZ,GAAD,CAA/C,GAAuD,CAACY,YAAY,CAACZ,GAAD,CAAb,CAAtE;IACAsB,MAAM,CAACD,OAAP,CAAe,UAAAI,KAAK,EAAI;MACtBP,YAAY,CAACG,OAAb,CAAqB,UAAAK,CAAC,EAAI;QACxB,IAAIA,CAAC,CAACC,QAAF,CAAW3B,GAAX,CAAJ,EAAqBkB,YAAY,CAACU,IAAb,CAAkBF,CAAC,CAACZ,OAAF,CAAUd,GAAV,EAAeyB,KAAf,CAAlB;MACtB,CAFD;IAGD,CAJD;EAKD,CAPD;EAQA,IAAII,KAAJ;;EACA,iCAA0BX,YAA1B,mCAAwC;IAAnC,IAAMY,WAAW,oBAAjB;IACH,IAAItC,KAAK,CAACK,KAAV,EAAiBkC,OAAO,CAACC,GAAR,CAAY,iBAAiBnB,OAAjB,GAA2B,GAAvC;;IACjB,IAAI;MACF,IAAIoB,MAAM,GAAG3C,IAAI,CAAC4C,MAAL,CAAYJ,WAAZ,EAAyBnB,IAAzB,CAAb;MACA,IAAIsB,MAAJ,EAAY,OAAOA,MAAP;IACb,CAHD,CAGE,OAAOE,GAAP,EAAY;MACZN,KAAK,GAAGM,GAAR;IACD;EACF;;EACD,IAAIN,KAAJ,EAAWE,OAAO,CAACF,KAAR,CAAcA,KAAd;EACX,OAAO,EAAP;AACD,CA5BD;;AA6BArC,KAAK,CAACsB,OAAN,GAAgB,UAASV,IAAT,EAAeC,GAAf,EAAoBM,IAApB,EAA0BC,YAA1B,EAAwC;EACtD,IAAIL,CAAJ,EAAOG,GAAP,EAAY0B,IAAZ,EAAkBC,IAAlB,EAAwBC,OAAxB,EAAiC9B,CAAjC;EACA8B,OAAO,GAAG,EAAV;;EACA,KAAK/B,CAAL,IAAUH,IAAV,EAAgB;IACdI,CAAC,GAAGJ,IAAI,CAACG,CAAD,CAAR;;IACA,IAAIf,KAAK,CAACK,KAAN,IAAe,OAAOa,GAAP,KAAe,QAAlC,EAA4C;MAC1CqB,OAAO,CAACC,GAAR,CAAY,cAAczB,CAA1B;IACD;;IACD,IAAKC,CAAC,IAAI,IAAN,IAAgBA,CAAC,CAAChB,KAAK,CAACG,QAAP,CAAD,IAAqB,IAAzC,EAAgD;MAC9Ce,GAAG,GAAGF,CAAC,CAAChB,KAAK,CAACG,QAAP,CAAP;;MACA,IAAIH,KAAK,CAACK,KAAN,IAAe,OAAOa,GAAP,KAAe,QAAlC,EAA4C;QAC1CqB,OAAO,CAACC,GAAR,CAAY,cAAczB,CAAd,GAAkB,MAAlB,GAA2BG,GAAvC;MACD;;MACD,IAAIS,MAAM,CAACC,IAAP,CAAYZ,CAAZ,EAAeS,MAAf,GAAwB,CAA5B,EAA+B;QAC7Bc,OAAO,CAACF,KAAR,CAAc,kCAAkCtB,CAAlC,GAAsC,uEAApD;MACD;;MACD,IAAIgB,KAAK,CAACC,OAAN,CAAcd,GAAd,CAAJ,EAAwB;QACtBA,GAAG,GAAGlB,KAAK,CAACsB,OAAN,CAAcJ,GAAd,EAAmBL,GAAnB,EAAwBM,IAAxB,EAA8BC,YAA9B,CAAN;MACD,CAFD,MAEO,IAAIP,GAAG,CAACK,GAAD,CAAH,IAAY,IAAhB,EAAsB;QAC3BN,IAAI,CAACG,CAAD,CAAJ,GAAUF,GAAG,CAACK,GAAD,CAAb;MACD,CAFM,MAEA,IAAI6B,MAAM,CAAC7B,GAAD,CAAN,CAAY8B,KAAZ,CAAkB,IAAIzB,MAAJ,CAAW,MAAMvB,KAAK,CAACI,SAAvB,CAAlB,CAAJ,EAA0D;QAC/D,IAAIJ,KAAK,CAACK,KAAV,EAAiB;UACfkC,OAAO,CAACC,GAAR,CAAY,cAActB,GAAd,GAAoB,YAAhC;QACD;;QACDN,IAAI,CAACG,CAAD,CAAJ,GAAUf,KAAK,CAACiB,gBAAN,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAkCC,YAAlC,CAAV;MACD;;MACD,IAAK,CAAC,CAACwB,IAAI,GAAGhC,IAAI,CAACG,CAAD,CAAZ,KAAoB,IAApB,GAA2B6B,IAAI,CAACnB,MAAhC,GAAyC,KAAK,CAA/C,KAAqD,IAAtD,IAA+D,CAAC,CAACoB,IAAI,GAAGjC,IAAI,CAACG,CAAD,CAAZ,KAAoB,IAApB,GAA2B8B,IAAI,CAACpB,MAAhC,GAAyC,KAAK,CAA/C,MAAsD,CAArH,IAA0HzB,KAAK,CAACK,KAApI,EAA2I;QACzIyC,OAAO,CAACV,IAAR,CAAaG,OAAO,CAACC,GAAR,CAAYtB,GAAG,GAAG,sBAAlB,CAAb;MACD,CAFD,MAEO;QACL4B,OAAO,CAACV,IAAR,CAAa,KAAK,CAAlB;MACD;IACF,CAvBD,MAuBO;MACL,IAAI,QAAOpB,CAAP,MAAa,QAAjB,EAA2B;QACzB8B,OAAO,CAACV,IAAR,CAAapC,KAAK,CAACsB,OAAN,CAAcN,CAAd,EAAiBH,GAAjB,EAAsBM,IAAtB,EAA4BC,YAA5B,CAAb;MACD,CAFD,MAEO;QACL0B,OAAO,CAACV,IAAR,CAAa,KAAK,CAAlB;MACD;IACF;EACF;;EACD,OAAOU,OAAP;AACD,CAxCD;;AAyCA9C,KAAK,CAACiD,MAAN,GAAe,UAASrC,IAAT,EAAeQ,YAAf,EAA6B;EAC1C,IAAIL,CAAJ,EAAOG,GAAP,EAAY4B,OAAZ,EAAqBI,EAArB,EAAyBC,EAAzB,EAA6BnC,CAA7B;;EACA,IAAI,QAAOJ,IAAP,MAAgB,QAApB,EAA8B;IAC5BkC,OAAO,GAAG,EAAV;;IACA,KAAK/B,CAAL,IAAUH,IAAV,EAAgB;MACdI,CAAC,GAAGJ,IAAI,CAACG,CAAD,CAAR;;MACA,IAAIA,CAAC,KAAKf,KAAK,CAACE,WAAZ,IAA4Bc,CAAC,CAAChB,KAAK,CAACG,QAAP,CAAD,IAAqB,IAArD,EAA4D;QAC1De,GAAG,GAAGlB,KAAK,CAACiB,gBAAN,CAAuBD,CAAC,CAAChB,KAAK,CAACG,QAAP,CAAxB,EAA0CS,IAA1C,EAAgDQ,YAAhD,CAAN;;QACA,KAAK8B,EAAL,IAAWlC,CAAX,EAAc;UACZmC,EAAE,GAAGnC,CAAC,CAACkC,EAAD,CAAN;;UACA,IAAIA,EAAE,KAAKlD,KAAK,CAACG,QAAjB,EAA2B;YACzBe,GAAG,CAACgC,EAAD,CAAH,GAAUC,EAAV;UACD;QACF;;QACD,OAAOvC,IAAI,CAACG,CAAD,CAAX;MACD;;MACD,IAAI,QAAOC,CAAP,MAAa,QAAjB,EAA2B;QACzB8B,OAAO,CAACV,IAAR,CAAapB,CAAC,GAAGhB,KAAK,CAACiD,MAAN,CAAajC,CAAb,CAAjB;MACD,CAFD,MAEO;QACL8B,OAAO,CAACV,IAAR,CAAa,KAAK,CAAlB;MACD;IACF;;IACD,OAAOU,OAAP;EACD;AACF,CAxBD;;AAyBA9C,KAAK,CAACoD,OAAN,GAAgB,UAASxC,IAAT,EAAeQ,YAAf,EAA6B;EAC3C,IAAIP,GAAJ;EACAA,GAAG,GAAG,EAAN;EACAb,KAAK,CAACW,OAAN,CAAcC,IAAd,EAAoBC,GAApB;;EACA,IAAIb,KAAK,CAACK,KAAN,IAAesB,MAAM,CAACC,IAAP,CAAYf,GAAZ,EAAiBY,MAApC,EAA4C;IAC1Cc,OAAO,CAACc,GAAR,CAAYxC,GAAZ;EACD;;EACDb,KAAK,CAACsB,OAAN,CAAcV,IAAd,EAAoBC,GAApB,EAAyBD,IAAzB,EAA+BQ,YAA/B;EACA,OAAOR,IAAP;AACD,CATD;;AAUAZ,KAAK,CAACsD,QAAN,GAAiB,UAAS1C,IAAT,EAAe2C,IAAf,EAAqBC,EAArB,EAAyB;EACxC,IAAIzC,CAAJ,EAAO6B,IAAP,EAAa5B,CAAb;;EACA,IAAIwC,EAAE,IAAI,IAAV,EAAgB;IACdA,EAAE,GAAGxD,KAAK,CAACyD,WAAX;EACD;;EACDb,IAAI,GAAG5C,KAAK,CAACM,KAAN,CAAYM,IAAZ,CAAP;;EACA,KAAKG,CAAL,IAAU6B,IAAV,EAAgB;IACd5B,CAAC,GAAG4B,IAAI,CAAC7B,CAAD,CAAR;;IACA,IAAI,OAAOC,CAAP,KAAa,QAAjB,EAA2B;MACzBJ,IAAI,CAACG,CAAD,CAAJ,GAAUyC,EAAE,CAACxC,CAAD,EAAIuC,IAAJ,CAAZ;IACD;;IACD,IAAI,QAAOvC,CAAP,MAAa,QAAjB,EAA2B;MACzBJ,IAAI,CAACG,CAAD,CAAJ,GAAUf,KAAK,CAACsD,QAAN,CAAetC,CAAf,EAAkBuC,IAAlB,CAAV;IACD;EACF;;EACD,OAAO3C,IAAP;AACD,CAhBD;;AAiBAZ,KAAK,CAACyD,WAAN,GAAoB,UAAS1C,CAAT,EAAYwC,IAAZ,EAAkB;EACpC,IAAIG,OAAJ;;EACA,IAAI,OAAO3C,CAAP,KAAa,QAAjB,EAA2B;IACzB,OAAOA,CAAP;EACD;;EACD,IAAIA,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,IAAgBA,CAAC,CAACA,CAAC,CAACU,MAAF,GAAW,CAAZ,CAAD,KAAoB,GAAxC,EAA6C;IAC3C,IAAI;MACF,OAAO3B,IAAI,CAAC4C,MAAL,CAAY3B,CAAC,CAACO,OAAF,CAAU,IAAV,EAAgB,EAAhB,EAAoBA,OAApB,CAA4B,IAA5B,EAAkC,EAAlC,CAAZ,EAAmDiC,IAAnD,CAAP;IACD,CAFD,CAEE,OAAOlB,KAAP,EAAc;MACd,OAAO,IAAP;IACD;EACF,CAND,MAMO;IACLqB,OAAO,GAAG3C,CAAC,CAACO,OAAF,CAAU,gBAAV,EAA4B,UAASqC,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqB;MACzD,IAAIpB,MAAJ;MACAA,MAAM,GAAG,EAAT;;MACA,IAAKc,IAAI,IAAI,IAAT,IAAmBM,EAAE,IAAI,IAA7B,EAAoC;QAClC,OAAOpB,MAAP;MACD;;MACD,IAAKc,IAAI,CAACM,EAAD,CAAJ,IAAY,IAAb,IAAsB,OAAON,IAAI,CAACM,EAAD,CAAX,KAAoB,UAA9C,EAA0D;QACxDpB,MAAM,GAAGc,IAAI,CAACM,EAAD,CAAJ,EAAT;MACD,CAFD,MAEO;QACL,IAAIN,IAAI,CAACM,EAAD,CAAJ,IAAY,IAAhB,EAAsB;UACpBpB,MAAM,GAAGc,IAAI,CAACM,EAAD,CAAb;QACD,CAFD,MAEO;UACL,IAAI;YACFA,EAAE,GAAGA,EAAE,CAACvC,OAAH,CAAW,IAAIC,MAAJ,CAAW,MAAMvB,KAAK,CAACI,SAAZ,GAAwB,IAAnC,CAAX,EAAqD,EAArD,EAAyDkB,OAAzD,CAAiE,KAAjE,EAAwE,GAAxE,CAAL;YACAmB,MAAM,GAAG3C,IAAI,CAAC4C,MAAL,CAAYmB,EAAZ,EAAgBN,IAAhB,CAAT;UACD,CAHD,CAGE,OAAOO,MAAP,EAAe;YACfnB,GAAG,GAAGmB,MAAN;YACArB,MAAM,GAAG,EAAT;UACD;;UACD,IAAIA,MAAM,IAAI,IAAd,EAAoB;YAClBA,MAAM,GAAG,EAAT;UACD;QACF;MACF;;MACDzC,KAAK,CAACyD,WAAN,CAAkBhB,MAAlB,EAA0Bc,IAA1B;MACA,OAAOd,MAAP;IACD,CA1BS,CAAV;IA2BA,OAAOiB,OAAP;EACD;AACF,CAzCD;;AA2CA,eAAe1D,KAAf"},"metadata":{},"sourceType":"module"}