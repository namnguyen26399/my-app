{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _typeof from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _toConsumableArray from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../../administrator/administrator.api\";\nimport { Container } from \"vue-dndrop\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport UserInfosRequestData from \"./UserInfosRequestData.vue\";\nexport default {\n  name: \"VSMFEProcedureV3\",\n  components: {\n    Container: Container,\n    VuePerfectScrollbar: VuePerfectScrollbar,\n    UserInfosRequestData: UserInfosRequestData\n  },\n  props: {\n    requestDataV2: {},\n    isSaved: {}\n  },\n  watch: {\n    requestDataV2: function requestDataV2(newValue) {\n      this.m_requestDto = newValue;\n    },\n    isSaved: function isSaved(value) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.m_isSaved = value; // console.log(\"this.m_isSaved.state\", this.m_isSaved.state);\n\n                if (!(_this.m_isSaved.state == 1)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                console.log(\"Luu 2\");\n                _context.next = 5;\n                return _this.save();\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    } // s_processData() {\n    // \tthis.selectProcessData();\n    // },\n\n  },\n  data: function data() {\n    return {\n      itemIndex: -1,\n      openFileRequestData: false,\n      openUserInfosRequestData: false,\n      m_requestDto: null,\n      stepInProcess: [],\n      defaultStepInProcess: [],\n      s_processData: null,\n      indexItems: 0,\n      userFilters: [],\n      showUser: [],\n      arrDeleteStep: [],\n      steps: [],\n      defaultItem: {\n        created: null,\n        createdDate: null,\n        createdName: \"\",\n        createdOrgName: \"\",\n        createdRankName: \"\",\n        description: \"\",\n        id: null,\n        isActive: false,\n        isApprove: false,\n        isAuthorizedApproval: false,\n        isBack: false,\n        isChangeStatus: false,\n        isCreateContract: false,\n        isCreateOPTLink: false,\n        isCreateOfficalDispath: false,\n        isCreateReport: false,\n        isCreateTFSTask: false,\n        isDeny: false,\n        isEdit: false,\n        isExamine: false,\n        isExportPDF: false,\n        isManageStamp: false,\n        isProcessRecover: false,\n        isRecall: false,\n        isRequestModify: false,\n        isRequiredSignature: false,\n        isSaveDoc: false,\n        isSendMail: false,\n        isSendNoticePriority: false,\n        modified: null,\n        modifiedDate: null,\n        modifiedName: \"\",\n        optionDeny: 1,\n        organization: null,\n        organizationCode: \"\",\n        organizationName: \"\",\n        processInfo: null,\n        processingActiveTime: null,\n        processingTerm: 0,\n        processingTermTime: null,\n        rank: null,\n        rankCode: \"\",\n        rankName: \"\",\n        step: null,\n        stepInProcessCode: \"\",\n        stepInProcessName: \"\",\n        stepOrder: 0,\n        tennant: null,\n        tennantCode: \"\",\n        tennantName: \"\",\n        userInStepDTOs: []\n      },\n      is_add: false,\n      requestProcessData: []\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.m_requestDto = _this2.requestDataV2;\n              console.log(\"this.m_requestDto \", _this2.m_requestDto);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  mounted: function mounted() {\n    this.load();\n  },\n  updated: function updated() {\n    if (this.is_add) {\n      var theTemp = document.getElementsByClassName(\"isFocus\");\n      theTemp = theTemp.length >= 0 ? theTemp[0] : null;\n      if (theTemp) theTemp.focus();\n      this.scrollToView(this.stepInProcess.length - 1);\n      this.is_add = false;\n    }\n  },\n  methods: {\n    load: function load() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this3.getAllByProcesInfoId();\n\n              case 2:\n                _context3.next = 4;\n                return _this3.selectProcessData();\n\n              case 4:\n                _context3.next = 6;\n                return _this3.getAllUser();\n\n              case 6:\n                _context3.next = 8;\n                return _this3.getAllStep();\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    editUserInfosRequestData: function editUserInfosRequestData(index) {\n      this.openUserInfosRequestData = true;\n      this.itemIndex = index;\n    },\n    onClose: function onClose() {\n      this.openUserInfosRequestData = false;\n      this.itemIndex = -1;\n    },\n    getAllStep: function getAllStep() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response, emptyOb;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllSteps());\n\n              case 2:\n                response = _context4.sent;\n\n                if (response) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (response.state) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.steps = response.data.filter(function (entry) {\n                  return !entry.isDelete && entry.isActive;\n                });\n                emptyOb = {\n                  stepName: _this4.$t(\"label.empty\"),\n                  id: null\n                };\n\n                _this4.steps.unshift(emptyOb);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    getStepInProcesses: function getStepInProcesses() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                console.log(\"m_request\", _this5.m_requestDto);\n                _context5.next = 4;\n                return globalService.getData_Async(administratorAPI.API_GetSteepDataByIdRequest(_this5.m_requestDto.id));\n\n              case 4:\n                response = _context5.sent;\n\n                if (!(!response || !response.state)) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 7:\n                _this5.defaultStepInProcess = response.data.filter(function (entry) {\n                  entry.showHandler = false;\n                  return entry;\n                }); // this.stepInProcess = this.cloneArray(\n                // \tthis.stepInProcess,\n                // \tthis.defaultStepInProcess,\n                // );\n                //this.idStepData = 1;\n                //this.$emit(\"saveStepData\", this.idStepData);\n\n                _context5.next = 14;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](0);\n\n                _this5.toastError(_context5.t0);\n\n                return _context5.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 10]]);\n      }))();\n    },\n    getAllUser: function getAllUser() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                _context6.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllUserInfo());\n\n              case 3:\n                response = _context6.sent;\n\n                if (!(!response || !response.state)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 6:\n                _this6.userFilters = response.data.filter(function (entry) {\n                  return !entry.isDelete && entry.isActive;\n                });\n                _context6.next = 12;\n                break;\n\n              case 9:\n                _context6.prev = 9;\n                _context6.t0 = _context6[\"catch\"](0);\n\n                _this6.toastError(_context6.t0);\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[0, 9]]);\n      }))();\n    },\n    clickToEdit: function clickToEdit(items) {\n      if (!items) return;\n      this.indexItems = this.stepInProcess.indexOf(items);\n    },\n    getClass: function getClass(index) {\n      return this.indexItems == index ? \"grey lighten-2\" : \"grey lighten-3\";\n    },\n    selectHandler: function selectHandler(item, index) {\n      this.stepInProcess[index].userInfos.push(item);\n    },\n    remove: function remove(item) {\n      if (!this.stepInProcess[this.indexItems].userInfos || this.stepInProcess[this.indexItems].userInfos.length == 0) {\n        return;\n      }\n\n      this.stepInProcess[this.indexItems].userInfos.splice(this.stepInProcess[this.indexItems].userInfos.indexOf(item), 1);\n      this.stepInProcess[this.indexItems].userInfos = _toConsumableArray(this.stepInProcess[this.indexItems].userInfos);\n    },\n    restoreStepInProcess: function restoreStepInProcess() {\n      this.stepInProcess = this.cloneArray(this.stepInProcess, this.defaultStepInProcess);\n\n      if (this.requestProcessData.length > 0) {\n        this.s_processData = this.requestProcessData[0];\n      }\n    },\n    cloneArray: function cloneArray(targetArayy, sourceArray) {\n      var _this7 = this;\n\n      if (!sourceArray) return sourceArray;\n      targetArayy = sourceArray.map(function (ele) {\n        return _this7.cloneObject({}, ele);\n      });\n      return targetArayy;\n    },\n    cloneObject: function cloneObject(targetObject, sourceObject) {\n      if (!sourceObject) return null;\n      targetObject = Object.assign({}, sourceObject);\n\n      for (var prop in sourceObject) {\n        if (_typeof(sourceObject[prop]) == \"object\") {\n          targetObject[prop] = this.cloneObject(targetObject[prop], sourceObject[prop]);\n        }\n      }\n\n      return targetObject;\n    },\n    selectStepInProcess: function selectStepInProcess(item, index) {\n      console.log(\"item\", item); // console.log(\"index\", index);\n\n      this.stepInProcess[index] = _objectSpread(_objectSpread({}, this.stepInProcess[index]), item);\n      this.stepInProcess[index].stepDataName = item.stepName;\n      this.clickToEdit(this.stepInProcess[index]);\n    },\n    addColumn: function addColumn() {\n      this.stepInProcess.push(this.defaultItem);\n      this.clickToEdit(this.stepInProcess[this.stepInProcess.length - 1]);\n      this.is_add = true;\n    },\n    scrollToView: function scrollToView(index) {\n      var test = document.getElementById(\"step\" + index);\n      if (test[0]) test[0].scrollIntoView();\n    },\n    selectProcessData: function selectProcessData() {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(!_this8.s_processData || !_this8.s_processData.id)) {\n                  _context7.next = 2;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\");\n\n              case 2:\n                _context7.next = 4;\n                return globalService.getData_Async(administratorAPI.API_GetStepDataByIdProcessData(_this8.s_processData.id));\n\n              case 4:\n                response = _context7.sent;\n\n                if (!(!response || !response.state)) {\n                  _context7.next = 7;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\");\n\n              case 7:\n                _this8.stepInProcess = response.data; // this.stepInProcess = this.cloneArray(\n                // \tthis.stepInProcess,\n                // \tresponse.data,\n                // );\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    },\n    getAllByProcesInfoId: function getAllByProcesInfoId() {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                console.log(\"this.m_requestDto.id\", _this9.m_requestDto.id);\n                _context8.prev = 1;\n                _context8.next = 4;\n                return globalService.getData_Async(administratorAPI.API_FindProcessesDataByID(_this9.m_requestDto.id));\n\n              case 4:\n                response = _context8.sent;\n\n                if (!(!response || !response.state)) {\n                  _context8.next = 7;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\");\n\n              case 7:\n                _this9.requestProcessData = response.data;\n\n                if (_this9.requestProcessData.length > 0) {\n                  _this9.s_processData = _this9.requestProcessData[0];\n                }\n\n                console.log(\"lấy được 1 list ProcessData theo id rq\", _this9.requestProcessData);\n                _context8.next = 16;\n                break;\n\n              case 12:\n                _context8.prev = 12;\n                _context8.t0 = _context8[\"catch\"](1);\n\n                _this9.toastError(_context8.t0);\n\n                return _context8.abrupt(\"return\");\n\n              case 16:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[1, 12]]);\n      }))();\n    },\n    getStepInProcessesByIdProcessData: function getStepInProcessesByIdProcessData() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                _context9.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetSteepDataByIdRequest(_this10.s_processData.id));\n\n              case 3:\n                response = _context9.sent;\n                console.log(\"response stepInProcess\", response);\n\n                if (!(!response || !response.state)) {\n                  _context9.next = 7;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\");\n\n              case 7:\n                _this10.stepInProcess = response.data;\n                _this10.defaultStepInProcess = response.data.filter(function (entry) {\n                  entry.showHandler = false;\n                  return entry;\n                }); // this.stepInProcess = this.cloneArray(\n                // \tthis.stepInProcess,\n                // \tthis.defaultStepInProcess,\n                // );\n\n                console.log(\"this.defaultStepInProcess: \", _this10.defaultStepInProcess);\n                console.log(\"response stepInProcess\", _this10.stepInProcess); //this.idStepData = 1;\n                //this.$emit(\"saveStepData\", this.idStepData);\n\n                _context9.next = 17;\n                break;\n\n              case 13:\n                _context9.prev = 13;\n                _context9.t0 = _context9[\"catch\"](0);\n\n                _this10.toastError(_context9.t0);\n\n                return _context9.abrupt(\"return\");\n\n              case 17:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[0, 13]]);\n      }))();\n    },\n    onSave: function onSave(value) {\n      console.log(\"selected 2142\", value);\n      this.stepInProcess[this.itemIndex].userInfos = value;\n      console.log(\"this.stepInProcess\", this.stepInProcess);\n      value = null;\n    },\n    removeRow: function removeRow(index) {\n      this.stepInProcess.splice(index, 1);\n      this.arrDeleteStep.push(this.stepInProcess[index]);\n    },\n    save: function save() {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var _iterator, _step, stepInProces, response;\n\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!(_this11.m_requestDto.length == 0)) {\n                  _context10.next = 3;\n                  break;\n                }\n\n                _this11.toastError(_this11.$t(\"message.update_error\"));\n\n                return _context10.abrupt(\"return\");\n\n              case 3:\n                console.log(\"this.stepInProcess\", _this11.stepInProcess);\n                _iterator = _createForOfIteratorHelper(_this11.stepInProcess);\n                _context10.prev = 5;\n\n                _iterator.s();\n\n              case 7:\n                if ((_step = _iterator.n()).done) {\n                  _context10.next = 17;\n                  break;\n                }\n\n                stepInProces = _step.value;\n                console.log(\"stepInProces\", stepInProces);\n                _context10.next = 12;\n                return globalService.putData_Async(administratorAPI.API_UpDateStepData(stepInProces.id), stepInProces);\n\n              case 12:\n                response = _context10.sent;\n\n                if (!(!response || !response.state)) {\n                  _context10.next = 15;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\");\n\n              case 15:\n                _context10.next = 7;\n                break;\n\n              case 17:\n                _context10.next = 22;\n                break;\n\n              case 19:\n                _context10.prev = 19;\n                _context10.t0 = _context10[\"catch\"](5);\n\n                _iterator.e(_context10.t0);\n\n              case 22:\n                _context10.prev = 22;\n\n                _iterator.f();\n\n                return _context10.finish(22);\n\n              case 25:\n                _this11.toastSuccess(_this11.$t(\"message.update_success\"));\n\n              case 26:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[5, 19, 22, 25]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","Container","VuePerfectScrollbar","UserInfosRequestData","props","requestDataV2","isSaved","watch","newValue","value","console","data","itemIndex","openFileRequestData","openUserInfosRequestData","m_requestDto","stepInProcess","defaultStepInProcess","s_processData","indexItems","userFilters","showUser","arrDeleteStep","steps","defaultItem","created","createdDate","createdName","createdOrgName","createdRankName","description","id","isActive","isApprove","isAuthorizedApproval","isBack","isChangeStatus","isCreateContract","isCreateOPTLink","isCreateOfficalDispath","isCreateReport","isCreateTFSTask","isDeny","isEdit","isExamine","isExportPDF","isManageStamp","isProcessRecover","isRecall","isRequestModify","isRequiredSignature","isSaveDoc","isSendMail","isSendNoticePriority","modified","modifiedDate","modifiedName","optionDeny","organization","organizationCode","organizationName","processInfo","processingActiveTime","processingTerm","processingTermTime","rank","rankCode","rankName","step","stepInProcessCode","stepInProcessName","stepOrder","tennant","tennantCode","tennantName","userInStepDTOs","is_add","requestProcessData","mounted","updated","theTemp","methods","load","editUserInfosRequestData","index","onClose","getAllStep","globalService","administratorAPI","response","emptyOb","stepName","getStepInProcesses","entry","getAllUser","clickToEdit","items","getClass","selectHandler","item","remove","restoreStepInProcess","cloneArray","targetArayy","sourceArray","cloneObject","targetObject","sourceObject","selectStepInProcess","addColumn","scrollToView","selectProcessData","getAllByProcesInfoId","getStepInProcessesByIdProcessData","onSave","removeRow","save","stepInProces"],"sourceRoot":"src/views/modules/khai-phieu-yeu-cau/RequestForm","sources":["ProcedureV3.vue"],"sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<v-dialog max-width=\"60vw\" v-model=\"openUserInfosRequestData\">\r\n\t\t\t<UserInfosRequestData\r\n\t\t\t\t@save=\"onSave\"\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t></UserInfosRequestData>\r\n\t\t</v-dialog>\r\n\t\t<v-row>\r\n\t\t\t<v-col cols=\"12\" md=\"3\">\r\n\t\t\t\t<v-select\r\n\t\t\t\t\tv-model=\"s_processData\"\r\n\t\t\t\t\titem-text=\"processDataName\"\r\n\t\t\t\t\tv-if=\"s_processData\"\r\n\t\t\t\t\t:items=\"s_processData\"\r\n\t\t\t\t\t:item-value=\"(item) => item\"\r\n\t\t\t\t\toutlined\r\n\t\t\t\t\tdense\r\n\t\t\t\t></v-select>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col>\r\n\t\t\t\t<v-btn class=\"float-right\" text @click=\"restoreStepInProcess\">\r\n\t\t\t\t\t<v-icon>mdi-restart</v-icon> Khôi phục\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t\t<v-divider></v-divider>\r\n\t\t<v-row>\r\n\t\t\t<v-col>\r\n\t\t\t\t<v-card-text v-if=\"stepInProcess && stepInProcess.length > 0\">\r\n\t\t\t\t\t<VuePerfectScrollbar class=\"scroll-area\">\r\n\t\t\t\t\t\t<v-timeline align-top dense class=\"mx-40\">\r\n\t\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t\t<v-timeline-item\r\n\t\t\t\t\t\t\t\t\tv-for=\"(items, index) in stepInProcess\"\r\n\t\t\t\t\t\t\t\t\t:key=\"items.id\"\r\n\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\tfill-dot\r\n\t\t\t\t\t\t\t\t\tleft\r\n\t\t\t\t\t\t\t\t\tcolor=\"green darken-5\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<template v-slot:icon>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"gr_button\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRow(index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-trash-can-outline\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"blue mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"addColumn()\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-icon> mdi-plus </v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-h6 text-white rounded-pill green lighten-2 px-10 py-2\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tBước {{ index + 1 }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t\t\t\t<v-card\r\n\t\t\t\t\t\t\t\t\t\t\tflat\r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tisFocus:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstepInProcess.length - 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t['rounded bordered ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetClass(index)]: true,\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"clickToEdit(items)\"\r\n\t\t\t\t\t\t\t\t\t\t\t:id=\"`step` + index\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-card-text class=\"text--primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subtitle-1 mx-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.processingTerm\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsolo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.processingTerm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:suffix=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'label.hours',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.processingTerm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.processingTerm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.hours\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTên bước:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!items.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsolo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:items=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsteps\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem-text=\"stepName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thide-selected\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsolo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span> -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subtitle-1 mx-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNgười xử lý:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"blue\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text--blue\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditUserInfosRequestData(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-account-plus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) of items.userInfos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ma-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey lighten-5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclose\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click:close=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.userInfos.splice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"indigo mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"36\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"white--text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetAvatarText(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.fullName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.fullName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"remove-row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRow(index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon dark>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-trash-can-outline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-btn> -->\r\n\t\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t\t\t</v-timeline-item>\r\n\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t</v-timeline>\r\n\t\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../../administrator/administrator.api\";\r\nimport { Container } from \"vue-dndrop\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport UserInfosRequestData from \"./UserInfosRequestData.vue\";\r\n\r\nexport default {\r\n\tname: \"VSMFEProcedureV3\",\r\n\tcomponents: {\r\n\t\tContainer,\r\n\t\tVuePerfectScrollbar,\r\n\t\tUserInfosRequestData,\r\n\t},\r\n\tprops: { requestDataV2: {}, isSaved: {} },\r\n\twatch: {\r\n\t\trequestDataV2(newValue) {\r\n\t\t\tthis.m_requestDto = newValue;\r\n\t\t},\r\n\t\tasync isSaved(value) {\r\n\t\t\tthis.m_isSaved = value;\r\n\t\t\t// console.log(\"this.m_isSaved.state\", this.m_isSaved.state);\r\n\t\t\tif (this.m_isSaved.state == 1) {\r\n\t\t\t\tconsole.log(\"Luu 2\");\r\n\r\n\t\t\t\tawait this.save();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// s_processData() {\r\n\t\t// \tthis.selectProcessData();\r\n\t\t// },\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\titemIndex: -1,\r\n\t\t\topenFileRequestData: false,\r\n\t\t\topenUserInfosRequestData: false,\r\n\t\t\tm_requestDto: null,\r\n\t\t\tstepInProcess: [],\r\n\t\t\tdefaultStepInProcess: [],\r\n\t\t\ts_processData: null,\r\n\t\t\tindexItems: 0,\r\n\t\t\tuserFilters: [],\r\n\t\t\tshowUser: [],\r\n\t\t\tarrDeleteStep: [],\r\n\t\t\tsteps: [],\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tcreated: null,\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tcreatedOrgName: \"\",\r\n\t\t\t\tcreatedRankName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: false,\r\n\t\t\t\tisApprove: false,\r\n\t\t\t\tisAuthorizedApproval: false,\r\n\t\t\t\tisBack: false,\r\n\t\t\t\tisChangeStatus: false,\r\n\t\t\t\tisCreateContract: false,\r\n\t\t\t\tisCreateOPTLink: false,\r\n\t\t\t\tisCreateOfficalDispath: false,\r\n\t\t\t\tisCreateReport: false,\r\n\t\t\t\tisCreateTFSTask: false,\r\n\t\t\t\tisDeny: false,\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\tisExamine: false,\r\n\t\t\t\tisExportPDF: false,\r\n\t\t\t\tisManageStamp: false,\r\n\t\t\t\tisProcessRecover: false,\r\n\t\t\t\tisRecall: false,\r\n\t\t\t\tisRequestModify: false,\r\n\t\t\t\tisRequiredSignature: false,\r\n\t\t\t\tisSaveDoc: false,\r\n\t\t\t\tisSendMail: false,\r\n\t\t\t\tisSendNoticePriority: false,\r\n\t\t\t\tmodified: null,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\toptionDeny: 1,\r\n\t\t\t\torganization: null,\r\n\t\t\t\torganizationCode: \"\",\r\n\t\t\t\torganizationName: \"\",\r\n\t\t\t\tprocessInfo: null,\r\n\t\t\t\tprocessingActiveTime: null,\r\n\t\t\t\tprocessingTerm: 0,\r\n\t\t\t\tprocessingTermTime: null,\r\n\t\t\t\trank: null,\r\n\t\t\t\trankCode: \"\",\r\n\t\t\t\trankName: \"\",\r\n\t\t\t\tstep: null,\r\n\t\t\t\tstepInProcessCode: \"\",\r\n\t\t\t\tstepInProcessName: \"\",\r\n\t\t\t\tstepOrder: 0,\r\n\t\t\t\ttennant: null,\r\n\t\t\t\ttennantCode: \"\",\r\n\t\t\t\ttennantName: \"\",\r\n\t\t\t\tuserInStepDTOs: [],\r\n\t\t\t},\r\n\t\t\tis_add: false,\r\n\t\t\trequestProcessData: [],\r\n\t\t};\r\n\t},\r\n\tasync created() {\r\n\t\tthis.m_requestDto = this.requestDataV2;\r\n\t\tconsole.log(\"this.m_requestDto \", this.m_requestDto);\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tthis.load();\r\n\t},\r\n\tupdated() {\r\n\t\tif (this.is_add) {\r\n\t\t\tlet theTemp = document.getElementsByClassName(\"isFocus\");\r\n\t\t\ttheTemp = theTemp.length >= 0 ? theTemp[0] : null;\r\n\t\t\tif (theTemp) theTemp.focus();\r\n\t\t\tthis.scrollToView(this.stepInProcess.length - 1);\r\n\t\t\tthis.is_add = false;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync load() {\r\n\t\t\tawait this.getAllByProcesInfoId();\r\n\t\t\tawait this.selectProcessData();\r\n\t\t\t// await this.getStepInProcessesByIdProcessData();\r\n\t\t\t// await this.getStepInProcesses();\r\n\t\t\tawait this.getAllUser();\r\n\t\t\tawait this.getAllStep();\r\n\t\t},\r\n\t\teditUserInfosRequestData(index) {\r\n\t\t\tthis.openUserInfosRequestData = true;\r\n\t\t\tthis.itemIndex = index;\r\n\t\t},\r\n\t\tonClose() {\r\n\t\t\tthis.openUserInfosRequestData = false;\r\n\t\t\tthis.itemIndex = -1;\r\n\t\t},\r\n\t\tasync getAllStep() {\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllSteps(),\r\n\t\t\t);\r\n\t\t\tif (!response) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!response.state) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.steps = response.data.filter((entry) => {\r\n\t\t\t\treturn !entry.isDelete && entry.isActive;\r\n\t\t\t});\r\n\t\t\tlet emptyOb = {\r\n\t\t\t\tstepName: this.$t(\"label.empty\"),\r\n\t\t\t\tid: null,\r\n\t\t\t};\r\n\t\t\tthis.steps.unshift(emptyOb);\r\n\t\t},\r\n\t\tasync getStepInProcesses() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log(\"m_request\", this.m_requestDto);\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetSteepDataByIdRequest(\r\n\t\t\t\t\t\tthis.m_requestDto.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.defaultStepInProcess = response.data.filter((entry) => {\r\n\t\t\t\t\tentry.showHandler = false;\r\n\t\t\t\t\treturn entry;\r\n\t\t\t\t});\r\n\t\t\t\t// this.stepInProcess = this.cloneArray(\r\n\t\t\t\t// \tthis.stepInProcess,\r\n\t\t\t\t// \tthis.defaultStepInProcess,\r\n\t\t\t\t// );\r\n\t\t\t\t//this.idStepData = 1;\r\n\t\t\t\t//this.$emit(\"saveStepData\", this.idStepData);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAllUser() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllUserInfo(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.userFilters = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete && entry.isActive;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclickToEdit(items) {\r\n\t\t\tif (!items) return;\r\n\t\t\tthis.indexItems = this.stepInProcess.indexOf(items);\r\n\t\t},\r\n\t\tgetClass(index) {\r\n\t\t\treturn this.indexItems == index\r\n\t\t\t\t? \"grey lighten-2\"\r\n\t\t\t\t: \"grey lighten-3\";\r\n\t\t},\r\n\t\tselectHandler(item, index) {\r\n\t\t\tthis.stepInProcess[index].userInfos.push(item);\r\n\t\t},\r\n\t\tremove(item) {\r\n\t\t\tif (\r\n\t\t\t\t!this.stepInProcess[this.indexItems].userInfos ||\r\n\t\t\t\tthis.stepInProcess[this.indexItems].userInfos.length == 0\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.stepInProcess[this.indexItems].userInfos.splice(\r\n\t\t\t\tthis.stepInProcess[this.indexItems].userInfos.indexOf(item),\r\n\t\t\t\t1,\r\n\t\t\t);\r\n\t\t\tthis.stepInProcess[this.indexItems].userInfos = [\r\n\t\t\t\t...this.stepInProcess[this.indexItems].userInfos,\r\n\t\t\t];\r\n\t\t},\r\n\t\trestoreStepInProcess() {\r\n\t\t\tthis.stepInProcess = this.cloneArray(\r\n\t\t\t\tthis.stepInProcess,\r\n\t\t\t\tthis.defaultStepInProcess,\r\n\t\t\t);\r\n\t\t\tif (this.requestProcessData.length > 0) {\r\n\t\t\t\tthis.s_processData = this.requestProcessData[0];\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloneArray(targetArayy, sourceArray) {\r\n\t\t\tif (!sourceArray) return sourceArray;\r\n\t\t\ttargetArayy = sourceArray.map((ele) => this.cloneObject({}, ele));\r\n\t\t\treturn targetArayy;\r\n\t\t},\r\n\t\tcloneObject(targetObject, sourceObject) {\r\n\t\t\tif (!sourceObject) return null;\r\n\t\t\ttargetObject = Object.assign({}, sourceObject);\r\n\t\t\tfor (let prop in sourceObject) {\r\n\t\t\t\tif (typeof sourceObject[prop] == \"object\") {\r\n\t\t\t\t\ttargetObject[prop] = this.cloneObject(\r\n\t\t\t\t\t\ttargetObject[prop],\r\n\t\t\t\t\t\tsourceObject[prop],\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn targetObject;\r\n\t\t},\r\n\t\tselectStepInProcess(item, index) {\r\n\t\t\tconsole.log(\"item\", item);\r\n\t\t\t// console.log(\"index\", index);\r\n\t\t\tthis.stepInProcess[index] = {\r\n\t\t\t\t...this.stepInProcess[index],\r\n\t\t\t\t...item,\r\n\t\t\t};\r\n\t\t\tthis.stepInProcess[index].stepDataName = item.stepName;\r\n\t\t\tthis.clickToEdit(this.stepInProcess[index]);\r\n\t\t},\r\n\t\taddColumn() {\r\n\t\t\tthis.stepInProcess.push(this.defaultItem);\r\n\t\t\tthis.clickToEdit(this.stepInProcess[this.stepInProcess.length - 1]);\r\n\t\t\tthis.is_add = true;\r\n\t\t},\r\n\t\tscrollToView(index) {\r\n\t\t\tlet test = document.getElementById(\"step\" + index);\r\n\t\t\tif (test[0]) test[0].scrollIntoView();\r\n\t\t},\r\n\t\tasync selectProcessData() {\r\n\t\t\tif (!this.s_processData || !this.s_processData.id) return;\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetStepDataByIdProcessData(\r\n\t\t\t\t\tthis.s_processData.id,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) return;\r\n\t\t\tthis.stepInProcess = response.data;\r\n\t\t\t// this.stepInProcess = this.cloneArray(\r\n\t\t\t// \tthis.stepInProcess,\r\n\t\t\t// \tresponse.data,\r\n\r\n\t\t\t// );\r\n\t\t},\r\n\t\tasync getAllByProcesInfoId() {\r\n\t\t\tlet response;\r\n\t\t\tconsole.log(\"this.m_requestDto.id\", this.m_requestDto.id);\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindProcessesDataByID(\r\n\t\t\t\t\t\tthis.m_requestDto.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestProcessData = response.data;\r\n\t\t\t\tif (this.requestProcessData.length > 0) {\r\n\t\t\t\t\tthis.s_processData = this.requestProcessData[0];\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"lấy được 1 list ProcessData theo id rq\",\r\n\t\t\t\t\tthis.requestProcessData,\r\n\t\t\t\t);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getStepInProcessesByIdProcessData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetSteepDataByIdRequest(\r\n\t\t\t\t\t\tthis.s_processData.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(\"response stepInProcess\", response);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.stepInProcess = response.data;\r\n\t\t\t\tthis.defaultStepInProcess = response.data.filter((entry) => {\r\n\t\t\t\t\tentry.showHandler = false;\r\n\t\t\t\t\treturn entry;\r\n\t\t\t\t});\r\n\t\t\t\t// this.stepInProcess = this.cloneArray(\r\n\t\t\t\t// \tthis.stepInProcess,\r\n\t\t\t\t// \tthis.defaultStepInProcess,\r\n\t\t\t\t// );\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"this.defaultStepInProcess: \",\r\n\t\t\t\t\tthis.defaultStepInProcess,\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(\"response stepInProcess\", this.stepInProcess);\r\n\t\t\t\t//this.idStepData = 1;\r\n\t\t\t\t//this.$emit(\"saveStepData\", this.idStepData);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonSave(value) {\r\n\t\t\tconsole.log(\"selected 2142\", value);\r\n\t\t\tthis.stepInProcess[this.itemIndex].userInfos = value;\r\n\t\t\tconsole.log(\"this.stepInProcess\", this.stepInProcess);\r\n\t\t\tvalue = null;\r\n\t\t},\r\n\t\tremoveRow(index) {\r\n\t\t\tthis.stepInProcess.splice(index, 1);\r\n\t\t\tthis.arrDeleteStep.push(this.stepInProcess[index]);\r\n\t\t},\r\n\t\tasync save() {\r\n\t\t\tif (this.m_requestDto.length == 0) {\r\n\t\t\t\tthis.toastError(this.$t(\"message.update_error\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"this.stepInProcess\", this.stepInProcess);\r\n\t\t\tfor (let stepInProces of this.stepInProcess) {\r\n\t\t\t\tconsole.log(\"stepInProces\", stepInProces);\r\n\t\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\tadministratorAPI.API_UpDateStepData(stepInProces.id),\r\n\t\t\t\t\tstepInProces,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.toastSuccess(this.$t(\"message.update_success\"));\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-area {\r\n\tmax-height: 100vh;\r\n}\r\n.gr_button {\r\n\tdisplay: grid !important;\r\n\tposition: absolute;\r\n\ttop: 9rem;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}