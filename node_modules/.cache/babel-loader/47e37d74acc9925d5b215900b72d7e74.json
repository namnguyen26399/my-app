{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.trim.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport RequestGroupDto from \"@/models/request-group.dto\";\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../administrator.api\";\nexport default {\n  name: \"EditRequestGroupVue\",\n  // components: { VuePerfectScrollbar },\n  data: function data() {\n    return {\n      requestGroupDto: RequestGroupDto,\n      formError: false,\n      isSaving: false,\n      errorMessage: \"\",\n      errorMessageDes: \"\",\n      defaultItem: {\n        created: null,\n        createdDate: new Date(),\n        createdName: \"\",\n        description: \"\",\n        id: null,\n        isActive: true,\n        isDelete: false,\n        modified: null,\n        modifiedDate: new Date(),\n        modifiedName: \"\",\n        numberRequest: 0,\n        numberRequestData: 0,\n        numberRequestType: 0,\n        requestGroupCode: \"\",\n        requestGroupName: \"\",\n        tennant: null,\n        tennantCode: \"\",\n        tennantName: \"\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.requestGroupDto = Object.assign({}, RequestGroupDto);\n    this.$Progress.finish();\n  },\n  watch: {},\n  computed: {\n    form: function form() {\n      return {\n        requestGroupName: this.requestGroupDto.requestGroupName\n      };\n    }\n  },\n  methods: {\n    close: function close() {\n      this.requestGroupDto = Object.assign({}, this.defaultItem);\n      this.errorMessage = \"\";\n      this.errorMessageDes = \"\";\n      this.$emit(\"close\", true);\n    },\n    _save: function _save() {\n      this.$emit(\"save\", this.requestGroupDto);\n    },\n    onKeyUp: function onKeyUp() {\n      if (this.requestGroupDto.requestGroupName != \"\" || this.requestGroupDto.requestGroupName.length < 255) {\n        this.errorMessage = \"\";\n      }\n\n      if (this.requestGroupDto.requestGroupName.length > 255) {\n        this.errorMessage = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpDes: function onKeyUpDes() {\n      if (this.requestGroupDto.description != \"\" || this.requestGroupDto.description.length < 255) {\n        this.errorMessageDes = \"\";\n      }\n\n      if (this.requestGroupDto.description.length > 255) {\n        this.errorMessageDes = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    save: function save() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _i, _Object$keys, key, response;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.formErrorMaxLength = false;\n                _this.formError = false;\n\n                for (_i = 0, _Object$keys = Object.keys(_this.form); _i < _Object$keys.length; _i++) {\n                  key = _Object$keys[_i];\n\n                  if (!_this.form[key] || _this.form[key].trim().length == 0) {\n                    _this.formError = true;\n\n                    _this.$refs[key].focus();\n                  }\n\n                  if (_this.form[key].trim().length > 255) {\n                    _this.formErrorMaxLength = true;\n\n                    _this.$refs[key].focus();\n                  }\n\n                  _this.$refs[key].validate();\n                }\n\n                if (!_this.formError) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.errorMessage = _this.$t(\"message.msg_1\"));\n\n              case 5:\n                if (!_this.formErrorMaxLength) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.errorMessage = _this.$t(\"message.maxlength_required_255\"));\n\n              case 7:\n                if (!(_this.requestGroupDto.description.length > 255)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.errorMessageDes = _this.$t(\"message.maxlength_required_255\"));\n\n              case 9:\n                if (!_this.isSaving) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                _this.isSaving = true;\n                _this.requestGroupDto.requestGroupName = _this.requestGroupDto.requestGroupName.trim();\n                _this.requestGroupDto.description = _this.requestGroupDto.description.trim();\n\n                if (!_this.requestGroupDto.id) {\n                  _this.requestGroupDto.created = _this.getUserInfo();\n                  _this.requestGroupDto.createdName = _this.getUserInfo().fullName;\n                  _this.requestGroupDto.createdDate = new Date();\n                }\n\n                _this.requestGroupDto.modified = _this.getUserInfo();\n                _this.requestGroupDto.modifiedName = _this.getUserInfo().fullName;\n                _this.requestGroupDto.modifiedDate = new Date();\n                _context.prev = 18;\n                _context.next = 21;\n                return globalService.postData_Async(administratorAPI.API_CreateRequestGroup(), _this.requestGroupDto);\n\n              case 21:\n                response = _context.sent;\n\n                if (response) {\n                  _context.next = 24;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.toastError(_this.$t(\"error.save\")));\n\n              case 24:\n                if (response.state) {\n                  _context.next = 26;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.toastError(_this.$t(\"message.add_success\")));\n\n              case 26:\n                if (response) {\n                  _this.toastSuccess(_this.$t(\"message.msg_3\"));\n                }\n\n                _this.requestGroupDto = response.data;\n                _this.isSaving = false;\n\n                _this._save();\n\n                _this.close();\n\n                _context.next = 36;\n                break;\n\n              case 33:\n                _context.prev = 33;\n                _context.t0 = _context[\"catch\"](18);\n\n                _this.toastError(_context.t0);\n\n              case 36:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[18, 33]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;EACAA,2BADA;EAEA;EACAC,IAHA,kBAGA;IACA;MACAC,gCADA;MAEAC,gBAFA;MAGAC,eAHA;MAIAC,gBAJA;MAKAC,mBALA;MAMAC;QACAC,aADA;QAEAC,uBAFA;QAGAC,eAHA;QAIAC,eAJA;QAKAC,QALA;QAMAC,cANA;QAOAC,eAPA;QAQAC,cARA;QASAC,wBATA;QAUAC,gBAVA;QAWAC,gBAXA;QAYAC,oBAZA;QAaAC,oBAbA;QAcAC,oBAdA;QAeAC,oBAfA;QAgBAC,aAhBA;QAiBAC,eAjBA;QAkBAC;MAlBA;IANA;EA2BA,CA/BA;EAgCAC,OAhCA,qBAgCA;IACA;IACA;EACA,CAnCA;EAoCAC,SApCA;EAqCAC;IACAC,IADA,kBACA;MACA;QACAP;MADA;IAGA;EALA,CArCA;EA4CAQ;IACAC,KADA,mBACA;MACA;MACA;MACA;MACA;IACA,CANA;IAOAC,KAPA,mBAOA;MACA;IACA,CATA;IAUAC,OAVA,qBAUA;MACA,IACA,+CACA,kDAFA,EAGA;QACA;MACA;;MACA;QACA;MACA;IACA,CApBA;IAqBAC,UArBA,wBAqBA;MACA,IACA,0CACA,6CAFA,EAGA;QACA;MACA;;MACA;QACA,+BACA,gCADA;MAGA;IACA,CAjCA;IAkCAC,IAlCA,kBAkCA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;;gBACA;kBAAAC;;kBACA;oBACA;;oBACA;kBACA;;kBACA;oBACA;;oBACA;kBACA;;kBACA;gBACA;;gBAbA,KAcA,eAdA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAeA,8CAfA;;cAAA;gBAAA,KAiBA,wBAjBA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAkBA,8BACA,gCADA,CAlBA;;cAAA;gBAAA,MAsBA,8CAtBA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAuBA,iCACA,gCADA,CAvBA;;cAAA;gBAAA,KA2BA,cA3BA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBA8BA;gBAEA,yCACA,6CADA;gBAEA,oCACA,wCADA;;gBAEA;kBACA;kBACA;kBACA;gBACA;;gBACA;gBACA;gBACA;gBA3CA;gBAAA;gBAAA,OA6CAC,6BACAC,yCADA,EAEA,qBAFA,CA7CA;;cAAA;gBA6CAC,QA7CA;;gBAAA,IAiDAA,QAjDA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAkDA,wCAlDA;;cAAA;gBAAA,IAoDAA,cApDA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAqDA,iDArDA;;cAAA;gBAuDA;kBACA;gBACA;;gBACA;gBACA;;gBACA;;gBACA;;gBA7DA;gBAAA;;cAAA;gBAAA;gBAAA;;gBA+DA;;cA/DA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiEA;EAnGA;AA5CA","names":["name","data","requestGroupDto","formError","isSaving","errorMessage","errorMessageDes","defaultItem","created","createdDate","createdName","description","id","isActive","isDelete","modified","modifiedDate","modifiedName","numberRequest","numberRequestData","numberRequestType","requestGroupCode","requestGroupName","tennant","tennantCode","tennantName","mounted","watch","computed","form","methods","close","_save","onKeyUp","onKeyUpDes","save","key","globalService","administratorAPI","response"],"sourceRoot":"src/views/modules/administrator/RequestGroup","sources":["EditRequestGroup.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\" class=\"overflow-hidden\">\r\n\t\t<v-card ref=\"form\">\r\n\t\t\t<v-card-title>\r\n\t\t\t\t<span class=\"text-h5\">{{\r\n\t\t\t\t\t$t(\"title.create_group_request\")\r\n\t\t\t\t}}</span>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-card-text>\r\n\t\t\t\t<v-container>\r\n\t\t\t\t\t<v-form v-model=\"valid\">\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\tref=\"requestGroupName\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"requestGroupDto.requestGroupName\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t@keyup=\"onKeyUp\"\r\n\t\t\t\t\t\t\t\t\t:error-messages=\"errorMessage\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"label.request_group_name\") }}\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-red\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"label.star\") }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t<v-textarea\r\n\t\t\t\t\t\t\t\t\tv-model=\"requestGroupDto.description\"\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.description')\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t@keyup=\"onKeyUpDes\"\r\n\t\t\t\t\t\t\t\t\t:error-messages=\"errorMessageDes\"\r\n\t\t\t\t\t\t\t\t></v-textarea>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t<v-checkbox\r\n\t\t\t\t\t\t\t\t\tv-model=\"requestGroupDto.isActive\"\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.is_active')\"\r\n\t\t\t\t\t\t\t\t></v-checkbox>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-row class=\"mt-4\">\r\n\t\t\t\t\t<v-col cols=\"12\" md=\"12\" class=\"px-10\">\r\n\t\t\t\t\t\t<div class=\"float-right\">\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\tcolor=\"blue darken-2\"\r\n\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\tclass=\"rounded-0 mr-2\"\r\n\t\t\t\t\t\t\t\t@click=\"save()\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ $t(\"button.ok\") }}</v-btn\r\n\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\tcolor=\"grey lighten-4\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-0\"\r\n\t\t\t\t\t\t\t\t@click=\"close()\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ $t(\"button.cancel\") }}</v-btn\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\n// import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport RequestGroupDto from \"@/models/request-group.dto\";\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../administrator.api\";\r\nexport default {\r\n\tname: \"EditRequestGroupVue\",\r\n\t// components: { VuePerfectScrollbar },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trequestGroupDto: RequestGroupDto,\r\n\t\t\tformError: false,\r\n\t\t\tisSaving: false,\r\n\t\t\terrorMessage: \"\",\r\n\t\t\terrorMessageDes: \"\",\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tcreated: null,\r\n\t\t\t\tcreatedDate: new Date(),\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t\tmodified: null,\r\n\t\t\t\tmodifiedDate: new Date(),\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tnumberRequest: 0,\r\n\t\t\t\tnumberRequestData: 0,\r\n\t\t\t\tnumberRequestType: 0,\r\n\t\t\t\trequestGroupCode: \"\",\r\n\t\t\t\trequestGroupName: \"\",\r\n\t\t\t\ttennant: null,\r\n\t\t\t\ttennantCode: \"\",\r\n\t\t\t\ttennantName: \"\",\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.requestGroupDto = Object.assign({}, RequestGroupDto);\r\n\t\tthis.$Progress.finish();\r\n\t},\r\n\twatch: {},\r\n\tcomputed: {\r\n\t\tform() {\r\n\t\t\treturn {\r\n\t\t\t\trequestGroupName: this.requestGroupDto.requestGroupName,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tthis.requestGroupDto = Object.assign({}, this.defaultItem);\r\n\t\t\tthis.errorMessage = \"\";\r\n\t\t\tthis.errorMessageDes = \"\";\r\n\t\t\tthis.$emit(\"close\", true);\r\n\t\t},\r\n\t\t_save() {\r\n\t\t\tthis.$emit(\"save\", this.requestGroupDto);\r\n\t\t},\r\n\t\tonKeyUp() {\r\n\t\t\tif (\r\n\t\t\t\tthis.requestGroupDto.requestGroupName != \"\" ||\r\n\t\t\t\tthis.requestGroupDto.requestGroupName.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessage = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.requestGroupDto.requestGroupName.length > 255) {\r\n\t\t\t\tthis.errorMessage = this.$t(\"message.maxlength_required_255\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpDes() {\r\n\t\t\tif (\r\n\t\t\t\tthis.requestGroupDto.description != \"\" ||\r\n\t\t\t\tthis.requestGroupDto.description.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessageDes = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.requestGroupDto.description.length > 255) {\r\n\t\t\t\tthis.errorMessageDes = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync save() {\r\n\t\t\tthis.formErrorMaxLength = false;\r\n\t\t\tthis.formError = false;\r\n\t\t\tfor (let key of Object.keys(this.form)) {\r\n\t\t\t\tif (!this.form[key] || this.form[key].trim().length == 0) {\r\n\t\t\t\t\tthis.formError = true;\r\n\t\t\t\t\tthis.$refs[key].focus();\r\n\t\t\t\t}\r\n\t\t\t\tif (this.form[key].trim().length > 255) {\r\n\t\t\t\t\tthis.formErrorMaxLength = true;\r\n\t\t\t\t\tthis.$refs[key].focus();\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs[key].validate();\r\n\t\t\t}\r\n\t\t\tif (this.formError) {\r\n\t\t\t\treturn (this.errorMessage = this.$t(\"message.msg_1\"));\r\n\t\t\t}\r\n\t\t\tif (this.formErrorMaxLength) {\r\n\t\t\t\treturn (this.errorMessage = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t\tif (this.requestGroupDto.description.length > 255) {\r\n\t\t\t\treturn (this.errorMessageDes = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t\tif (this.isSaving) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isSaving = true;\r\n\t\t\tlet response;\r\n\t\t\tthis.requestGroupDto.requestGroupName =\r\n\t\t\t\tthis.requestGroupDto.requestGroupName.trim();\r\n\t\t\tthis.requestGroupDto.description =\r\n\t\t\t\tthis.requestGroupDto.description.trim();\r\n\t\t\tif (!this.requestGroupDto.id) {\r\n\t\t\t\tthis.requestGroupDto.created = this.getUserInfo();\r\n\t\t\t\tthis.requestGroupDto.createdName = this.getUserInfo().fullName;\r\n\t\t\t\tthis.requestGroupDto.createdDate = new Date();\r\n\t\t\t}\r\n\t\t\tthis.requestGroupDto.modified = this.getUserInfo();\r\n\t\t\tthis.requestGroupDto.modifiedName = this.getUserInfo().fullName;\r\n\t\t\tthis.requestGroupDto.modifiedDate = new Date();\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_CreateRequestGroup(),\r\n\t\t\t\t\tthis.requestGroupDto,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"error.save\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"message.add_success\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"message.msg_3\"));\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestGroupDto = response.data;\r\n\t\t\t\tthis.isSaving = false;\r\n\t\t\t\tthis._save();\r\n\t\t\t\tthis.close();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]},"metadata":{},"sourceType":"module"}