{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport constant from \"@/common/constant\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nexport default {\n  name: \"SelectListVue\",\n  components: {\n    VuePerfectScrollbar: VuePerfectScrollbar\n  },\n  props: {\n    items: {\n      type: Array\n    },\n    selected: {\n      type: Array\n    },\n    keyName: {\n      type: String\n    },\n    valueName: {\n      type: String\n    }\n  },\n  watch: {\n    search: function search(value) {\n      var _this = this;\n\n      if (value) {\n        value = value.trim();\n      }\n\n      if (!value) {\n        this.filterdItems = this.m_items;\n        return;\n      }\n\n      this.filterdItems = this.m_items.filter(function (entry) {\n        return _this.matchString(\"\".concat(entry[_this.valueName]), \"\".concat(value));\n      });\n    },\n    searchSelected: function searchSelected(value) {\n      var _this2 = this;\n\n      if (value) {\n        value = value.trim();\n      }\n\n      value = value.trim();\n\n      if (!value) {\n        this.filteredSelected = this.m_selected;\n        return;\n      }\n\n      this.filteredSelected = this.m_selected.filter(function (entry) {\n        return _this2.matchString(\"\".concat(entry[_this2.valueName]), \"\".concat(value));\n      });\n    },\n    m_selected: function m_selected(value) {\n      this.searchSelected = \"\";\n      this.filteredSelected = value;\n    },\n    items: function items(value) {\n      this.m_items = [];\n\n      if (!value) {\n        return;\n      }\n\n      var _iterator = _createForOfIteratorHelper(value),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          this.m_items.push(Object.assign({}, item));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n    m_items: function m_items(value) {\n      this.search = \"\";\n      this.filterdItems = value;\n    },\n    selected: function selected(value) {\n      this.m_selected = [];\n\n      if (!value) {\n        return;\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(value),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var item = _step2.value;\n          this.m_selected.push(Object.assign({}, item));\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  },\n  data: function data() {\n    return {\n      filterdItems: this.items,\n      m_selected: [],\n      filteredSelected: this.m_selected,\n      tempSelect: [],\n      tempRemove: [],\n      search: \"\",\n      searchSelected: \"\",\n      m_items: []\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _iterator3 = _createForOfIteratorHelper(this.items),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var item = _step3.value;\n        this.m_items.push(Object.assign({}, item));\n        this.filterdItems.push(Object.assign({}, item));\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    var _iterator4 = _createForOfIteratorHelper(this.selected),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var _item = _step4.value;\n        this.m_selected.push(Object.assign({}, _item));\n        this.filteredSelected.push(Object.assign({}, _item));\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  },\n  destroyed: function destroyed() {\n    this.m_items = [];\n    this.m_selected = [];\n    this.resetFilter();\n  },\n  methods: {\n    resetFilter: function resetFilter() {\n      this.search = \"\";\n      this.searchSelected = \"\";\n      this.tempSelect = [];\n      this.tempRemove = [];\n    },\n    add: function add() {\n      var _this3 = this;\n\n      if (!this.m_selected) {\n        this.m_selected = [];\n      }\n\n      var _iterator5 = _createForOfIteratorHelper(this.tempSelect),\n          _step5;\n\n      try {\n        var _loop = function _loop() {\n          var item = _step5.value;\n\n          var result = _this3.m_selected.findIndex(function (v) {\n            return v[_this3.keyName] == _this3.filterdItems[item][_this3.keyName];\n          });\n\n          if (result < 0) {\n            _this3.m_selected.push(Object.assign({}, _this3.filterdItems[item]));\n          }\n        };\n\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n\n      this.resetFilter();\n      this.$emit(constant.keys.update, this.m_selected);\n    },\n    remove: function remove() {\n      var _this4 = this;\n\n      var _iterator6 = _createForOfIteratorHelper(this.tempRemove),\n          _step6;\n\n      try {\n        var _loop2 = function _loop2() {\n          var item = _step6.value;\n\n          var result = _this4.m_selected.findIndex(function (v) {\n            return v[_this4.keyName] == _this4.filteredSelected[item][_this4.keyName];\n          });\n\n          if (result >= 0) {\n            _this4.m_selected.splice(result, 1);\n          }\n        };\n\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          _loop2();\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      this.resetFilter();\n      this.$emit(constant.keys.update, this.m_selected);\n    },\n    addAll: function addAll() {\n      var _this5 = this;\n\n      var _iterator7 = _createForOfIteratorHelper(this.filterdItems),\n          _step7;\n\n      try {\n        var _loop3 = function _loop3() {\n          var item = _step7.value;\n\n          var result = _this5.m_selected.findIndex(function (v) {\n            return v[_this5.keyName] == item[_this5.keyName];\n          });\n\n          console.log(\"result\", result);\n\n          if (result < 0) {\n            _this5.m_selected.push(Object.assign({}, item));\n          }\n        };\n\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          _loop3();\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      this.resetFilter();\n      this.$emit(constant.keys.update, this.m_selected);\n    },\n    removeAll: function removeAll() {\n      var _this6 = this;\n\n      // for (let item of this.filteredSelected) {\n      // \tlet result = this.m_selected.findIndex(\n      // \t\t(v) => v[this.keyName] == item[this.keyName],\n      // \t);\n      // \tif (result >= 0) {\n      // \t\tthis.m_selected.splice(result, 1);\n      // \t}\n      // }\n      this.m_selected = this.m_selected.filter(function (ele) {\n        return !_this6.filteredSelected.some(function (ele1) {\n          return ele.id == ele1.id;\n        });\n      });\n      this.resetFilter();\n      this.$emit(constant.keys.update, this.m_selected);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","VuePerfectScrollbar","props","items","type","selected","keyName","valueName","watch","search","value","searchSelected","m_selected","m_items","data","filterdItems","filteredSelected","tempSelect","tempRemove","created","mounted","destroyed","methods","resetFilter","add","item","v","Object","remove","addAll","console","removeAll"],"sourceRoot":"src/components","sources":["SelectList.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<v-skeleton-loader\r\n\t\t\tv-if=\"!items\"\r\n\t\t\tv-bind=\"attrs\"\r\n\t\t\ttype=\"list-item-three-line\"\r\n\t\t></v-skeleton-loader>\r\n\t\t<v-row v-else>\r\n\t\t\t<v-col cols=\"4\">\r\n\t\t\t\t<v-text-field\r\n\t\t\t\t\tfilled\r\n\t\t\t\t\tsingle-line\r\n\t\t\t\t\tclearable\r\n\t\t\t\t\tappend-icon=\"mdi-magnify\"\r\n\t\t\t\t\tv-model=\"search\"\r\n\t\t\t\t\thide-details\r\n\t\t\t\t>\r\n\t\t\t\t</v-text-field>\r\n\t\t\t\t<VuePerfectScrollbar class=\"h-80 grey lighten-4\">\r\n\t\t\t\t\t<v-list two-line class=\"pa-0\">\r\n\t\t\t\t\t\t<v-list-item-group v-model=\"tempSelect\" multiple>\r\n\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\tv-for=\"item in filterdItems\"\r\n\t\t\t\t\t\t\t\t:key=\"item[keyName]\"\r\n\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\tclass=\"grey lighten-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template v-slot:default=\"{ active }\">\r\n\t\t\t\t\t\t\t\t\t<v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t{{ item[valueName] }}\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t</v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t<v-list-item-action>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!active\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey lighten-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-check-circle-outline\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<v-icon v-else color=\"green darken-3\">\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-check-circle\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-list-item-action>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col cols=\"1\" class=\"text-center align-center my-auto\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<v-btn icon @click=\"addAll\">\r\n\t\t\t\t\t\t<v-icon>mdi-chevron-double-right </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<v-btn icon @click=\"add\">\r\n\t\t\t\t\t\t<v-icon>mdi-chevron-right </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<v-btn icon @click=\"remove\">\r\n\t\t\t\t\t\t<v-icon>mdi-chevron-left </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<v-btn icon @click=\"removeAll\">\r\n\t\t\t\t\t\t<v-icon>mdi-chevron-double-left </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</p>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col cols=\"4\">\r\n\t\t\t\t<v-text-field\r\n\t\t\t\t\tfilled\r\n\t\t\t\t\tsingle-line\r\n\t\t\t\t\tclearable\r\n\t\t\t\t\tappend-icon=\"mdi-magnify\"\r\n\t\t\t\t\thide-details\r\n\t\t\t\t\tv-model=\"searchSelected\"\r\n\t\t\t\t>\r\n\t\t\t\t</v-text-field>\r\n\t\t\t\t<VuePerfectScrollbar class=\"h-80 grey lighten-4\">\r\n\t\t\t\t\t<v-list two-line class=\"pa-0\">\r\n\t\t\t\t\t\t<v-list-item-group v-model=\"tempRemove\" multiple>\r\n\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\tv-for=\"item in filteredSelected\"\r\n\t\t\t\t\t\t\t\t:key=\"item[keyName]\"\r\n\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\tclass=\"grey lighten-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template v-slot:default=\"{ active }\">\r\n\t\t\t\t\t\t\t\t\t<v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t\t\t{{ item[valueName] }}\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\t</v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t<v-list-item-action>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!active\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"grey lighten-1\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-close-circle-outline\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<v-icon v-else color=\"red darken-3\">\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-close-circle\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-list-item-action>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport constant from \"@/common/constant\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nexport default {\r\n\tname: \"SelectListVue\",\r\n\tcomponents: { VuePerfectScrollbar },\r\n\tprops: {\r\n\t\titems: { type: Array },\r\n\t\tselected: { type: Array },\r\n\t\tkeyName: { type: String },\r\n\t\tvalueName: { type: String },\r\n\t},\r\n\twatch: {\r\n\t\tsearch(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue = value.trim();\r\n\t\t\t}\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.filterdItems = this.m_items;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.filterdItems = this.m_items.filter((entry) => {\r\n\t\t\t\treturn this.matchString(`${entry[this.valueName]}`, `${value}`);\r\n\t\t\t});\r\n\t\t},\r\n\t\tsearchSelected(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue = value.trim();\r\n\t\t\t}\r\n\t\t\tvalue = value.trim();\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.filteredSelected = this.m_selected;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.filteredSelected = this.m_selected.filter((entry) => {\r\n\t\t\t\treturn this.matchString(`${entry[this.valueName]}`, `${value}`);\r\n\t\t\t});\r\n\t\t},\r\n\t\tm_selected(value) {\r\n\t\t\tthis.searchSelected = \"\";\r\n\t\t\tthis.filteredSelected = value;\r\n\t\t},\r\n\t\titems(value) {\r\n\t\t\tthis.m_items = [];\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (let item of value) {\r\n\t\t\t\tthis.m_items.push(Object.assign({}, item));\r\n\t\t\t}\r\n\t\t},\r\n\t\tm_items(value) {\r\n\t\t\tthis.search = \"\";\r\n\t\t\tthis.filterdItems = value;\r\n\t\t},\r\n\t\tselected(value) {\r\n\t\t\tthis.m_selected = [];\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (let item of value) {\r\n\t\t\t\tthis.m_selected.push(Object.assign({}, item));\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfilterdItems: this.items,\r\n\t\t\tm_selected: [],\r\n\t\t\tfilteredSelected: this.m_selected,\r\n\t\t\ttempSelect: [],\r\n\t\t\ttempRemove: [],\r\n\t\t\tsearch: \"\",\r\n\t\t\tsearchSelected: \"\",\r\n\t\t\tm_items: [],\r\n\t\t};\r\n\t},\r\n\tcreated() {},\r\n\tmounted() {\r\n\t\tfor (let item of this.items) {\r\n\t\t\tthis.m_items.push(Object.assign({}, item));\r\n\t\t\tthis.filterdItems.push(Object.assign({}, item));\r\n\t\t}\r\n\t\tfor (let item of this.selected) {\r\n\t\t\tthis.m_selected.push(Object.assign({}, item));\r\n\t\t\tthis.filteredSelected.push(Object.assign({}, item));\r\n\t\t}\r\n\t},\r\n\tdestroyed() {\r\n\t\tthis.m_items = [];\r\n\t\tthis.m_selected = [];\r\n\t\tthis.resetFilter();\r\n\t},\r\n\tmethods: {\r\n\t\tresetFilter() {\r\n\t\t\tthis.search = \"\";\r\n\t\t\tthis.searchSelected = \"\";\r\n\t\t\tthis.tempSelect = [];\r\n\t\t\tthis.tempRemove = [];\r\n\t\t},\r\n\t\tadd() {\r\n\t\t\tif (!this.m_selected) {\r\n\t\t\t\tthis.m_selected = [];\r\n\t\t\t}\r\n\t\t\tfor (let item of this.tempSelect) {\r\n\t\t\t\tlet result = this.m_selected.findIndex(\r\n\t\t\t\t\t(v) =>\r\n\t\t\t\t\t\tv[this.keyName] ==\r\n\t\t\t\t\t\tthis.filterdItems[item][this.keyName],\r\n\t\t\t\t);\r\n\t\t\t\tif (result < 0) {\r\n\t\t\t\t\tthis.m_selected.push(\r\n\t\t\t\t\t\tObject.assign({}, this.filterdItems[item]),\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.resetFilter();\r\n\t\t\tthis.$emit(constant.keys.update, this.m_selected);\r\n\t\t},\r\n\t\tremove() {\r\n\t\t\tfor (let item of this.tempRemove) {\r\n\t\t\t\tlet result = this.m_selected.findIndex(\r\n\t\t\t\t\t(v) =>\r\n\t\t\t\t\t\tv[this.keyName] ==\r\n\t\t\t\t\t\tthis.filteredSelected[item][this.keyName],\r\n\t\t\t\t);\r\n\t\t\t\tif (result >= 0) {\r\n\t\t\t\t\tthis.m_selected.splice(result, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.resetFilter();\r\n\t\t\tthis.$emit(constant.keys.update, this.m_selected);\r\n\t\t},\r\n\t\taddAll() {\r\n\t\t\tfor (let item of this.filterdItems) {\r\n\t\t\t\tlet result = this.m_selected.findIndex(\r\n\t\t\t\t\t(v) => v[this.keyName] == item[this.keyName],\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(\"result\", result);\r\n\r\n\t\t\t\tif (result < 0) {\r\n\t\t\t\t\tthis.m_selected.push(Object.assign({}, item));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetFilter();\r\n\t\t\tthis.$emit(constant.keys.update, this.m_selected);\r\n\t\t},\r\n\t\tremoveAll() {\r\n\t\t\t// for (let item of this.filteredSelected) {\r\n\t\t\t// \tlet result = this.m_selected.findIndex(\r\n\t\t\t// \t\t(v) => v[this.keyName] == item[this.keyName],\r\n\t\t\t// \t);\r\n\t\t\t// \tif (result >= 0) {\r\n\t\t\t// \t\tthis.m_selected.splice(result, 1);\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tthis.m_selected = this.m_selected.filter(\r\n\t\t\t\t(ele) =>\r\n\t\t\t\t\t!this.filteredSelected.some((ele1) => ele.id == ele1.id),\r\n\t\t\t);\r\n\t\t\tthis.resetFilter();\r\n\t\t\tthis.$emit(constant.keys.update, this.m_selected);\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}