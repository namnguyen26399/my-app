{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport moment from \"moment\";\nexport default {\n  name: \"ListDataField\",\n  data: function data() {\n    var _this = this;\n\n    return {\n      singleSelect: false,\n      dateFormat: \"DD/MM/yyyy\",\n      stt: \"\",\n      createdDate: null,\n      selected: [],\n      dialog: false,\n      dialogView: false,\n      dialogDelete: false,\n      search: \"\",\n      items: [],\n      headers: [// {\n      // \ttext: \"STT\",\n      // \talign: \"start\",\n      // \tsortable: true,\n      // \tfilterable: false,\n      // \tvalue: \"Stt\",\n      // },\n      {\n        text: this.$t(\"label.code_field\"),\n        value: \"fieldDataCode\"\n      }, {\n        text: this.$t(\"label.name_field\"),\n        value: \"fieldDateName\"\n      }, {\n        text: this.$t(\"label.format\"),\n        value: \"objectModel\"\n      }, {\n        text: this.$t(\"label.date_create\"),\n        value: \"createdDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.createdDate) return true;\n          return value.includes(_this.createdDate);\n        }\n      }, {\n        text: this.$t(\"label.is_active\"),\n        value: \"isActive\"\n      }, {\n        text: this.$t(\"label.manipulation\"),\n        value: \"actions\",\n        sortable: false\n      }],\n      desserts: [],\n      editedIndex: -1,\n      editedItem: {\n        id: null,\n        fieldDataCode: \"\",\n        fieldDateName: \"\",\n        objectSchema: \"\",\n        objectModel: \"\",\n        createdId: 0,\n        createdName: \"\",\n        createdDate: new Date(),\n        modifiedId: 0,\n        modifiedName: new Date(),\n        modifiedDate: \"\",\n        isActive: false\n      },\n      defaultItem: {\n        id: null,\n        fieldDataCode: \"\",\n        fieldDateName: \"\",\n        objectSchema: \"\",\n        objectModel: \"\",\n        createdId: 0,\n        createdName: \"\",\n        createdDate: new Date(),\n        modifiedId: 0,\n        modifiedName: \"\",\n        modifiedDate: new Date(),\n        isActive: false\n      }\n    };\n  },\n  computed: {\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? \"Thêm mới\" : \"Chỉnh sửa\";\n    }\n  },\n  watch: {\n    dialog: function dialog(val) {\n      val || this.close();\n    },\n    dialogDelete: function dialogDelete(val) {\n      val || this.closeDelete();\n    },\n    dialogView: function dialogView(val) {\n      val || this.closeView();\n    }\n  },\n  created: function created() {\n    this.initialize();\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return globalService.getData_Async(\"/api/field-data\");\n\n              case 2:\n                response = _context.sent;\n\n                if (response.state) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this2.desserts = response.data;\n                _this2.items = [{\n                  text: \"Home\",\n                  disable: false,\n                  href: \"/Home\"\n                }, {\n                  text: _this2.$t(\"title.list_of_data_field\"),\n                  disable: true\n                }];\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    editItem: function editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n    viewItem: function viewItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogView = true;\n    },\n    deleteItem: function deleteItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n    deleteItemConfirm: function deleteItemConfirm() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this3.isDeleting) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this3.isDeleting = true;\n                _context2.next = 5;\n                return globalService.deleteData_Async(\"/api/field-data/\".concat(_this3.editedIndex), _this3.editedItem);\n\n              case 5:\n                response = _context2.sent;\n\n                if (response.state) {\n                  _this3.isDeleting = true;\n                  _this3.success = true;\n                } else {\n                  _this3.error = true;\n                }\n\n                _this3.isDeleting = false;\n\n                _this3.initialize();\n\n                _this3.closeDelete();\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    deleteAll: function deleteAll() {\n      if (this.selected.length > 0) {\n        alert(this.$t(\"label.confirm_delete\"));\n      } else {\n        alert(this.$t(\"label.alert_no_selected\"));\n      }\n    },\n    close: function close() {\n      var _this4 = this;\n\n      this.dialog = false;\n      this.$nextTick(function () {\n        _this4.editedItem = Object.assign({}, _this4.defaultItem);\n        _this4.editedIndex = -1;\n      });\n    },\n    closeView: function closeView() {\n      this.dialogView = false;\n    },\n    closeDelete: function closeDelete() {\n      var _this5 = this;\n\n      this.dialogDelete = false;\n      this.$nextTick(function () {\n        _this5.editedItem = Object.assign({}, _this5.defaultItem);\n        _this5.editedIndex = -1;\n      });\n    },\n    save: function save() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response, _response;\n\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this6.isSaving) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                _this6.isSaving = true;\n\n                if (!(_this6.editedIndex > -1)) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                _context3.next = 6;\n                return globalService.putData_Async(\"/api/field-data\", _this6.editedItem);\n\n              case 6:\n                response = _context3.sent;\n\n                if (response.state) {\n                  _this6.success = true;\n                } else {\n                  _this6.isSaving = false;\n                  _this6.error = true;\n                }\n\n                _context3.next = 14;\n                break;\n\n              case 10:\n                _context3.next = 12;\n                return globalService.postData_Async(\"/api/field-data\", _this6.editedItem);\n\n              case 12:\n                _response = _context3.sent;\n\n                if (_response.state) {\n                  _this6.success = true;\n                } else {\n                  _this6.isSaving = false;\n                  _this6.error = true;\n                }\n\n              case 14:\n                _this6.initialize();\n\n                _this6.close();\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","data","singleSelect","dateFormat","stt","createdDate","selected","dialog","dialogView","dialogDelete","search","items","headers","text","value","formatter","x","filter","sortable","desserts","editedIndex","editedItem","id","fieldDataCode","fieldDateName","objectSchema","objectModel","createdId","createdName","modifiedId","modifiedName","modifiedDate","isActive","defaultItem","computed","formTitle","watch","val","created","methods","initialize","globalService","response","disable","href","editItem","item","viewItem","deleteItem","deleteItemConfirm","deleteAll","alert","close","closeView","closeDelete","save"],"sourceRoot":"src/views/modules/administrator/Form","sources":["ListDataField.vue"],"sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<v-toolbar-title class=\"mt-2 ml-2\">{{\r\n\t\t\t$t(\"title.list_of_data_field\")\r\n\t\t}}</v-toolbar-title>\r\n\t\t<div>\r\n\t\t\t<v-breadcrumbs :items=\"items\" divider=\">\"></v-breadcrumbs>\r\n\t\t</div>\r\n\t\t<v-data-table\r\n\t\t\tv-model=\"selected\"\r\n\t\t\t:headers=\"headers\"\r\n\t\t\t:items=\"desserts\"\r\n\t\t\t:single-select=\"singleSelect\"\r\n\t\t\titem-key=\"Stt\"\r\n\t\t\tshow-select\r\n\t\t\tclass=\"elevation-1\"\r\n\t\t\t:search=\"search\"\r\n\t\t>\r\n\t\t\t<template v-slot:top>\r\n\t\t\t\t<v-toolbar flat>\r\n\t\t\t\t\t<v-dialog v-model=\"dialog\" max-width=\"60vw\">\r\n\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tv-model=\"search\"\r\n\t\t\t\t\t\t\t\tappend-icon=\"mdi-magnify\"\r\n\t\t\t\t\t\t\t\t:label=\"$t('title.search')\"\r\n\t\t\t\t\t\t\t\tsingle-line\r\n\t\t\t\t\t\t\t\thide-details\r\n\t\t\t\t\t\t\t\tclass=\"mx-4\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\tclass=\"mb-2\"\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon small color=\"white\">\r\n\t\t\t\t\t\t\t\t\t\tmdi-plus-circle\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t\tclass=\"ml-2 mb-2\"\r\n\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteAll\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title>\r\n\t\t\t\t\t\t\t\t<span class=\"text-h5\">{{ formTitle }}</span>\r\n\t\t\t\t\t\t\t</v-card-title>\r\n\r\n\t\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t\t<v-container>\r\n\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem.fieldDataCode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.code_field')\"\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem.fieldDateName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.name_field')\"\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.objectModel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.format')\"\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t:v-model=\"editedItem.createdDate\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.created_date')\"\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col> -->\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t$t(\"label.is_active\")\r\n\t\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-simple-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.isActive\"\r\n\t\t\t\t\t\t\t\t\t\t\t></v-simple-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t</v-container>\r\n\t\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\t@click=\"close\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-close </v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.cancel\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"save\">\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.save\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<v-dialog v-model=\"dialogView\" max-width=\"60vw\">\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title>\r\n\t\t\t\t\t\t\t\t<span class=\"text-h5\">Thông tin</span>\r\n\t\t\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t\t<v-container>\r\n\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem.fieldDataCode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.code_field')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem.fieldDateName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.name_field')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.objectModel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.format')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.createdDate\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.date_create')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col> -->\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t$t(\"label.is_active\")\r\n\t\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-simple-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.isSuDung\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t></v-simple-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t</v-container>\r\n\t\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\t@click=\"closeView\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-close </v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.cancel\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<v-dialog v-model=\"dialogDelete\" max-width=\"20vw\">\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title class=\"text-h5\">{{\r\n\t\t\t\t\t\t\t\t$t(\"label.confirm_delete\")\r\n\t\t\t\t\t\t\t}}</v-card-title>\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\t@click=\"closeDelete\"\r\n\t\t\t\t\t\t\t\t\t>{{ $t(\"button.no\") }}</v-btn\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteItemConfirm\"\r\n\t\t\t\t\t\t\t\t\t>{{ $t(\"button.yes\") }}</v-btn\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t</v-toolbar>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-slot:[`item.actions`]=\"{ item }\">\r\n\t\t\t\t<v-icon\r\n\t\t\t\t\tsmall\r\n\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t@click=\"viewItem(item)\"\r\n\t\t\t\t>\r\n\t\t\t\t\tmdi-eye\r\n\t\t\t\t</v-icon>\r\n\t\t\t\t<v-icon\r\n\t\t\t\t\tsmall\r\n\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t@click=\"editItem(item)\"\r\n\t\t\t\t>\r\n\t\t\t\t\tmdi-pencil\r\n\t\t\t\t</v-icon>\r\n\t\t\t\t<v-icon small color=\"red\" @click=\"deleteItem(item)\">\r\n\t\t\t\t\tmdi-trash-can-outline\r\n\t\t\t\t</v-icon>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:no-data>\r\n\t\t\t\t<v-btn color=\"primary\" @click=\"initialize\"> Reset </v-btn>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:no-results\r\n\t\t\t\t><h1>{{ $t(\"message.no_results\") }}</h1>\r\n\t\t\t</template>\r\n\t\t\t<template\r\n\t\t\t\tv-for=\"header in headers.filter((header) =>\r\n\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t)\"\r\n\t\t\t\tv-slot:[`item.${header.value}`]=\"{ headers, value }\"\r\n\t\t\t>\r\n\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.isActive`]=\"{ item }\">\r\n\t\t\t\t<v-simple-checkbox\r\n\t\t\t\t\tv-model=\"item.isActive\"\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t></v-simple-checkbox>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</v-card>\r\n</template>\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport moment from \"moment\";\r\nexport default {\r\n\tname: \"ListDataField\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsingleSelect: false,\r\n\t\t\tdateFormat: \"DD/MM/yyyy\",\r\n\t\t\tstt: \"\",\r\n\t\t\tcreatedDate: null,\r\n\t\t\tselected: [],\r\n\t\t\tdialog: false,\r\n\t\t\tdialogView: false,\r\n\t\t\tdialogDelete: false,\r\n\t\t\tsearch: \"\",\r\n\t\t\titems: [],\r\n\t\t\theaders: [\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: \"STT\",\r\n\t\t\t\t// \talign: \"start\",\r\n\t\t\t\t// \tsortable: true,\r\n\t\t\t\t// \tfilterable: false,\r\n\t\t\t\t// \tvalue: \"Stt\",\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.code_field\"),\r\n\t\t\t\t\tvalue: \"fieldDataCode\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.name_field\"),\r\n\t\t\t\t\tvalue: \"fieldDateName\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.format\"),\r\n\t\t\t\t\tvalue: \"objectModel\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.date_create\"),\r\n\t\t\t\t\tvalue: \"createdDate\",\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.createdDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{ text: this.$t(\"label.is_active\"), value: \"isActive\" },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.manipulation\"),\r\n\t\t\t\t\tvalue: \"actions\",\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdesserts: [],\r\n\t\t\teditedIndex: -1,\r\n\t\t\teditedItem: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tfieldDataCode: \"\",\r\n\t\t\t\tfieldDateName: \"\",\r\n\t\t\t\tobjectSchema: \"\",\r\n\t\t\t\tobjectModel: \"\",\r\n\t\t\t\tcreatedId: 0,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tcreatedDate: new Date(),\r\n\t\t\t\tmodifiedId: 0,\r\n\t\t\t\tmodifiedName: new Date(),\r\n\t\t\t\tmodifiedDate: \"\",\r\n\t\t\t\tisActive: false,\r\n\t\t\t},\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tfieldDataCode: \"\",\r\n\t\t\t\tfieldDateName: \"\",\r\n\t\t\t\tobjectSchema: \"\",\r\n\t\t\t\tobjectModel: \"\",\r\n\t\t\t\tcreatedId: 0,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tcreatedDate: new Date(),\r\n\t\t\t\tmodifiedId: 0,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tmodifiedDate: new Date(),\r\n\t\t\t\tisActive: false,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tformTitle() {\r\n\t\t\treturn this.editedIndex === -1 ? \"Thêm mới\" : \"Chỉnh sửa\";\r\n\t\t},\r\n\t},\r\n\r\n\twatch: {\r\n\t\tdialog(val) {\r\n\t\t\tval || this.close();\r\n\t\t},\r\n\t\tdialogDelete(val) {\r\n\t\t\tval || this.closeDelete();\r\n\t\t},\r\n\t\tdialogView(val) {\r\n\t\t\tval || this.closeView();\r\n\t\t},\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.initialize();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync initialize() {\r\n\t\t\tlet response = await globalService.getData_Async(\"/api/field-data\");\r\n\t\t\tif (!response.state) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.desserts = response.data;\r\n\t\t\tthis.items = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Home\",\r\n\t\t\t\t\tdisable: false,\r\n\t\t\t\t\thref: \"/Home\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(`title.list_of_data_field`),\r\n\t\t\t\t\tdisable: true,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t},\r\n\r\n\t\teditItem(item) {\r\n\t\t\tthis.editedIndex = this.desserts.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialog = true;\r\n\t\t},\r\n\t\tviewItem(item) {\r\n\t\t\tthis.editedIndex = this.desserts.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialogView = true;\r\n\t\t},\r\n\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.editedIndex = this.desserts.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialogDelete = true;\r\n\t\t},\r\n\r\n\t\tasync deleteItemConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\tlet response = await globalService.deleteData_Async(\r\n\t\t\t\t`/api/field-data/${this.editedIndex}`,\r\n\t\t\t\tthis.editedItem,\r\n\t\t\t);\r\n\t\t\tif (response.state) {\r\n\t\t\t\tthis.isDeleting = true;\r\n\t\t\t\tthis.success = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.error = true;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = false;\r\n\t\t\tthis.initialize();\r\n\t\t\tthis.closeDelete();\r\n\t\t},\r\n\t\tdeleteAll() {\r\n\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\talert(this.$t(\"label.confirm_delete\"));\r\n\t\t\t} else {\r\n\t\t\t\talert(this.$t(\"label.alert_no_selected\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose() {\r\n\t\t\tthis.dialog = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseView() {\r\n\t\t\tthis.dialogView = false;\r\n\t\t},\r\n\r\n\t\tcloseDelete() {\r\n\t\t\tthis.dialogDelete = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync save() {\r\n\t\t\tif (this.isSaving) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isSaving = true;\r\n\t\t\tif (this.editedIndex > -1) {\r\n\t\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\t\"/api/field-data\",\r\n\t\t\t\t\tthis.editedItem,\r\n\t\t\t\t);\r\n\t\t\t\tif (response.state) {\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t\tthis.error = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\t\"/api/field-data\",\r\n\t\t\t\t\tthis.editedItem,\r\n\t\t\t\t);\r\n\t\t\t\tif (response.state) {\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t\tthis.error = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.initialize();\r\n\t\t\tthis.close();\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}