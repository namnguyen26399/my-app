{"ast":null,"code":"import _typeof from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.array.join.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport moment from \"moment\";\nimport constant from \"@/common/constant.js\";\nimport administratorAPI from \"../administrator.api\";\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nimport EditRequestGroupVue from \"../RequestGroup/EditRequestGroup.vue\";\nexport default {\n  name: \"QuanTriNhomLoaiYeuCau\",\n  components: {\n    DeleteDialogVue: DeleteDialogVue,\n    BreadcrumbsVue: BreadcrumbsVue,\n    EditRequestGroupVue: EditRequestGroupVue\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      errorMessageSearchRequestCode: \"\",\n      errorMessageSearchRequestName: \"\",\n      errorMessageSearchCreatedDate: \"\",\n      errorMessageSearchAll: \"\",\n      user_current: this.getUserInfo(),\n      requestCode: \"\",\n      requestName: \"\",\n      createdName: \"\",\n      createdDate: null,\n      modifiedDate: null,\n      dateFormat: \"DD/MM/yyyy\",\n      isActive: this.$t(\"label.show_all\"),\n      organization: this.$t(\"label.show_all\"),\n      processInfos: this.$t(\"label.show_all\"),\n      singleSelect: false,\n      showPicker: false,\n      showModifyDatePicker: false,\n      editRequestGroupDialog: false,\n      selected: [],\n      selected_group: [],\n      dialog: {\n        view: false,\n        edit: false,\n        delete: false,\n        dropdown: false\n      },\n      updateItem: {},\n      filterItems: [this.$t(\"label.show_all\"), this.$t(\"label.used\"), this.$t(\"label.unused\")],\n      items: [],\n      search: \"\",\n      modifiedName: \"\",\n      isDeleting: false,\n      isDeleting_group: false,\n      isSaving: false,\n      itemsDropdown: [{\n        title: this.$t(\"label.type_group\")\n      }, {\n        title: this.$t(\"label.request_group\")\n      }],\n      headers_group: [{\n        text: this.$t(\"label.type_group\"),\n        value: \"requestGroupName\",\n        filter: function filter(value) {\n          if (!_this.requestGroupName || !value) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.requestGroupName).trim().toLocaleUpperCase());\n        }\n      }, {\n        text: this.$t(\"label.processing_process\"),\n        value: \"processInfos\"\n      }, {\n        text: this.$t(\"label.organization\"),\n        value: \"\"\n      }, {\n        text: this.$t(\"label.modified_name\"),\n        value: \"\"\n      }, {\n        text: this.$t(\"label.modified_date\"),\n        value: \"\"\n      }, {\n        text: \"\",\n        value: \"data-table-expand\"\n      }],\n      requests_group: [],\n      requests: [],\n      errorMessageSearchCreatedName: \"\",\n      filterOrganization: [],\n      listProcess: []\n    };\n  },\n  watch: {\n    dialog: function dialog(val) {\n      val || this.close();\n    },\n    dialogDelete: function dialogDelete(val) {\n      val || this.closeDelete();\n    },\n    dialogView: function dialogView(val) {\n      val || this.closeView();\n    },\n    dialogDeleteAll: function dialogDeleteAll(val) {\n      val || this.closeDeleteAll();\n    }\n  },\n  computed: {\n    formatDateFns: function formatDateFns() {\n      return this.createdDate ? moment(this.createdDate).format(this.dateFormat) : \"\";\n    },\n    formatModifyDateFns: function formatModifyDateFns() {\n      return this.modifiedDate ? moment(this.modifiedDate).format(this.dateFormat) : \"\";\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2.$Progress.start();\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this3.$Progress.finish();\n\n              _context2.next = 3;\n              return _this3.initialize();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response, i;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this4.getRequestGroup();\n\n                _this4.getAllOrganzation();\n\n                _this4.getAllProcess();\n\n                _context3.prev = 3;\n                _context3.next = 6;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequest());\n\n              case 6:\n                response = _context3.sent;\n\n                if (response) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 9:\n                if (response.state) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 11:\n                _this4.requests = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                for (i = 0; i < _this4.requests.length; i++) {\n                  _this4.requests[i].modifiedName = _this4.requests[i].modified.fullName;\n                  _this4.requests[i][\"organization\"] = _this4.show_organization(_this4.requests[i].processInfos);\n                }\n\n                _this4.sortList(_this4.requests); // console.log(\"this.requests\", this.requests);\n\n\n                _context3.next = 19;\n                break;\n\n              case 16:\n                _context3.prev = 16;\n                _context3.t0 = _context3[\"catch\"](3);\n\n                _this4.toastError(_context3.t0);\n\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[3, 16]]);\n      }))();\n    },\n    getRequestGroup: function getRequestGroup() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequestGroup());\n\n              case 2:\n                response = _context4.sent;\n                _this5.requests_group = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    getAllOrganzation: function getAllOrganzation() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindAllOrganization());\n\n              case 3:\n                response = _context5.sent;\n\n                if (!(!response || !response.state)) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 6:\n                _this6.filterOrganization = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                _this6.filterOrganization.unshift(_this6.$t(\"label.show_all\"));\n\n                _context5.next = 13;\n                break;\n\n              case 10:\n                _context5.prev = 10;\n                _context5.t0 = _context5[\"catch\"](0);\n\n                _this6.toastError(_context5.t0);\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[0, 10]]);\n      }))();\n    },\n    getAllProcess: function getAllProcess() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllProcessInfo());\n\n              case 2:\n                response = _context6.sent;\n\n                if (!(!response || !response.state)) {\n                  _context6.next = 5;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 5:\n                _this7.listProcess = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                }); // console.log(this.listProcess);\n\n                _this7.listProcess.unshift(_this7.$t(\"label.show_all\"));\n\n                _this7.sortList(_this7.listProcess);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    },\n    deleteItem: function deleteItem(item) {\n      this.selected = [item];\n      this.dialog.delete = true;\n    },\n    deleteItemConfirm: function deleteItemConfirm() {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var response, _iterator, _step, item, index;\n\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _this8.selected = _this8.selected.map(function (entry) {\n                  entry.isDelete = true;\n                  return entry;\n                });\n                _context7.prev = 1;\n                _context7.next = 4;\n                return globalService.postData_Async(administratorAPI.API_SaveAllRequest(), _this8.selected);\n\n              case 4:\n                response = _context7.sent;\n\n                if (!response || !response.state) {\n                  _this8.toastError(_this8.$t(\"message.error\"));\n                }\n\n                _iterator = _createForOfIteratorHelper(_this8.selected);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    item = _step.value;\n                    index = _this8.requests.indexOf(item);\n\n                    _this8.requests.splice(index, 1);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                _this8.selected = [];\n\n                _this8.toastSuccess(_this8.$t(\"message.success\"));\n\n                _this8.closeDelete();\n\n                _context7.next = 16;\n                break;\n\n              case 13:\n                _context7.prev = 13;\n                _context7.t0 = _context7[\"catch\"](1);\n\n                _this8.toastError(_context7.t0);\n\n              case 16:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 13]]);\n      }))();\n    },\n    closeDelete: function closeDelete() {\n      this.dialog.delete = false;\n    },\n    closeDeleteAll: function closeDeleteAll() {\n      this.dialog.delete = false;\n    },\n    customFilter: function customFilter(value, search, item) {\n      return !!search && this.match(item, search);\n    },\n    sortList: function sortList(arr) {\n      return arr.sort(function (a, b) {\n        return moment(b.createdDate).toDate().getTime() - moment(a.createdDate).toDate().getTime();\n      });\n    },\n    deleteAll: function deleteAll() {\n      if (this.selected.length > 0 || this.selected_group.length > 0) {\n        this.dialog.delete = true;\n      } else {\n        this.toastError(this.$t(\"message.alert_no_selected\"));\n      }\n    },\n    onKeyUpSearchForRequestCode: function onKeyUpSearchForRequestCode() {\n      if (this.requestCode != \"\" || this.requestCode.length < 255) {\n        this.errorMessageSearchRequestCode = \"\";\n      }\n\n      if (this.requestCode.length > 255) {\n        this.errorMessageSearchRequestCode = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpSearchForRequestName: function onKeyUpSearchForRequestName() {\n      if (this.requestName != \"\" || this.requestName.length < 255) {\n        this.errorMessageSearchRequestName = \"\";\n      }\n\n      if (this.requestName.length > 255) {\n        this.errorMessageSearchRequestName = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpSearchForCreatedName: function onKeyUpSearchForCreatedName() {\n      if (this.createdName != \"\" || this.createdName.length < 255) {\n        this.errorMessageSearchCreatedName = \"\";\n      }\n\n      if (this.createdName.length > 255) {\n        this.errorMessageSearchCreatedName = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpForSearchAll: function onKeyUpForSearchAll() {\n      if (this.search != \"\" || this.search.length < 255) {\n        this.errorMessageSearchAll = \"\";\n      }\n\n      if (this.search.length > 255) {\n        this.errorMessageSearchAll = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    deleteAllConfirm: function deleteAllConfirm() {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (!_this9.isDeleting) {\n                  _context8.next = 2;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\");\n\n              case 2:\n                _this9.isDeleting = true;\n                _this9.selected = _this9.selected.map(function (entry) {\n                  entry.isDelete = true;\n                  return entry;\n                });\n                _context8.next = 6;\n                return globalService.postData_Async(\"/api/_save/requests/\", _this9.selected);\n\n              case 6:\n                response = _context8.sent;\n\n                if (response.state) {\n                  _this9.isDeleting = true;\n\n                  _this9.toastSuccess(_this9.$t(\"success.delete\"));\n                } else {\n                  _this9.toastError(_this9.$t(\"message.error\"));\n                }\n\n                _this9.selected = [];\n                _this9.isDeleting = false;\n\n                _this9.closeDeleteAll();\n\n                _this9.initialize();\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    },\n    onConfirmDelete: function onConfirmDelete(value) {\n      if (!value) {\n        this.onCloseDialog();\n      } else {\n        if (this.selected.length > 0) {\n          this.deleteAllConfirm();\n        }\n\n        if (this.selected_group.length > 0) {\n          this.deleteAllConfirm_Group();\n        }\n      }\n    },\n    deleteAllConfirm_Group: function deleteAllConfirm_Group() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!_this10.isDeleting_group) {\n                  _context9.next = 2;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\");\n\n              case 2:\n                _this10.isDeleting_group = true;\n                _this10.selected_group = _this10.selected_group.map(function (entry) {\n                  entry.isDelete = true;\n                  return entry;\n                });\n                _context9.next = 6;\n                return globalService.postData_Async(\"/api/_save/request-groups/\", _this10.selected_group);\n\n              case 6:\n                response = _context9.sent;\n\n                if (!response.state) {\n                  _this10.toastError(response.message);\n                }\n\n                if (response.state) {\n                  _this10.isDeleting_group = true;\n\n                  _this10.toastSuccess(_this10.$t(\"success.delete\"));\n                }\n\n                if (!response) {\n                  _this10.toastError(_this10.$t(\"message.error\"));\n                }\n\n                _this10.selected_group = [];\n                _this10.isDeleting_group = false;\n\n                _this10.closeDeleteAll();\n\n                _this10.initialize();\n\n              case 14:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }))();\n    },\n    openDropDown: function openDropDown() {\n      this.dialog.dropdown = true;\n    },\n    show_processName: function show_processName(processInfo) {\n      var processName = [];\n\n      for (var i = 0; i < processInfo.length; i++) {\n        processName.push(processInfo[i].processName);\n      }\n\n      return processName;\n    },\n    show_organization: function show_organization(processInfo) {\n      var organization = [];\n\n      for (var i = 0; i < processInfo.length; i++) {\n        if (processInfo[i].organizations.length > 0) {\n          for (var j = 0; j < processInfo[i].organizations.length; j++) {\n            if (!organization.includes(processInfo[i].organizations[j].organizationName)) {\n              organization.push(processInfo[i].organizations[j].organizationName);\n            }\n          }\n        }\n      }\n\n      return organization;\n    },\n    searchRequestTypeInRequestGroup: function searchRequestTypeInRequestGroup(item, requestName, organization, modifiedName, processInfos, modifiedDate) {\n      var _this11 = this;\n\n      // console.log(\"organization\", organization);\n      console.log(\"modifiedDate\", modifiedDate);\n      console.log(\"modifiedDate format\", moment(modifiedDate).format(this.dateFormat));\n      console.log(\"typeof modifiedDate\", _typeof(modifiedDate));\n      var list = [];\n      var listFilter = [];\n\n      for (var i = 0; i < this.requests.length; i++) {\n        if (this.requests[i].requestGroup.requestGroupName == item.requestGroupName) {\n          list.push(this.requests[i]);\n\n          if (requestName.length > 0 || modifiedName.length > 0 || organization.length > 0 && organization != this.$t(\"label.show_all\") || processInfos.length > 0 && processInfos != this.$t(\"label.show_all\") || modifiedDate != null) {\n            listFilter = list.filter(function (entry) {\n              console.log(\"this.show_processName(entry.processInfos).join(\", \").includes(processInfos)\", _this11.show_processName(entry.processInfos).join(\",\").includes(processInfos));\n              console.log(\"moment(entry.modifiedDate).format(this.dateFormat)\", moment(entry.modifiedDate).format(_this11.dateFormat));\n              return entry.requestName.includes(requestName) && entry.modified.fullName.includes(modifiedName) && (_this11.show_organization(entry.processInfos).join(\",\").includes(organization) || _this11.show_processName(entry.processInfos).join(\",\").includes(processInfos) || moment(entry.modifiedDate).format(_this11.dateFormat) == moment(modifiedDate).format(_this11.dateFormat));\n            });\n          } else {\n            listFilter = list;\n          }\n        }\n      } // console.log(\"list\", list);\n\n\n      return listFilter;\n    },\n    openEditRequestGroup: function openEditRequestGroup() {\n      this.editRequestGroupDialog = true;\n    },\n    onClose: function onClose(value) {\n      if (value) {\n        this.editRequestGroupDialog = false;\n      }\n    },\n    onSaveRequestGroup: function onSaveRequestGroup(value) {\n      console.log(value);\n      this.initialize();\n    },\n    selectItem_: function selectItem_(item) {\n      console.log(this.selected.indexOf(item));\n      var index = this.selected.indexOf(item);\n\n      if (index == -1) {\n        this.selected.push(item);\n        console.log(\"this.selected push\", this.selected); // return;\n      } else {\n        console.log(\"index\", index);\n        this.selected.splice(index, 1);\n        console.log(\"this.selected delete\", this.selected); // return;\n      }\n    },\n    moment__: function moment__(x) {\n      return x ? moment(x).format(this.dateFormat) : null;\n    }\n  },\n  filters: constant.filters\n};","map":{"version":3,"mappings":"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","names":["name","components","DeleteDialogVue","BreadcrumbsVue","EditRequestGroupVue","data","errorMessageSearchRequestCode","errorMessageSearchRequestName","errorMessageSearchCreatedDate","errorMessageSearchAll","user_current","requestCode","requestName","createdName","createdDate","modifiedDate","dateFormat","isActive","organization","processInfos","singleSelect","showPicker","showModifyDatePicker","editRequestGroupDialog","selected","selected_group","dialog","view","edit","delete","dropdown","updateItem","filterItems","items","search","modifiedName","isDeleting","isDeleting_group","isSaving","itemsDropdown","title","headers_group","text","value","filter","toLocaleUpperCase","includes","trim","requests_group","requests","errorMessageSearchCreatedName","filterOrganization","listProcess","watch","val","dialogDelete","dialogView","dialogDeleteAll","computed","formatDateFns","moment","formatModifyDateFns","created","mounted","methods","initialize","globalService","administratorAPI","response","getRequestGroup","getAllOrganzation","getAllProcess","deleteItem","item","deleteItemConfirm","entry","index","closeDelete","closeDeleteAll","customFilter","sortList","arr","deleteAll","onKeyUpSearchForRequestCode","onKeyUpSearchForRequestName","onKeyUpSearchForCreatedName","onKeyUpForSearchAll","deleteAllConfirm","onConfirmDelete","deleteAllConfirm_Group","openDropDown","show_processName","processInfo","processName","show_organization","j","organizationName","searchRequestTypeInRequestGroup","console","list","listFilter","join","openEditRequestGroup","onClose","onSaveRequestGroup","selectItem_","moment__","x","filters"],"sourceRoot":"src/views/modules/administrator/QuanTriNhomLoaiYeuCau","sources":["QuanTriNhomLoaiYeucau.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-dialog v-model=\"dialog.delete\" persistent width=\"fit-content\">\r\n\t\t\t<DeleteDialogVue\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@confirmDelete=\"onConfirmDelete\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog max-width=\"60vw\" persistent v-model=\"editRequestGroupDialog\">\r\n\t\t\t<EditRequestGroupVue @close=\"onClose\" @save=\"onSaveRequestGroup\" />\r\n\t\t</v-dialog>\r\n\t\t<v-card> </v-card>\r\n\r\n\t\t<v-col>\r\n\t\t\t<div class=\"flex gap-4\">\r\n\t\t\t\t<span\r\n\t\t\t\t\t>{{ $t(\"label.show_all\") }}\r\n\t\t\t\t\t<v-icon>mdi-menu-down</v-icon></span\r\n\t\t\t\t>\r\n\t\t\t\t<v-divider vertical></v-divider>\r\n\t\t\t\t<v-menu offset-y>\r\n\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t<span v-bind=\"attrs\" v-on=\"on\"\r\n\t\t\t\t\t\t\t><v-icon>mdi-plus</v-icon>\r\n\t\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t\t\t<v-icon>mdi-menu-down</v-icon></span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<v-list>\r\n\t\t\t\t\t\t<v-list-item>\r\n\t\t\t\t\t\t\t<router-link\r\n\t\t\t\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\t\t\t\tpath: '/quan-tri/loai-yeu-cau/tao-moi',\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t\t><v-icon>mdi-shape-plus</v-icon>\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t$t(\"label.type_group\")\r\n\t\t\t\t\t\t\t\t\t}}</v-list-item-title\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t<v-list-item @click=\"openEditRequestGroup()\">\r\n\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t><v-icon>mdi-flip-to-front</v-icon>\r\n\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t$t(\"label.request_group\")\r\n\t\t\t\t\t\t\t\t}}</v-list-item-title\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-menu>\r\n\t\t\t\t<v-divider vertical></v-divider>\r\n\t\t\t\t<span @click=\"deleteAll\"\r\n\t\t\t\t\t><v-icon>mdi-delete-outline</v-icon>\r\n\t\t\t\t\t{{ $t(\"button.delete\") }}</span\r\n\t\t\t\t>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn icon @click=\"filterExist = !filterExist\">\r\n\t\t\t\t\t<v-icon>mdi-filter </v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t</div>\r\n\t\t</v-col>\r\n\t\t<v-data-table\r\n\t\t\tv-model=\"selected_group\"\r\n\t\t\t:headers=\"headers_group\"\r\n\t\t\t:items=\"requests_group\"\r\n\t\t\t:single-select=\"singleSelect\"\r\n\t\t\titem-key=\"id\"\r\n\t\t\tshow-select\r\n\t\t\t:search=\"search\"\r\n\t\t\t:custom-filter=\"customFilter\"\r\n\t\t\tloading=\"true\"\r\n\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t\tshow-expand\r\n\t\t\t:expanded.sync=\"expanded\"\r\n\t\t\tclass=\"grey lighten-3\"\r\n\t\t\t:hide-default-footer=\"requests_group.length < 10 ? true : false\"\r\n\t\t>\r\n\t\t\t<template v-slot:[`item.requestGroupName`]=\"{ item }\">\r\n\t\t\t\t<router-link\r\n\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\tpath: '/quan-tri/loai-yeu-cau/tao-moi',\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span class=\"text-black\">{{ item.requestGroupName }}</span>\r\n\t\t\t\t\t<span class=\"text-black float-right\"\r\n\t\t\t\t\t\t><v-icon>mdi-plus</v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</router-link>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-slot:[`body.prepend`]>\r\n\t\t\t\t<tr v-if=\"filterExist\">\r\n\t\t\t\t\t<td></td>\r\n\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"requestName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.request_name')\"\r\n\t\t\t\t\t\t\t@keyup=\"onKeyUpSearchForRequestName\"\r\n\t\t\t\t\t\t\t:error-messages=\"errorMessageSearchRequestName\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"processInfos\"\r\n\t\t\t\t\t\t\t:items=\"listProcess\"\r\n\t\t\t\t\t\t\titem-text=\"processName\"\r\n\t\t\t\t\t\t\t:item-value=\"(item) => item.processName\"\r\n\t\t\t\t\t\t\t:label=\"$t('tab.process_')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"organization\"\r\n\t\t\t\t\t\t\t:items=\"filterOrganization\"\r\n\t\t\t\t\t\t\titem-text=\"organizationName\"\r\n\t\t\t\t\t\t\t:item-value=\"(item) => item.organizationName\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.organize_use')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"modifiedName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.modified_name')\"\r\n\t\t\t\t\t\t\t@keyup=\"onKeyUpSearchForCreatedName\"\r\n\t\t\t\t\t\t\t:error-messages=\"errorMessageSearchCreatedName\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showModifyDatePicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tmax-width=\"290\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatModifyDateFns\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.modified_date')\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"modifiedDate = null\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"modifiedDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showModifyDatePicker = false\"\r\n\t\t\t\t\t\t\t\theader-color=\"white\"\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:expanded-item=\"{ item }\">\r\n\t\t\t\t<td\r\n\t\t\t\t\t:colspan=\"headers_group.length + 1\"\r\n\t\t\t\t\tstyle=\"padding: 0\"\r\n\t\t\t\t\tclass=\"bg-white\"\r\n\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\tsearchRequestTypeInRequestGroup(\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\trequestName,\r\n\t\t\t\t\t\t\torganization,\r\n\t\t\t\t\t\t\tmodifiedName,\r\n\t\t\t\t\t\t\tprocessInfos,\r\n\t\t\t\t\t\t\tmodifiedDate,\r\n\t\t\t\t\t\t).length > 0\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-row\r\n\t\t\t\t\t\tv-for=\"(\r\n\t\t\t\t\t\t\titemRequest, index\r\n\t\t\t\t\t\t) in searchRequestTypeInRequestGroup(\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\trequestName,\r\n\t\t\t\t\t\t\torganization,\r\n\t\t\t\t\t\t\tmodifiedName,\r\n\t\t\t\t\t\t\tprocessInfos,\r\n\t\t\t\t\t\t\tmodifiedDate,\r\n\t\t\t\t\t\t)\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\tclass=\"w-full m-0 p-0 flex items-center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-col cols=\"1\" class=\"pl-7\">\r\n\t\t\t\t\t\t\t<v-checkbox @click=\"selectItem_(itemRequest)\">\r\n\t\t\t\t\t\t\t</v-checkbox>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t\t{{ itemRequest.requestName }}\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\tshow_processName(itemRequest.processInfos).join(\r\n\t\t\t\t\t\t\t\t\t\", \",\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\tshow_organization(\r\n\t\t\t\t\t\t\t\t\titemRequest.processInfos,\r\n\t\t\t\t\t\t\t\t).join(\", \")\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t\t<v-avatar color=\"indigo mr-2\" size=\"28\">\r\n\t\t\t\t\t\t\t\t<span class=\"white--text\">\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\tgetAvatarText(\r\n\t\t\t\t\t\t\t\t\t\t\titemRequest.modifiedName,\r\n\t\t\t\t\t\t\t\t\t\t\t2,\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t<span class=\"w-80\">\r\n\t\t\t\t\t\t\t\t{{ itemRequest.modifiedName }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t\t{{ moment__(itemRequest.modifiedDate) }}\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"1\">\r\n\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\t\t\t\t\tpath: `loai-yeu-cau/${itemRequest.id}`,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon> mdi-pencil-circle </v-icon>\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteItem(itemRequest)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon> mdi-close-circle </v-icon>\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\">\r\n\t\t\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td\r\n\t\t\t\t\t:colspan=\"headers_group.length + 1\"\r\n\t\t\t\t\tstyle=\"padding: 0\"\r\n\t\t\t\t\tclass=\"bg-white text-center\"\r\n\t\t\t\t\tv-else\r\n\t\t\t\t>\r\n\t\t\t\t\tNo data\r\n\t\t\t\t</td>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</v-card>\r\n</template>\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport moment from \"moment\";\r\nimport constant from \"@/common/constant.js\";\r\nimport administratorAPI from \"../administrator.api\";\r\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\nimport EditRequestGroupVue from \"../RequestGroup/EditRequestGroup.vue\";\r\nexport default {\r\n\tname: \"QuanTriNhomLoaiYeuCau\",\r\n\tcomponents: { DeleteDialogVue, BreadcrumbsVue, EditRequestGroupVue },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\terrorMessageSearchRequestCode: \"\",\r\n\t\t\terrorMessageSearchRequestName: \"\",\r\n\t\t\terrorMessageSearchCreatedDate: \"\",\r\n\t\t\terrorMessageSearchAll: \"\",\r\n\t\t\tuser_current: this.getUserInfo(),\r\n\t\t\trequestCode: \"\",\r\n\t\t\trequestName: \"\",\r\n\t\t\tcreatedName: \"\",\r\n\t\t\tcreatedDate: null,\r\n\t\t\tmodifiedDate: null,\r\n\t\t\tdateFormat: \"DD/MM/yyyy\",\r\n\t\t\tisActive: this.$t(\"label.show_all\"),\r\n\t\t\torganization: this.$t(\"label.show_all\"),\r\n\t\t\tprocessInfos: this.$t(\"label.show_all\"),\r\n\t\t\tsingleSelect: false,\r\n\t\t\tshowPicker: false,\r\n\t\t\tshowModifyDatePicker: false,\r\n\t\t\teditRequestGroupDialog: false,\r\n\t\t\tselected: [],\r\n\t\t\tselected_group: [],\r\n\t\t\tdialog: {\r\n\t\t\t\tview: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tdelete: false,\r\n\t\t\t\tdropdown: false,\r\n\t\t\t},\r\n\t\t\tupdateItem: {},\r\n\t\t\tfilterItems: [\r\n\t\t\t\tthis.$t(\"label.show_all\"),\r\n\t\t\t\tthis.$t(\"label.used\"),\r\n\t\t\t\tthis.$t(\"label.unused\"),\r\n\t\t\t],\r\n\t\t\titems: [],\r\n\t\t\tsearch: \"\",\r\n\t\t\tmodifiedName: \"\",\r\n\t\t\tisDeleting: false,\r\n\t\t\tisDeleting_group: false,\r\n\t\t\tisSaving: false,\r\n\t\t\titemsDropdown: [\r\n\t\t\t\t{ title: this.$t(\"label.type_group\") },\r\n\t\t\t\t{ title: this.$t(\"label.request_group\") },\r\n\t\t\t],\r\n\t\t\theaders_group: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.type_group\"),\r\n\t\t\t\t\tvalue: \"requestGroupName\",\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.requestGroupName || !value) return true;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.requestGroupName)\r\n\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.processing_process\"),\r\n\t\t\t\t\tvalue: \"processInfos\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.organization\"),\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_name\"),\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_date\"),\r\n\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t},\r\n\t\t\t\t{ text: \"\", value: \"data-table-expand\" },\r\n\t\t\t],\r\n\t\t\trequests_group: [],\r\n\t\t\trequests: [],\r\n\t\t\terrorMessageSearchCreatedName: \"\",\r\n\t\t\tfilterOrganization: [],\r\n\t\t\tlistProcess: [],\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tdialog(val) {\r\n\t\t\tval || this.close();\r\n\t\t},\r\n\t\tdialogDelete(val) {\r\n\t\t\tval || this.closeDelete();\r\n\t\t},\r\n\t\tdialogView(val) {\r\n\t\t\tval || this.closeView();\r\n\t\t},\r\n\t\tdialogDeleteAll(val) {\r\n\t\t\tval || this.closeDeleteAll();\r\n\t\t},\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tformatDateFns() {\r\n\t\t\treturn this.createdDate\r\n\t\t\t\t? moment(this.createdDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t\tformatModifyDateFns() {\r\n\t\t\treturn this.modifiedDate\r\n\t\t\t\t? moment(this.modifiedDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t},\r\n\r\n\tasync created() {\r\n\t\tthis.$Progress.start();\r\n\t},\r\n\tasync mounted() {\r\n\t\tthis.$Progress.finish();\r\n\t\tawait this.initialize();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync initialize() {\r\n\t\t\tthis.getRequestGroup();\r\n\t\t\tthis.getAllOrganzation();\r\n\t\t\tthis.getAllProcess();\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRequest(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.requests = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (let i = 0; i < this.requests.length; i++) {\r\n\t\t\t\t\tthis.requests[i].modifiedName =\r\n\t\t\t\t\t\tthis.requests[i].modified.fullName;\r\n\t\t\t\t\tthis.requests[i][\"organization\"] = this.show_organization(\r\n\t\t\t\t\t\tthis.requests[i].processInfos,\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tthis.sortList(this.requests);\r\n\t\t\t\t// console.log(\"this.requests\", this.requests);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getRequestGroup() {\r\n\t\t\tlet response;\r\n\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllRequestGroup(),\r\n\t\t\t);\r\n\t\t\tthis.requests_group = response.data.filter((entry) => {\r\n\t\t\t\treturn !entry.isDelete;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync getAllOrganzation() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindAllOrganization(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) return;\r\n\t\t\t\tthis.filterOrganization = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.filterOrganization.unshift(this.$t(\"label.show_all\"));\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync getAllProcess() {\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllProcessInfo(),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.listProcess = response.data.filter((entry) => {\r\n\t\t\t\treturn !entry.isDelete;\r\n\t\t\t});\r\n\t\t\t// console.log(this.listProcess);\r\n\t\t\tthis.listProcess.unshift(this.$t(\"label.show_all\"));\r\n\t\t\tthis.sortList(this.listProcess);\r\n\t\t},\r\n\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.selected = [item];\r\n\t\t\tthis.dialog.delete = true;\r\n\t\t},\r\n\r\n\t\tasync deleteItemConfirm() {\r\n\t\t\tthis.selected = this.selected.map((entry) => {\r\n\t\t\t\tentry.isDelete = true;\r\n\t\t\t\treturn entry;\r\n\t\t\t});\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_SaveAllRequest(),\r\n\t\t\t\t\tthis.selected,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"message.error\"));\r\n\t\t\t\t}\r\n\t\t\t\tfor (let item of this.selected) {\r\n\t\t\t\t\tlet index = this.requests.indexOf(item);\r\n\t\t\t\t\tthis.requests.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.selected = [];\r\n\t\t\t\tthis.toastSuccess(this.$t(\"message.success\"));\r\n\t\t\t\tthis.closeDelete();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseDelete() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\t\tcloseDeleteAll() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\r\n\t\tcustomFilter(value, search, item) {\r\n\t\t\treturn !!search && this.match(item, search);\r\n\t\t},\r\n\t\tsortList(arr) {\r\n\t\t\treturn arr.sort((a, b) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tmoment(b.createdDate).toDate().getTime() -\r\n\t\t\t\t\tmoment(a.createdDate).toDate().getTime()\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteAll() {\r\n\t\t\tif (this.selected.length > 0 || this.selected_group.length > 0) {\r\n\t\t\t\tthis.dialog.delete = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastError(this.$t(\"message.alert_no_selected\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForRequestCode() {\r\n\t\t\tif (this.requestCode != \"\" || this.requestCode.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchRequestCode = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.requestCode.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchRequestCode = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForRequestName() {\r\n\t\t\tif (this.requestName != \"\" || this.requestName.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchRequestName = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.requestName.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchRequestName = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForCreatedName() {\r\n\t\t\tif (this.createdName != \"\" || this.createdName.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchCreatedName = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.createdName.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchCreatedName = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpForSearchAll() {\r\n\t\t\tif (this.search != \"\" || this.search.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchAll = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.search.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchAll = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteAllConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\tthis.selected = this.selected.map((entry) => {\r\n\t\t\t\tentry.isDelete = true;\r\n\t\t\t\treturn entry;\r\n\t\t\t});\r\n\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\"/api/_save/requests/\",\r\n\t\t\t\tthis.selected,\r\n\t\t\t);\r\n\t\t\tif (response.state) {\r\n\t\t\t\tthis.isDeleting = true;\r\n\t\t\t\tthis.toastSuccess(this.$t(\"success.delete\"));\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastError(this.$t(\"message.error\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis.selected = [];\r\n\t\t\tthis.isDeleting = false;\r\n\t\t\tthis.closeDeleteAll();\r\n\t\t\tthis.initialize();\r\n\t\t},\r\n\t\tonConfirmDelete(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\t\tthis.deleteAllConfirm();\r\n\t\t\t\t}\r\n\t\t\t\tif (this.selected_group.length > 0) {\r\n\t\t\t\t\tthis.deleteAllConfirm_Group();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteAllConfirm_Group() {\r\n\t\t\tif (this.isDeleting_group) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting_group = true;\r\n\t\t\tthis.selected_group = this.selected_group.map((entry) => {\r\n\t\t\t\tentry.isDelete = true;\r\n\t\t\t\treturn entry;\r\n\t\t\t});\r\n\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\"/api/_save/request-groups/\",\r\n\t\t\t\tthis.selected_group,\r\n\t\t\t);\r\n\t\t\tif (!response.state) {\r\n\t\t\t\tthis.toastError(response.message);\r\n\t\t\t}\r\n\t\t\tif (response.state) {\r\n\t\t\t\tthis.isDeleting_group = true;\r\n\t\t\t\tthis.toastSuccess(this.$t(\"success.delete\"));\r\n\t\t\t}\r\n\r\n\t\t\tif (!response) {\r\n\t\t\t\tthis.toastError(this.$t(\"message.error\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis.selected_group = [];\r\n\t\t\tthis.isDeleting_group = false;\r\n\t\t\tthis.closeDeleteAll();\r\n\t\t\tthis.initialize();\r\n\t\t},\r\n\t\topenDropDown() {\r\n\t\t\tthis.dialog.dropdown = true;\r\n\t\t},\r\n\t\tshow_processName(processInfo) {\r\n\t\t\tlet processName = [];\r\n\t\t\tfor (let i = 0; i < processInfo.length; i++) {\r\n\t\t\t\tprocessName.push(processInfo[i].processName);\r\n\t\t\t}\r\n\t\t\treturn processName;\r\n\t\t},\r\n\t\tshow_organization(processInfo) {\r\n\t\t\tlet organization = [];\r\n\t\t\tfor (let i = 0; i < processInfo.length; i++) {\r\n\t\t\t\tif (processInfo[i].organizations.length > 0) {\r\n\t\t\t\t\tfor (\r\n\t\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\t\tj < processInfo[i].organizations.length;\r\n\t\t\t\t\t\tj++\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!organization.includes(\r\n\t\t\t\t\t\t\t\tprocessInfo[i].organizations[j]\r\n\t\t\t\t\t\t\t\t\t.organizationName,\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\torganization.push(\r\n\t\t\t\t\t\t\t\tprocessInfo[i].organizations[j]\r\n\t\t\t\t\t\t\t\t\t.organizationName,\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn organization;\r\n\t\t},\r\n\t\tsearchRequestTypeInRequestGroup(\r\n\t\t\titem,\r\n\t\t\trequestName,\r\n\t\t\torganization,\r\n\t\t\tmodifiedName,\r\n\t\t\tprocessInfos,\r\n\t\t\tmodifiedDate,\r\n\t\t) {\r\n\t\t\t// console.log(\"organization\", organization);\r\n\t\t\tconsole.log(\"modifiedDate\", modifiedDate);\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"modifiedDate format\",\r\n\t\t\t\tmoment(modifiedDate).format(this.dateFormat),\r\n\t\t\t);\r\n\t\t\tconsole.log(\"typeof modifiedDate\", typeof modifiedDate);\r\n\t\t\tlet list = [];\r\n\t\t\tlet listFilter = [];\r\n\t\t\tfor (let i = 0; i < this.requests.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.requests[i].requestGroup.requestGroupName ==\r\n\t\t\t\t\titem.requestGroupName\r\n\t\t\t\t) {\r\n\t\t\t\t\tlist.push(this.requests[i]);\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\trequestName.length > 0 ||\r\n\t\t\t\t\t\tmodifiedName.length > 0 ||\r\n\t\t\t\t\t\t(organization.length > 0 &&\r\n\t\t\t\t\t\t\torganization != this.$t(\"label.show_all\")) ||\r\n\t\t\t\t\t\t(processInfos.length > 0 &&\r\n\t\t\t\t\t\t\tprocessInfos != this.$t(\"label.show_all\")) ||\r\n\t\t\t\t\t\tmodifiedDate != null\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tlistFilter = list.filter((entry) => {\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"this.show_processName(entry.processInfos).join(\",\r\n\t\t\t\t\t\t\t\t\").includes(processInfos)\",\r\n\t\t\t\t\t\t\t\tthis.show_processName(entry.processInfos)\r\n\t\t\t\t\t\t\t\t\t.join(\",\")\r\n\t\t\t\t\t\t\t\t\t.includes(processInfos),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"moment(entry.modifiedDate).format(this.dateFormat)\",\r\n\t\t\t\t\t\t\t\tmoment(entry.modifiedDate).format(\r\n\t\t\t\t\t\t\t\t\tthis.dateFormat,\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tentry.requestName.includes(requestName) &&\r\n\t\t\t\t\t\t\t\tentry.modified.fullName.includes(\r\n\t\t\t\t\t\t\t\t\tmodifiedName,\r\n\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t(this.show_organization(entry.processInfos)\r\n\t\t\t\t\t\t\t\t\t.join(\",\")\r\n\t\t\t\t\t\t\t\t\t.includes(organization) ||\r\n\t\t\t\t\t\t\t\t\tthis.show_processName(entry.processInfos)\r\n\t\t\t\t\t\t\t\t\t\t.join(\",\")\r\n\t\t\t\t\t\t\t\t\t\t.includes(processInfos) ||\r\n\t\t\t\t\t\t\t\t\tmoment(entry.modifiedDate).format(\r\n\t\t\t\t\t\t\t\t\t\tthis.dateFormat,\r\n\t\t\t\t\t\t\t\t\t) ==\r\n\t\t\t\t\t\t\t\t\t\tmoment(modifiedDate).format(\r\n\t\t\t\t\t\t\t\t\t\t\tthis.dateFormat,\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlistFilter = list;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// console.log(\"list\", list);\r\n\t\t\treturn listFilter;\r\n\t\t},\r\n\t\topenEditRequestGroup() {\r\n\t\t\tthis.editRequestGroupDialog = true;\r\n\t\t},\r\n\t\tonClose(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.editRequestGroupDialog = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSaveRequestGroup(value) {\r\n\t\t\tconsole.log(value);\r\n\t\t\tthis.initialize();\r\n\t\t},\r\n\t\tselectItem_(item) {\r\n\t\t\tconsole.log(this.selected.indexOf(item));\r\n\r\n\t\t\tlet index = this.selected.indexOf(item);\r\n\t\t\tif (index == -1) {\r\n\t\t\t\tthis.selected.push(item);\r\n\t\t\t\tconsole.log(\"this.selected push\", this.selected);\r\n\t\t\t\t// return;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"index\", index);\r\n\t\t\t\tthis.selected.splice(index, 1);\r\n\t\t\t\tconsole.log(\"this.selected delete\", this.selected);\r\n\t\t\t\t// return;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmoment__(x) {\r\n\t\t\treturn x ? moment(x).format(this.dateFormat) : null;\r\n\t\t},\r\n\t},\r\n\r\n\tfilters: constant.filters,\r\n};\r\n</script>\r\n<style>\r\n.v-picker__title__btn--active {\r\n\tdisplay: none;\r\n}\r\n.v-menu__content {\r\n\tmin-width: 180px !important;\r\n}\r\n.p-style {\r\n\twidth: 320px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}