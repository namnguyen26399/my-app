{"ast":null,"code":"import _toConsumableArray from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../../administrator/administrator.api\";\nimport { Container } from \"vue-dndrop\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nexport default {\n  name: \"VSMFEProcedureV3\",\n  components: {\n    Container: Container,\n    VuePerfectScrollbar: VuePerfectScrollbar\n  },\n  props: {\n    requestDataV2: {}\n  },\n  watch: {\n    requestDataV2: function requestDataV2(newValue) {\n      this.m_requestDto = newValue;\n    },\n    isSaved: function isSaved(value) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.m_isSaved = value;\n\n                if (_this.m_isSaved.state === 1) {//await this.saveFormData();\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  data: function data() {\n    return {\n      m_requestDto: null,\n      stepInProcess: [],\n      defaultStepInProcess: [],\n      indexItems: 0,\n      userFilters: [],\n      showUser: []\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.m_requestDto = _this2.requestDataV2;\n              console.log(\"this.m_requestDto \", _this2.m_requestDto);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  },\n  mounted: function mounted() {\n    this.getStepInProcesses();\n    this.getAllUser();\n  },\n  methods: {\n    getStepInProcesses: function getStepInProcesses() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                console.log(\"m_request\", _this3.m_requestDto);\n                _context3.next = 4;\n                return globalService.getData_Async(administratorAPI.API_GetSteepDataByIdRequest(_this3.m_requestDto.id));\n\n              case 4:\n                response = _context3.sent;\n                console.log(\"response\", response);\n\n                if (!(!response || !response.state)) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.stepInProcess = response.data.filter(function (entry) {\n                  entry.showHandler = false;\n                  return entry;\n                }); // this.stepInProcess = this.cloneArray(\n                // \tthis.stepInProcess,\n                // \tthis.defaultStepInProcess,\n                // );\n                //this.idStepData = 1;\n                //this.$emit(\"saveStepData\", this.idStepData);\n\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                _this3.toastError(_context3.t0);\n\n                return _context3.abrupt(\"return\");\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 11]]);\n      }))();\n    },\n    getAllUser: function getAllUser() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllUserInfo());\n\n              case 3:\n                response = _context4.sent;\n\n                if (!(!response || !response.state)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                _this4.userFilters = response.data.filter(function (entry) {\n                  return !entry.isDelete && entry.isActive;\n                });\n                _context4.next = 12;\n                break;\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](0);\n\n                _this4.toastError(_context4.t0);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 9]]);\n      }))();\n    },\n    getElevation: function getElevation(index) {\n      return this.indexItems == index ? 2 : 0;\n    },\n    clickToEdit: function clickToEdit(items) {\n      if (!items) return;\n      this.indexItems = this.stepInProcess.indexOf(items);\n    },\n    getClass: function getClass(index) {\n      return this.indexItems == index ? \"grey lighten-2\" : \"grey lighten-3\";\n    },\n    selectHandler: function selectHandler(item, index) {\n      this.stepInProcess[index].userInfos.push(item);\n    },\n    remove: function remove(item) {\n      if (!this.stepInProcess[this.indexItems].userInfos || this.stepInProcess[this.indexItems].userInfos.length == 0) {\n        return;\n      }\n\n      this.stepInProcess[this.indexItems].userInfos.splice(this.stepInProcess[this.indexItems].userInfos.indexOf(item), 1);\n      this.stepInProcess[this.indexItems].userInfos = _toConsumableArray(this.stepInProcess[this.indexItems].userInfos);\n    },\n    restoreStepInProcess: function restoreStepInProcess() {// this.stepInProcess = this.cloneArray(\n      // \tthis.stepInProcess,\n      // \tthis.defaultStepInProcess,\n      // );\n    } // cloneArray(targetArayy, sourceArray) {\n    // \tif (!sourceArray) return sourceArray;\n    // \ttargetArayy = sourceArray.map((ele) => this.cloneObject({}, ele));\n    // \treturn targetArayy;\n    // },\n    // cloneObject(targetObject, sourceObject) {\n    // \tif (!sourceObject) return {};\n    // \ttargetObject = Object.assign({}, sourceObject);\n    // \tfor (let prop in sourceObject) {\n    // \t\tif (typeof sourceObject[prop] == \"object\") {\n    // \t\t\ttargetObject[prop] = this.cloneObject(\n    // \t\t\t\ttargetObject[prop],\n    // \t\t\t\tsourceObject[prop],\n    // \t\t\t);\n    // \t\t}\n    // \t}\n    // \treturn targetObject;\n    // },\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;AACA;AAEA;AACA;AACA;EACAA,wBADA;EAEAC;IACAC,oBADA;IAEAC;EAFA,CAFA;EAMAC;IAAAC;EAAA,CANA;EAOAC;IACAD,aADA,yBACAE,QADA,EACA;MACA;IACA,CAHA;IAIAC,OAJA,mBAIAC,KAJA,EAIA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;;gBACA,kCACA;gBACA;;cAJA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAKA;EATA,CAPA;EAkBAC,IAlBA,kBAkBA;IACA;MACAC,kBADA;MAEAC,iBAFA;MAGAC,wBAHA;MAIAC,aAJA;MAKAC,eALA;MAMAC;IANA;EAQA,CA3BA;EA4BAC,OA5BA,qBA4BA;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACAC;;YAFA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAGA,CA/BA;EAiCAC,OAjCA,qBAiCA;IACA;IACA;EACA,CApCA;EAsCAC;IACAC,kBADA,gCACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAGAH;gBAHA;gBAAA,OAIAI,4BACAC,6CACA,sBADA,CADA,CAJA;;cAAA;gBAIAC,QAJA;gBASAN;;gBATA,MAUA,4BAVA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAcA;kBACAO;kBACA;gBACA,CAHA,EAdA,CAkBA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBAvBA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAyBA;;gBAzBA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA4BA,CA7BA;IA8BAC,UA9BA,wBA8BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAJ,4BACAC,qCADA,CAFA;;cAAA;gBAEAC,QAFA;;gBAAA,MAKA,4BALA;kBAAA;kBAAA;gBAAA;;gBAAA;;cAAA;gBAQA;kBACA;gBACA,CAFA;gBARA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAYA;;cAZA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAcA,CA5CA;IA6CAG,YA7CA,wBA6CAC,KA7CA,EA6CA;MACA;IACA,CA/CA;IAgDAC,WAhDA,uBAgDAC,KAhDA,EAgDA;MACA;MACA;IACA,CAnDA;IAoDAC,QApDA,oBAoDAH,KApDA,EAoDA;MACA,kCACA,gBADA,GAEA,gBAFA;IAGA,CAxDA;IAyDAI,aAzDA,yBAyDAC,IAzDA,EAyDAL,KAzDA,EAyDA;MACA;IACA,CA3DA;IA4DAM,MA5DA,kBA4DAD,IA5DA,EA4DA;MACA,IACA,kDACA,yDAFA,EAGA;QACA;MACA;;MACA,qDACA,2DADA,EAEA,CAFA;MAIA,mEACA,6CADA;IAGA,CA1EA;IA2EAE,oBA3EA,kCA2EA,CACA;MACA;MACA;MACA;IACA,CAhFA,CAiFA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EAlGA;AAtCA","names":["name","components","Container","VuePerfectScrollbar","props","requestDataV2","watch","newValue","isSaved","value","data","m_requestDto","stepInProcess","defaultStepInProcess","indexItems","userFilters","showUser","created","console","mounted","methods","getStepInProcesses","globalService","administratorAPI","response","entry","getAllUser","getElevation","index","clickToEdit","items","getClass","selectHandler","item","remove","restoreStepInProcess"],"sourceRoot":"src/views/modules/khai-phieu-yeu-cau/RequestForm","sources":["ViewProcedure.vue"],"sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<!-- <v-row>\r\n\t\t\t<v-col cols=\"12\" md=\"3\">\r\n\t\t\t\t<v-select\r\n\t\t\t\t\titem-text=\"processName\"\r\n\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\tm_requestDto.request &&\r\n\t\t\t\t\t\tm_requestDto.request.processInfos\r\n\t\t\t\t\t\"\r\n\t\t\t\t\t:items=\"m_requestDto.request.processInfos\"\r\n\t\t\t\t></v-select>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col>\r\n\t\t\t\t<v-btn class=\"float-right\" text @click=\"restoreStepInProcess\">\r\n\t\t\t\t\t<v-icon>mdi-restart</v-icon> Khôi phục\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-col>\r\n\t\t</v-row> -->\r\n\t\t<v-row>\r\n\t\t\t<v-col>\r\n\t\t\t\t<v-card-text v-if=\"stepInProcess && stepInProcess.length > 0\">\r\n\t\t\t\t\t<VuePerfectScrollbar class=\"scroll-area\">\r\n\t\t\t\t\t\t<v-timeline align-top dense clipped>\r\n\t\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t\t<v-timeline-item\r\n\t\t\t\t\t\t\t\t\tv-for=\"(items, index) in stepInProcess\"\r\n\t\t\t\t\t\t\t\t\t:key=\"items.id\"\r\n\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\tfill-dot\r\n\t\t\t\t\t\t\t\t\tleft\r\n\t\t\t\t\t\t\t\t\tcolor=\"green darken-5\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-h6 text-white rounded-pill green lighten-2 px-10 py-2\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tBước {{ index + 1 }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Container\r\n\t\t\t\t\t\t\t\t\t\tclass=\"white\"\r\n\t\t\t\t\t\t\t\t\t\t:data-index=\"index\"\r\n\t\t\t\t\t\t\t\t\t\tgroup-name=\"column\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<v-card\r\n\t\t\t\t\t\t\t\t\t\t\tv-bind:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\tisFocus:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstepInProcess.length - 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t['rounded bordered ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetClass(index)]: true,\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:elevation=\"getElevation(index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"clickToEdit(items)\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-card-text class=\"text--primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subtitle-1 mx-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.processingTerm\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.processingTerm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.processingTerm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.hours\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTên bước:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems.stepDataName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"subtitle-1 mx-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmd=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNgười xử lý:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-chip-group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"item in items.userInfos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"indigo mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"36\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"white--text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!item.avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetAvatarText(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.fullName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:src=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-img>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.fullName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-chip-group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"remove-row\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfab\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRow(index)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon dark>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-trash-can-outline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-btn> -->\r\n\t\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t\t\t</v-timeline-item>\r\n\t\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t\t</v-timeline>\r\n\t\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../../administrator/administrator.api\";\r\n\r\nimport { Container } from \"vue-dndrop\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nexport default {\r\n\tname: \"VSMFEProcedureV3\",\r\n\tcomponents: {\r\n\t\tContainer,\r\n\t\tVuePerfectScrollbar,\r\n\t},\r\n\tprops: { requestDataV2: {} },\r\n\twatch: {\r\n\t\trequestDataV2(newValue) {\r\n\t\t\tthis.m_requestDto = newValue;\r\n\t\t},\r\n\t\tasync isSaved(value) {\r\n\t\t\tthis.m_isSaved = value;\r\n\t\t\tif (this.m_isSaved.state === 1) {\r\n\t\t\t\t//await this.saveFormData();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tm_requestDto: null,\r\n\t\t\tstepInProcess: [],\r\n\t\t\tdefaultStepInProcess: [],\r\n\t\t\tindexItems: 0,\r\n\t\t\tuserFilters: [],\r\n\t\t\tshowUser: [],\r\n\t\t};\r\n\t},\r\n\tasync created() {\r\n\t\tthis.m_requestDto = this.requestDataV2;\r\n\t\tconsole.log(\"this.m_requestDto \", this.m_requestDto);\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tthis.getStepInProcesses();\r\n\t\tthis.getAllUser();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync getStepInProcesses() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log(\"m_request\", this.m_requestDto);\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetSteepDataByIdRequest(\r\n\t\t\t\t\t\tthis.m_requestDto.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(\"response\", response);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.stepInProcess = response.data.filter((entry) => {\r\n\t\t\t\t\tentry.showHandler = false;\r\n\t\t\t\t\treturn entry;\r\n\t\t\t\t});\r\n\t\t\t\t// this.stepInProcess = this.cloneArray(\r\n\t\t\t\t// \tthis.stepInProcess,\r\n\t\t\t\t// \tthis.defaultStepInProcess,\r\n\t\t\t\t// );\r\n\t\t\t\t//this.idStepData = 1;\r\n\t\t\t\t//this.$emit(\"saveStepData\", this.idStepData);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAllUser() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllUserInfo(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.userFilters = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete && entry.isActive;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetElevation(index) {\r\n\t\t\treturn this.indexItems == index ? 2 : 0;\r\n\t\t},\r\n\t\tclickToEdit(items) {\r\n\t\t\tif (!items) return;\r\n\t\t\tthis.indexItems = this.stepInProcess.indexOf(items);\r\n\t\t},\r\n\t\tgetClass(index) {\r\n\t\t\treturn this.indexItems == index\r\n\t\t\t\t? \"grey lighten-2\"\r\n\t\t\t\t: \"grey lighten-3\";\r\n\t\t},\r\n\t\tselectHandler(item, index) {\r\n\t\t\tthis.stepInProcess[index].userInfos.push(item);\r\n\t\t},\r\n\t\tremove(item) {\r\n\t\t\tif (\r\n\t\t\t\t!this.stepInProcess[this.indexItems].userInfos ||\r\n\t\t\t\tthis.stepInProcess[this.indexItems].userInfos.length == 0\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.stepInProcess[this.indexItems].userInfos.splice(\r\n\t\t\t\tthis.stepInProcess[this.indexItems].userInfos.indexOf(item),\r\n\t\t\t\t1,\r\n\t\t\t);\r\n\t\t\tthis.stepInProcess[this.indexItems].userInfos = [\r\n\t\t\t\t...this.stepInProcess[this.indexItems].userInfos,\r\n\t\t\t];\r\n\t\t},\r\n\t\trestoreStepInProcess() {\r\n\t\t\t// this.stepInProcess = this.cloneArray(\r\n\t\t\t// \tthis.stepInProcess,\r\n\t\t\t// \tthis.defaultStepInProcess,\r\n\t\t\t// );\r\n\t\t},\r\n\t\t// cloneArray(targetArayy, sourceArray) {\r\n\t\t// \tif (!sourceArray) return sourceArray;\r\n\t\t// \ttargetArayy = sourceArray.map((ele) => this.cloneObject({}, ele));\r\n\t\t// \treturn targetArayy;\r\n\t\t// },\r\n\t\t// cloneObject(targetObject, sourceObject) {\r\n\t\t// \tif (!sourceObject) return {};\r\n\t\t// \ttargetObject = Object.assign({}, sourceObject);\r\n\t\t// \tfor (let prop in sourceObject) {\r\n\t\t// \t\tif (typeof sourceObject[prop] == \"object\") {\r\n\t\t// \t\t\ttargetObject[prop] = this.cloneObject(\r\n\t\t// \t\t\t\ttargetObject[prop],\r\n\t\t// \t\t\t\tsourceObject[prop],\r\n\t\t// \t\t\t);\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// \treturn targetObject;\r\n\t\t// },\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]},"metadata":{},"sourceType":"module"}