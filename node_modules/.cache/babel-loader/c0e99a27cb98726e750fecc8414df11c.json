{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport moment from \"moment\";\nimport constant from \"@/common/constant.js\";\nimport administratorAPI from \"../administrator.api\";\nimport ViewProcessStepVue from \"./ViewProcessStep.vue\";\nimport EditProcessStepVue from \"./EditProcessStep.vue\";\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nexport default {\n  name: \"ListProcessStep\",\n  components: {\n    ViewProcessStepVue: ViewProcessStepVue,\n    EditProcessStepVue: EditProcessStepVue,\n    DeleteDialogVue: DeleteDialogVue,\n    BreadcrumbsVue: BreadcrumbsVue\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      user_current: this.getUserInfo(),\n      showPicker: false,\n      showModifyDatePicker: false,\n      snackbar: false,\n      dateFormat: \"DD/MM/yyyy\",\n      createdDate: null,\n      modifiedDate: null,\n      createdName: \"\",\n      isActive: this.$t(\"label.show_all\"),\n      filterItems: [this.$t(\"label.show_all\"), this.$t(\"label.used\"), this.$t(\"label.unused\")],\n      stepCode: \"\",\n      listOrganzine: [],\n      listRank: [],\n      stepName: \"\",\n      description: \"\",\n      search: \"\",\n      dialog: {\n        edit: false,\n        view: false,\n        delete: false\n      },\n      singleSelect: false,\n      isSaving: false,\n      isDeleting: false,\n      selected: [],\n      items: [],\n      headers: [{\n        text: this.$t(\"label.step_code\"),\n        value: \"stepCode\",\n        filter: function filter(value) {\n          if (!_this.stepCode.trim()) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.stepCode).toLocaleUpperCase().trim());\n        }\n      }, {\n        text: this.$t(\"label.step_name\"),\n        value: \"stepName\",\n        filter: function filter(value) {\n          if (!_this.stepName.trim() || !value) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.stepName).toLocaleUpperCase().trim());\n        }\n      }, {\n        text: this.$t(\"label.description\"),\n        value: \"description\",\n        filter: function filter(value) {\n          if (!_this.description.trim()) return true;\n          if (!value) return;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.description).toLocaleUpperCase().trim());\n        }\n      }, {\n        text: this.$t(\"label.created_name\"),\n        value: \"createdName\",\n        filter: function filter(value) {\n          if (!_this.createdName.trim() || !value) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.createdName).toLocaleUpperCase().trim());\n        }\n      }, {\n        text: this.$t(\"label.created_date\"),\n        value: \"createdDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.createdDate) return true;\n          return value.includes(_this.createdDate);\n        },\n        sort: function sort(a, b) {\n          return moment(b).toDate().getTime() - moment(a).toDate().getTime();\n        }\n      }, {\n        text: this.$t(\"label.modified_date\"),\n        value: \"modifiedDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.modifiedDate) return true;\n          return value.includes(_this.modifiedDate);\n        },\n        sort: function sort(a, b) {\n          return moment(b).toDate().getTime() - moment(a).toDate().getTime();\n        }\n      }, {\n        text: this.$t(\"label.is_active\"),\n        value: \"isActive\",\n        filter: function filter(value) {\n          if (_this.isActive == _this.$t(\"label.used\")) {\n            return value == true;\n          }\n\n          if (_this.isActive == _this.$t(\"label.unused\")) {\n            return value == false;\n          }\n\n          return true;\n        }\n      }, {\n        // width: \"6rem\",\n        text: this.$t(\"label.manipulation\"),\n        value: \"actions\",\n        sortable: false\n      }],\n      desserts: [],\n      editedIndex: -1,\n      editedItem: {\n        createdDate: null,\n        created: null,\n        createdName: \"\",\n        description: \"\",\n        id: null,\n        isActive: true,\n        isDelete: false,\n        modifiedDate: null,\n        modified: null,\n        isAuthorizedApproval: false,\n        isBack: false,\n        isCreateTFSTask: false,\n        isEdit: false,\n        isExamine: false,\n        isProcessRecover: false,\n        isRequestModify: false,\n        isRequiredSignature: false,\n        isSendMail: false,\n        tennant: null,\n        optionDeny: 0,\n        modifiedName: \"\",\n        processingTerm: 0,\n        stepCode: \"\",\n        stepName: \"\",\n        organization: null,\n        rank: null,\n        tennantCode: \"\",\n        tennantName: \"\"\n      },\n      defaultItem: {\n        createdDate: null,\n        created: null,\n        createdName: \"\",\n        description: \"\",\n        id: null,\n        isActive: true,\n        isDelete: false,\n        modifiedDate: null,\n        modified: null,\n        isAuthorizedApproval: false,\n        isBack: false,\n        isCreateTFSTask: false,\n        isEdit: false,\n        isExamine: false,\n        isProcessRecover: false,\n        isRequestModify: false,\n        isRequiredSignature: false,\n        isSendMail: false,\n        tennant: null,\n        optionDeny: 0,\n        modifiedName: \"\",\n        processingTerm: 0,\n        stepCode: \"\",\n        stepName: \"\",\n        organization: null,\n        rank: null,\n        tennantCode: \"\",\n        tennantName: \"\"\n      },\n      stepNameMessage: \"\",\n      descriptionMessage: \"\",\n      processTermMessage: \"\"\n    };\n  },\n  computed: {\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? this.$t(\"label.create_step\") : this.$t(\"label.edit_step\");\n    },\n    formatDateFns: function formatDateFns() {\n      return this.createdDate ? moment(this.createdDate).format(this.dateFormat) : \"\";\n    },\n    formatModifyDateFns: function formatModifyDateFns() {\n      return this.modifiedDate ? moment(this.modifiedDate).format(this.dateFormat) : \"\";\n    }\n  },\n  watch: {\n    \"dialog.edit\": function dialogEdit(val) {\n      if (!val) {\n        this.initialize();\n        this.editedItem = Object.assign({}, this.defaultItem);\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2.$Progress.start();\n\n              _this2.initialize();\n\n              _this2.getAllOrganize();\n\n              _this2.getAllRank();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  mounted: function mounted() {\n    this.$Progress.finish();\n  },\n  methods: {\n    getAllOrganize: function getAllOrganize() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindAllOrganization());\n\n              case 3:\n                response = _context2.sent;\n\n                if (!(!response || !response.state)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this3.listOrganzine = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _context2.next = 13;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(\"Error\", _context2.t0);\n\n                _this3.toastError(_this3.$t(\"error.load\"));\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 9]]);\n      }))();\n    },\n    getAllRank: function getAllRank() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRank());\n\n              case 3:\n                response = _context3.sent;\n\n                if (!(!response || !response.state)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _this4.listRank = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _context3.next = 13;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.log(\"Error\", _context3.t0);\n\n                _this4.toastError(_this4.$t(\"error.load\"));\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 9]]);\n      }))();\n    },\n    initialize: function initialize() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllSteps());\n\n              case 3:\n                response = _context4.sent;\n\n                if (response.state) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                _this5.desserts = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                _this5.sortList(_this5.desserts);\n\n                _context4.next = 14;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log(\"Error\", _context4.t0);\n\n                _this5.toastError(_this5.$t(\"error.load\"));\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 10]]);\n      }))();\n    },\n    viewItem: function viewItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog.view = true;\n    },\n    editItem: function editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog.edit = true;\n    },\n    deleteItem: function deleteItem(item) {\n      this.selected = [item];\n      this.editedItem = Object.assign({}, item);\n      this.dialog.delete = true;\n    },\n    deleteItemConfirm: function deleteItemConfirm() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!_this6.isDeleting) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 2:\n                _this6.isDeleting = true;\n                _this6.editedItem.isDelete = true;\n                _context5.prev = 4;\n                _context5.next = 7;\n                return globalService.putData_Async(administratorAPI.API_UpdateStep(_this6.editedItem.id), _this6.editedItem);\n\n              case 7:\n                response = _context5.sent;\n\n                if (!response.state) {\n                  _this6.toastError(_this6.$t(\"message.delete_error\"));\n                } else {\n                  _this6.toastSuccess(_this6.$t(\"message.delete_success\"));\n                }\n\n                _context5.next = 14;\n                break;\n\n              case 11:\n                _context5.prev = 11;\n                _context5.t0 = _context5[\"catch\"](4);\n\n                _this6.toastError(_this6.$t(\"error.load\"));\n\n              case 14:\n                _this6.isDeleting = false;\n\n                _this6.initialize();\n\n                _this6.closeDelete();\n\n              case 17:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[4, 11]]);\n      }))();\n    },\n    deleteAll: function deleteAll() {\n      if (this.selected.length > 0) {\n        this.dialog.delete = true;\n      } else {\n        this.toastError(this.$t(\"label.no_selected\"));\n      }\n    },\n    deleteAllConfirm: function deleteAllConfirm() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!_this7.isDeleting) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 2:\n                _this7.isDeleting = true;\n                _this7.selected = _this7.selected.map(function (x) {\n                  x.isDelete = true;\n                  return x;\n                });\n                _context6.prev = 4;\n                _context6.next = 7;\n                return globalService.postData_Async(administratorAPI.API_DeleteAllStep(), _this7.selected);\n\n              case 7:\n                response = _context6.sent;\n\n                if (!response || !response.state) {\n                  _this7.isDeleting = false;\n\n                  _this7.toastError(_this7.$t(\"message.delete_error\"));\n                } else {\n                  _this7.toastSuccess(_this7.$t(\"message.delete_success\"));\n                }\n\n                _context6.next = 14;\n                break;\n\n              case 11:\n                _context6.prev = 11;\n                _context6.t0 = _context6[\"catch\"](4);\n\n                _this7.toastError(_this7.$t(\"error.load\"));\n\n              case 14:\n                _context6.prev = 14;\n                _this7.selected = [];\n                _this7.isDeleting = false;\n\n                _this7.initialize();\n\n                _this7.closeDeleteAll();\n\n                return _context6.finish(14);\n\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, null, [[4, 11, 14, 20]]);\n      }))();\n    },\n    closeView: function closeView() {\n      var _this8 = this;\n\n      this.dialog.view = false;\n      this.$nextTick(function () {\n        _this8.editedItem = Object.assign({}, _this8.defaultItem);\n        _this8.editedIndex = -1;\n      });\n      this.stepNameMessage = \"\";\n      this.descriptionMessage = \"\";\n      this.processTermMessage = \"\";\n      this.cbbOrganizationMessage = \"\";\n      this.cbbRankMessage = \"\";\n    },\n    close: function close() {\n      var _this9 = this;\n\n      this.$nextTick(function () {\n        _this9.editedItem = Object.assign({}, _this9.defaultItem);\n        _this9.editedIndex = -1;\n      });\n      this.dialog.edit = false;\n      this.stepNameMessage = \"\";\n      this.descriptionMessage = \"\";\n      this.processTermMessage = \"\";\n      this.cbbOrganizationMessage = \"\";\n      this.cbbRankMessage = \"\";\n    },\n    // filterOnlyCapsText(value, search) {\n    // \tconsole.log(\"custom filter\", value, search);\n    // \treturn value\n    // \t\t.toString()\n    // \t\t.toLocaleUpperCase()\n    // \t\t.includes(search.toLocaleUpperCase());\n    // },\n    closeDelete: function closeDelete() {\n      var _this10 = this;\n\n      this.dialog.delete = false;\n      this.$nextTick(function () {\n        _this10.editedItem = Object.assign({}, _this10.defaultItem);\n        _this10.editedIndex = -1;\n      });\n    },\n    closeDeleteAll: function closeDeleteAll() {\n      this.dialog.delete = false;\n    },\n    save: function save() {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _this11.editedItem.stepName = _this11.editedItem.stepName.trim();\n                _this11.editedItem.description = _this11.editedItem.description.trim();\n\n                if (!(_this11.isSaving || _this11.editedItem.stepName.trim() == \"\")) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                _this11.$refs[\"stepName\"].focus();\n\n                _this11.stepNameMessage = _this11.$t(\"message.msg_1\");\n                return _context7.abrupt(\"return\");\n\n              case 6:\n                _this11.stepNameMessage = \"\";\n\n                if (!(_this11.editedItem.processingTerm < 0)) {\n                  _context7.next = 11;\n                  break;\n                }\n\n                _this11.$refs[\"processingTerm\"].focus();\n\n                _this11.toastError(_this11.$t(\"message.add_error\"));\n\n                return _context7.abrupt(\"return\");\n\n              case 11:\n                if (!(_this11.editedItem.stepName.trim().length > 255)) {\n                  _context7.next = 15;\n                  break;\n                }\n\n                _this11.toastError(_this11.$t(\"error.max_length_255\"));\n\n                _this11.$refs[\"stepName\"].focus();\n\n                return _context7.abrupt(\"return\");\n\n              case 15:\n                if (!(_this11.editedItem.description.trim().length > 255)) {\n                  _context7.next = 19;\n                  break;\n                }\n\n                _this11.toastError(_this11.$t(\"error.max_length_255\"));\n\n                _this11.$refs[\"description\"].focus();\n\n                return _context7.abrupt(\"return\");\n\n              case 19:\n                _this11.isSaving = true;\n                _context7.prev = 20;\n\n                if (!(_this11.editedIndex > -1)) {\n                  _context7.next = 31;\n                  break;\n                }\n\n                _this11.editedItem.modifiedDate = new Date();\n                _this11.editedItem.modifiedName = _this11.user_current.fullName;\n                _context7.next = 26;\n                return globalService.putData_Async(administratorAPI.API_UpdateStep(_this11.editedItem.id), _this11.editedItem);\n\n              case 26:\n                response = _context7.sent;\n\n                if (!response.state) {\n                  _this11.isSaving = false;\n\n                  _this11.toastError(_this11.$t(\"message.update_error\"));\n                } else {\n                  _this11.toastSuccess(_this11.$t(\"message.update_success\"));\n                }\n\n                _this11.isSaving = false;\n                _context7.next = 40;\n                break;\n\n              case 31:\n                _this11.editedItem.created = _this11.user_current;\n                _this11.editedItem.createdName = _this11.user_current.fullName;\n                _this11.editedItem.modifiedDate = new Date();\n                _this11.editedItem.createdDate = new Date();\n                _this11.editedItem.modifiedName = _this11.user_current.fullName;\n                _context7.next = 38;\n                return globalService.postData_Async(administratorAPI.API_CreateStep(), _this11.editedItem);\n\n              case 38:\n                response = _context7.sent;\n\n                if (!response.state) {\n                  _this11.isSaving = false;\n\n                  _this11.toastError(_this11.$t(\"message.add_error\"));\n                } else {\n                  _this11.toastSuccess(_this11.$t(\"message.add_success\"));\n\n                  _this11.isSaving = false;\n                }\n\n              case 40:\n                _context7.next = 45;\n                break;\n\n              case 42:\n                _context7.prev = 42;\n                _context7.t0 = _context7[\"catch\"](20);\n\n                _this11.toastError(_this11.$t(\"error.load\"));\n\n              case 45:\n                _context7.prev = 45;\n                _this11.isSaving = false;\n\n                _this11.initialize();\n\n                _this11.close();\n\n                return _context7.finish(45);\n\n              case 50:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[20, 42, 45, 50]]);\n      }))();\n    },\n    sortList: function sortList(arr) {\n      return arr.sort(function (a, b) {\n        return moment(b.createdDate).toDate().getTime() - moment(a.createdDate).toDate().getTime();\n      });\n    },\n    selectRank: function selectRank(item) {\n      this.editedItem.rank = item;\n    },\n    selectOrganization: function selectOrganization(item) {\n      var _this12 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _this12.editedItem.organization = item;\n                _context8.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRankByOrganizaionId(item.id));\n\n              case 3:\n                response = _context8.sent;\n\n                if (!(!response || !response.state)) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\");\n\n              case 6:\n                _this12.listRank = response.data;\n                _this12.editedItem.rank = null;\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }))();\n    },\n    removeOrganization: function removeOrganization() {\n      var _this13 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _this13.editedItem.rank = null;\n                _context9.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRank());\n\n              case 3:\n                response = _context9.sent;\n\n                if (!(!response || !response.state)) {\n                  _context9.next = 6;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\");\n\n              case 6:\n                _this13.listRank = response.data;\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }))();\n    },\n    customFilter: function customFilter(search, item) {\n      return !!search && this.match(item, search);\n    },\n    lengthDescription: function lengthDescription(value) {\n      if (value.target.value.trim().length > 255) {\n        this.descriptionMessage = this.$t(\"message.maxlength_required_255\");\n      } else {\n        this.descriptionMessage = \"\";\n      }\n    },\n    lengthProcessTerm: function lengthProcessTerm(value) {\n      if (value.target.value.trim().length > 255) {\n        this.processTermMessage = this.$t(\"message.maxlength_required_255\");\n      } else {\n        this.processTermMessage = \"\";\n      }\n    },\n    onConfirmDelete: function onConfirmDelete(value) {\n      if (!value) {\n        this.onCloseDialog();\n      } else {\n        if (this.selected) {\n          this.deleteAllConfirm();\n        }\n      }\n    }\n  },\n  filters: constant.filters\n};","map":{"version":3,"mappings":"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","names":["name","components","ViewProcessStepVue","EditProcessStepVue","DeleteDialogVue","BreadcrumbsVue","data","user_current","showPicker","showModifyDatePicker","snackbar","dateFormat","createdDate","modifiedDate","createdName","isActive","filterItems","stepCode","listOrganzine","listRank","stepName","description","search","dialog","edit","view","delete","singleSelect","isSaving","isDeleting","selected","items","headers","text","value","filter","toLocaleUpperCase","includes","trim","formatter","x","sort","moment","sortable","desserts","editedIndex","editedItem","created","id","isDelete","modified","isAuthorizedApproval","isBack","isCreateTFSTask","isEdit","isExamine","isProcessRecover","isRequestModify","isRequiredSignature","isSendMail","tennant","optionDeny","modifiedName","processingTerm","organization","rank","tennantCode","tennantName","defaultItem","stepNameMessage","descriptionMessage","processTermMessage","computed","formTitle","formatDateFns","formatModifyDateFns","watch","val","mounted","methods","getAllOrganize","globalService","administratorAPI","response","console","getAllRank","initialize","viewItem","item","editItem","deleteItem","deleteItemConfirm","deleteAll","deleteAllConfirm","closeView","close","closeDelete","closeDeleteAll","save","sortList","arr","selectRank","selectOrganization","removeOrganization","customFilter","lengthDescription","lengthProcessTerm","onConfirmDelete","filters"],"sourceRoot":"src/views/modules/administrator/ProcessStep","sources":["ListProcessStep.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-data-table\r\n\t\t\tv-model=\"selected\"\r\n\t\t\t:headers=\"headers\"\r\n\t\t\t:items=\"desserts\"\r\n\t\t\tmulti-sort\r\n\t\t\titem-key=\"id\"\r\n\t\t\tshow-select\r\n\t\t\tclass=\"grey lighten-5\"\r\n\t\t\tloading=\"true\"\r\n\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t>\r\n\t\t\t<template v-slot:no-data\r\n\t\t\t\t><h1>{{ $t(\"message.no_data\") }}</h1></template\r\n\t\t\t>\r\n\t\t\t<template v-slot:no-results\r\n\t\t\t\t><h1>{{ $t(\"message.no_results\") }}</h1>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.isActive`]=\"{ item }\">\r\n\t\t\t\t<v-simple-checkbox\r\n\t\t\t\t\tv-model=\"item.isActive\"\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t></v-simple-checkbox>\r\n\t\t\t</template>\r\n\t\t\t<template\r\n\t\t\t\tv-for=\"header in headers.filter((header) =>\r\n\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t)\"\r\n\t\t\t\tv-slot:[`item.${header.value}`]=\"{ headers, value }\"\r\n\t\t\t>\r\n\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:top>\r\n\t\t\t\t<v-snackbar\r\n\t\t\t\t\tv-model=\"snackbar\"\r\n\t\t\t\t\t:timeout=\"1500\"\r\n\t\t\t\t\t:value=\"true\"\r\n\t\t\t\t\tabsolute\r\n\t\t\t\t\tshaped\r\n\t\t\t\t\ttop\r\n\t\t\t\t\ttile\r\n\t\t\t\t\tcolor=\"orange accent-2\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{ $t(\"label.no_selected\") }}\r\n\t\t\t\t</v-snackbar>\r\n\r\n\t\t\t\t<v-toolbar flat>\r\n\t\t\t\t\t<v-dialog v-model=\"dialog.edit\" width=\"70vw\">\r\n\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t<v-card-title class=\"p-0 w-full\">\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\tclass=\"mb-4 mr-2 rounded-pill\"\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\teditedItem = Object.assign(\r\n\t\t\t\t\t\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultItem,\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon> mdi-plus </v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t\t\t\t\t<v-icon> mdi-menu-down </v-icon>\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mb-4 mr-2 rounded-pill\"\r\n\t\t\t\t\t\t\t\t\ttext\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteAll\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-delete-outline</v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<!-- <v-text-field\r\n\t\t\t\t\t\t\t\t\tv-model=\"search\"\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('title.search')\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2 mx-4\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\t\t\tsearch.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t\t></v-text-field> -->\r\n\t\t\t\t\t\t\t\t<v-btn icon @click=\"filterExist = !filterExist\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-filter </v-icon>\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<EditProcessStepVue\r\n\t\t\t\t\t\t\t:editedItem=\"editedItem\"\r\n\t\t\t\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<v-dialog v-model=\"dialog.view\" width=\"60vw\">\r\n\t\t\t\t\t\t<ViewProcessStepVue\r\n\t\t\t\t\t\t\t:editedItem=\"editedItem\"\r\n\t\t\t\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<v-dialog v-model=\"dialog.delete\" width=\"fit-content\">\r\n\t\t\t\t\t\t<DeleteDialogVue\r\n\t\t\t\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t\t\t\t@confirmDelete=\"onConfirmDelete\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<!-- <v-dialog v-model=\"dialog.delete\" max-width=\"fit-content\">\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-toolbar>\r\n\t\t\t\t\t\t\t\t<v-toolbar-title>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"title.system\") }}\r\n\t\t\t\t\t\t\t\t</v-toolbar-title>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn icon dark @click=\"dialog.delete = false\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-close</v-icon>\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t\t<v-card-text >\r\n\t\t\t\t\t\t\t\t<v-container>\r\n\t\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\t\t{{ $t(\"label.confirm_delete\") }}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t</v-container>\r\n\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\t@click=\"closeDelete\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-close </v-icon\r\n\t\t\t\t\t\t\t\t\t>{{ $t(\"button.cancel\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteItemConfirm\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-check</v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}</v-btn\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t<v-dialog\r\n\t\t\t\t\t\tv-model=\"dialog.deleteAll\"\r\n\t\t\t\t\t\tmax-width=\"fit-content\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title\r\n\t\t\t\t\t\t\t\tclass=\"text-h5\"\r\n\t\t\t\t\t\t\t\tv-text=\"$t('label.confirm_delete')\"\r\n\t\t\t\t\t\t\t></v-card-title>\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t@click=\"closeDeleteAll\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-close </v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.cancel\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t@click=\"deleteAllConfirm\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-trash-can-outline</v-icon>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog> -->\r\n\t\t\t\t</v-toolbar>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`body.prepend`]>\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t<tr v-if=\"filterExist\">\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"stepCode\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.step_code')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\tstepCode.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"stepName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.step_name')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\tstepName.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"description\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.description')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\tdescription.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"createdName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.created_name')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\tcreatedName.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showPicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tmax-width=\"290\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatDateFns\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.created_date')\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"createdDate = null\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"createdDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showPicker = false\"\r\n\t\t\t\t\t\t\t\tno-title\r\n\t\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showModifyDatePicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tmax-width=\"290\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatModifyDateFns\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.modified_date')\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"modifiedDate = null\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"modifiedDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showModifyDatePicker = false\"\r\n\t\t\t\t\t\t\t\tno-title\r\n\t\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"\">\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"isActive\"\r\n\t\t\t\t\t\t\t:items=\"filterItems\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.is_active')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\twidth=\"20\"\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-slot:[`item.actions`]=\"{ item }\">\r\n\t\t\t\t<div class=\"d-flex\" style=\"min-width: fit-content\">\r\n\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t@click=\"viewItem(item)\"\r\n\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tmdi-eye-circle\r\n\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t@click=\"editItem(item)\"\r\n\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tmdi-pencil-circle\r\n\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t<v-icon @click=\"deleteItem(item)\" color=\"error\">\r\n\t\t\t\t\t\tmdi-close-circle\r\n\t\t\t\t\t</v-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</v-card>\r\n</template>\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport moment from \"moment\";\r\nimport constant from \"@/common/constant.js\";\r\nimport administratorAPI from \"../administrator.api\";\r\nimport ViewProcessStepVue from \"./ViewProcessStep.vue\";\r\nimport EditProcessStepVue from \"./EditProcessStep.vue\";\r\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\n\r\nexport default {\r\n\tname: \"ListProcessStep\",\r\n\tcomponents: {\r\n\t\tViewProcessStepVue,\r\n\t\tEditProcessStepVue,\r\n\t\tDeleteDialogVue,\r\n\t\tBreadcrumbsVue,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuser_current: this.getUserInfo(),\r\n\t\t\tshowPicker: false,\r\n\t\t\tshowModifyDatePicker: false,\r\n\t\t\tsnackbar: false,\r\n\t\t\tdateFormat: \"DD/MM/yyyy\",\r\n\t\t\tcreatedDate: null,\r\n\t\t\tmodifiedDate: null,\r\n\t\t\tcreatedName: \"\",\r\n\t\t\tisActive: this.$t(\"label.show_all\"),\r\n\t\t\tfilterItems: [\r\n\t\t\t\tthis.$t(\"label.show_all\"),\r\n\t\t\t\tthis.$t(\"label.used\"),\r\n\t\t\t\tthis.$t(\"label.unused\"),\r\n\t\t\t],\r\n\r\n\t\t\tstepCode: \"\",\r\n\t\t\tlistOrganzine: [],\r\n\t\t\tlistRank: [],\r\n\t\t\tstepName: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\tsearch: \"\",\r\n\t\t\tdialog: {\r\n\t\t\t\tedit: false,\r\n\t\t\t\tview: false,\r\n\t\t\t\tdelete: false,\r\n\t\t\t},\r\n\t\t\tsingleSelect: false,\r\n\t\t\tisSaving: false,\r\n\t\t\tisDeleting: false,\r\n\t\t\tselected: [],\r\n\t\t\titems: [],\r\n\t\t\theaders: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.step_code\"),\r\n\t\t\t\t\tvalue: \"stepCode\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.stepCode.trim()) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.stepCode)\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.step_name\"),\r\n\t\t\t\t\tvalue: \"stepName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.stepName.trim() || !value) return true;\r\n\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.stepName)\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.description\"),\r\n\t\t\t\t\tvalue: \"description\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.description.trim()) return true;\r\n\t\t\t\t\t\tif (!value) return;\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.description)\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.created_name\"),\r\n\t\t\t\t\tvalue: \"createdName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdName.trim() || !value) return true;\r\n\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.createdName)\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.created_date\"),\r\n\t\t\t\t\tvalue: \"createdDate\",\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.createdDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsort: (a, b) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tmoment(b).toDate().getTime() -\r\n\t\t\t\t\t\t\tmoment(a).toDate().getTime()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_date\"),\r\n\t\t\t\t\tvalue: \"modifiedDate\",\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.modifiedDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.modifiedDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsort: (a, b) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tmoment(b).toDate().getTime() -\r\n\t\t\t\t\t\t\tmoment(a).toDate().getTime()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.is_active\"),\r\n\t\t\t\t\tvalue: \"isActive\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (this.isActive == this.$t(\"label.used\")) {\r\n\t\t\t\t\t\t\treturn value == true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.isActive == this.$t(\"label.unused\")) {\r\n\t\t\t\t\t\t\treturn value == false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t// width: \"6rem\",\r\n\t\t\t\t\ttext: this.$t(\"label.manipulation\"),\r\n\t\t\t\t\tvalue: \"actions\",\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdesserts: [],\r\n\t\t\teditedIndex: -1,\r\n\t\t\teditedItem: {\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tcreated: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodified: null,\r\n\t\t\t\tisAuthorizedApproval: false,\r\n\t\t\t\tisBack: false,\r\n\t\t\t\tisCreateTFSTask: false,\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\tisExamine: false,\r\n\t\t\t\tisProcessRecover: false,\r\n\t\t\t\tisRequestModify: false,\r\n\t\t\t\tisRequiredSignature: false,\r\n\t\t\t\tisSendMail: false,\r\n\t\t\t\ttennant: null,\r\n\t\t\t\toptionDeny: 0,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tprocessingTerm: 0,\r\n\t\t\t\tstepCode: \"\",\r\n\t\t\t\tstepName: \"\",\r\n\t\t\t\torganization: null,\r\n\t\t\t\trank: null,\r\n\t\t\t\ttennantCode: \"\",\r\n\t\t\t\ttennantName: \"\",\r\n\t\t\t},\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tcreated: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodified: null,\r\n\t\t\t\tisAuthorizedApproval: false,\r\n\t\t\t\tisBack: false,\r\n\t\t\t\tisCreateTFSTask: false,\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\tisExamine: false,\r\n\t\t\t\tisProcessRecover: false,\r\n\t\t\t\tisRequestModify: false,\r\n\t\t\t\tisRequiredSignature: false,\r\n\t\t\t\tisSendMail: false,\r\n\t\t\t\ttennant: null,\r\n\t\t\t\toptionDeny: 0,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tprocessingTerm: 0,\r\n\t\t\t\tstepCode: \"\",\r\n\t\t\t\tstepName: \"\",\r\n\t\t\t\torganization: null,\r\n\t\t\t\trank: null,\r\n\t\t\t\ttennantCode: \"\",\r\n\t\t\t\ttennantName: \"\",\r\n\t\t\t},\r\n\t\t\tstepNameMessage: \"\",\r\n\t\t\tdescriptionMessage: \"\",\r\n\t\t\tprocessTermMessage: \"\",\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tformTitle() {\r\n\t\t\treturn this.editedIndex === -1\r\n\t\t\t\t? this.$t(\"label.create_step\")\r\n\t\t\t\t: this.$t(\"label.edit_step\");\r\n\t\t},\r\n\t\tformatDateFns() {\r\n\t\t\treturn this.createdDate\r\n\t\t\t\t? moment(this.createdDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t\tformatModifyDateFns() {\r\n\t\t\treturn this.modifiedDate\r\n\t\t\t\t? moment(this.modifiedDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t},\r\n\r\n\twatch: {\r\n\t\t\"dialog.edit\"(val) {\r\n\t\t\tif (!val) {\r\n\t\t\t\tthis.initialize();\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\r\n\tasync created() {\r\n\t\tthis.$Progress.start();\r\n\t\tthis.initialize();\r\n\t\tthis.getAllOrganize();\r\n\t\tthis.getAllRank();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$Progress.finish();\r\n\t},\r\n\tmethods: {\r\n\t\tasync getAllOrganize() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindAllOrganization(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.listOrganzine = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(\"Error\", error);\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAllRank() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRank(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.listRank = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(\"Error\", error);\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync initialize() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllSteps(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.desserts = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.sortList(this.desserts);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(\"Error\", error);\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tviewItem(item) {\r\n\t\t\tthis.editedIndex = this.desserts.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialog.view = true;\r\n\t\t},\r\n\t\teditItem(item) {\r\n\t\t\tthis.editedIndex = this.desserts.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialog.edit = true;\r\n\t\t},\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.selected = [item];\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialog.delete = true;\r\n\t\t},\r\n\r\n\t\tasync deleteItemConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\tthis.editedItem.isDelete = true;\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\tadministratorAPI.API_UpdateStep(this.editedItem.id),\r\n\t\t\t\t\tthis.editedItem,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"message.delete_error\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = false;\r\n\t\t\tthis.initialize();\r\n\t\t\tthis.closeDelete();\r\n\t\t},\r\n\t\tdeleteAll() {\r\n\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\tthis.dialog.delete = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastError(this.$t(\"label.no_selected\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteAllConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\tthis.selected = this.selected.map((x) => {\r\n\t\t\t\tx.isDelete = true;\r\n\t\t\t\treturn x;\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_DeleteAllStep(),\r\n\t\t\t\t\tthis.selected,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\tthis.isDeleting = false;\r\n\t\t\t\t\tthis.toastError(this.$t(\"message.delete_error\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t} finally {\r\n\t\t\t\tthis.selected = [];\r\n\t\t\t\tthis.isDeleting = false;\r\n\t\t\t\tthis.initialize();\r\n\t\t\t\tthis.closeDeleteAll();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseView() {\r\n\t\t\tthis.dialog.view = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t\tthis.stepNameMessage = \"\";\r\n\t\t\tthis.descriptionMessage = \"\";\r\n\t\t\tthis.processTermMessage = \"\";\r\n\t\t\tthis.cbbOrganizationMessage = \"\";\r\n\t\t\tthis.cbbRankMessage = \"\";\r\n\t\t},\r\n\t\tclose() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t\tthis.dialog.edit = false;\r\n\t\t\tthis.stepNameMessage = \"\";\r\n\t\t\tthis.descriptionMessage = \"\";\r\n\t\t\tthis.processTermMessage = \"\";\r\n\t\t\tthis.cbbOrganizationMessage = \"\";\r\n\t\t\tthis.cbbRankMessage = \"\";\r\n\t\t},\r\n\t\t// filterOnlyCapsText(value, search) {\r\n\t\t// \tconsole.log(\"custom filter\", value, search);\r\n\t\t// \treturn value\r\n\t\t// \t\t.toString()\r\n\t\t// \t\t.toLocaleUpperCase()\r\n\t\t// \t\t.includes(search.toLocaleUpperCase());\r\n\t\t// },\r\n\t\tcloseDelete() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteAll() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\t\tasync save() {\r\n\t\t\tthis.editedItem.stepName = this.editedItem.stepName.trim();\r\n\t\t\tthis.editedItem.description = this.editedItem.description.trim();\r\n\t\t\tif (this.isSaving || this.editedItem.stepName.trim() == \"\") {\r\n\t\t\t\tthis.$refs[\"stepName\"].focus();\r\n\t\t\t\tthis.stepNameMessage = this.$t(\"message.msg_1\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.stepNameMessage = \"\";\r\n\t\t\tlet response;\r\n\t\t\tif (this.editedItem.processingTerm < 0) {\r\n\t\t\t\tthis.$refs[\"processingTerm\"].focus();\r\n\t\t\t\tthis.toastError(this.$t(\"message.add_error\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.editedItem.stepName.trim().length > 255) {\r\n\t\t\t\tthis.toastError(this.$t(\"error.max_length_255\"));\r\n\t\t\t\tthis.$refs[\"stepName\"].focus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.editedItem.description.trim().length > 255) {\r\n\t\t\t\tthis.toastError(this.$t(\"error.max_length_255\"));\r\n\t\t\t\tthis.$refs[\"description\"].focus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isSaving = true;\r\n\t\t\ttry {\r\n\t\t\t\tif (this.editedIndex > -1) {\r\n\t\t\t\t\tthis.editedItem.modifiedDate = new Date();\r\n\t\t\t\t\tthis.editedItem.modifiedName = this.user_current.fullName;\r\n\t\t\t\t\tresponse = await globalService.putData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_UpdateStep(this.editedItem.id),\r\n\t\t\t\t\t\tthis.editedItem,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!response.state) {\r\n\t\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t\t\tthis.toastError(this.$t(\"message.update_error\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.toastSuccess(this.$t(\"message.update_success\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.editedItem.created = this.user_current;\r\n\t\t\t\t\tthis.editedItem.createdName = this.user_current.fullName;\r\n\t\t\t\t\tthis.editedItem.modifiedDate = new Date();\r\n\t\t\t\t\tthis.editedItem.createdDate = new Date();\r\n\t\t\t\t\tthis.editedItem.modifiedName = this.user_current.fullName;\r\n\t\t\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_CreateStep(),\r\n\t\t\t\t\t\tthis.editedItem,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!response.state) {\r\n\t\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t\t\tthis.toastError(this.$t(\"message.add_error\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.toastSuccess(this.$t(\"message.add_success\"));\r\n\t\t\t\t\t\tthis.isSaving = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t} finally {\r\n\t\t\t\tthis.isSaving = false;\r\n\t\t\t\tthis.initialize();\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsortList(arr) {\r\n\t\t\treturn arr.sort((a, b) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tmoment(b.createdDate).toDate().getTime() -\r\n\t\t\t\t\tmoment(a.createdDate).toDate().getTime()\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t\tselectRank(item) {\r\n\t\t\tthis.editedItem.rank = item;\r\n\t\t},\r\n\r\n\t\tasync selectOrganization(item) {\r\n\t\t\tthis.editedItem.organization = item;\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllRankByOrganizaionId(item.id),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) return;\r\n\t\t\tthis.listRank = response.data;\r\n\t\t\tthis.editedItem.rank = null;\r\n\t\t},\r\n\t\tasync removeOrganization() {\r\n\t\t\tthis.editedItem.rank = null;\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllRank(),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) return;\r\n\t\t\tthis.listRank = response.data;\r\n\t\t},\r\n\t\tcustomFilter(search, item) {\r\n\t\t\treturn !!search && this.match(item, search);\r\n\t\t},\r\n\r\n\t\tlengthDescription(value) {\r\n\t\t\tif (value.target.value.trim().length > 255) {\r\n\t\t\t\tthis.descriptionMessage = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.descriptionMessage = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tlengthProcessTerm(value) {\r\n\t\t\tif (value.target.value.trim().length > 255) {\r\n\t\t\t\tthis.processTermMessage = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.processTermMessage = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirmDelete(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.selected) {\r\n\t\t\t\t\tthis.deleteAllConfirm();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfilters: constant.filters,\r\n};\r\n</script>\r\n<style>\r\n.v-picker__title__btn--active {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}