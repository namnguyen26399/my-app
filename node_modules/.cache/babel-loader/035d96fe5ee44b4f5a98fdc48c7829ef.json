{"ast":null,"code":"import _toConsumableArray from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"@koumoul/vjsf/lib/VJsf.css\";\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\nimport globalService from \"@/services/global.service\";\nimport administratorAPI from \"../../administrator/administrator.api\";\nimport RequestFormDataDto from \"@/models/form-data.dto\";\nimport ProcessDataDTO from \"@/models/process-data.dto\";\nimport RequestDataDto from \"@/models/request-data.dto\";\nimport StepDataDto from \"@/models/step-data.dto\";\nexport default {\n  name: \"VSMFECreateRequestFormV2\",\n  props: {\n    m_requestDataV2: {},\n    isSaved: {},\n    _idStepData: {}\n  },\n  components: {\n    VJsf: VJsf\n  },\n  watch: {\n    m_requestDataV2: function m_requestDataV2(newValue) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.request = newValue;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    // async requestDataDto(newValue) {\n    // \tthis.requestData = newValue;\n    // \t//await this.FormData();\n    // \tawait this.getFieldData();\n    // \tawait this.getAttachmentFile();\n    // \tthis.number = this.headers.length;\n    // \t//await this.getStepData();\n    // \tfor (let i = 0; i < this.form.length; i++) {\n    // \t\tthis.file.push([]);\n    // \t\tfor (let j = 0; j < 3; j++) {\n    // \t\t\tthis.file[i].push({});\n    // \t\t}\n    // \t}\n    // },\n    // requestStepDataList(value) {\n    // \tthis.m_requestStepDataList = value;\n    // },\n    // async isSaved(value) {\n    // \tthis.m_isSaved = value;\n    // \tif (this.m_isSaved.state) {\n    // \t\tif (this.requestData.status.id == \"1\") {\n    // \t\t\tawait this.UpLoadFile();\n    // \t\t}\n    // \t\tawait this.save();\n    // \t}\n    // },\n    isSaved: function isSaved(value) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.m_isSaved = value;\n\n                if (!(_this2.m_isSaved.state === 1)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _this2.saveRequetsData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    _idStepData: function _idStepData(value) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this3.idStepData = value;\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    }\n  },\n  data: function data() {\n    return {\n      user_info: this.getUserInfo(),\n      processDataDTO: ProcessDataDTO,\n      m_requestDto: RequestDataDto,\n      request: null,\n      requestGroup: null,\n      requestGroups: [],\n      requestTypes: [],\n      requestType: null,\n      requestData: null,\n      formData: null,\n      options: {\n        fieldProps: {\n          outlined: \"outlined\",\n          dense: \"dense\"\n        }\n      },\n      form: [],\n      requestFormDataDto: RequestFormDataDto,\n      fieldData: null,\n      steepData: null,\n      m_requestStepDataList: [],\n      direction: \"top\",\n      fabs: false,\n      fab: false,\n      fling: false,\n      hover: false,\n      tabs: null,\n      top: false,\n      selected: [],\n      right: false,\n      dialog: {\n        edit: false,\n        delete: false\n      },\n      bottom: true,\n      left: true,\n      transition: \"slide-y\",\n      editRefuseRequestForm: false,\n      openApproveRequestForm: false,\n      openExaminRequestForm2: false,\n      editModifyRequestForm: false,\n      editRequestModifyRequestForm: false,\n      editRequestExamineRequestForm: false,\n      editViewAttachmentFile: false,\n      listAttachmentFile: [],\n      listAttachmentFlieByRequest: [],\n      listUserInfos: [],\n      valid: null,\n      \"x-options\": {\n        messages: {\n          pattern: \"Sai định dạng\",\n          required: \"Đây là trường bắt buộc.\",\n          maxLength: \"Lớn hơn maxLength\",\n          minLength: \"Nhỏ hơn minLength\"\n        }\n      },\n      status: {},\n      m_isSaved: {},\n      idStepData: {},\n      headers: [],\n      number: null,\n      editIndex: 0,\n      rowToAdd: [],\n      editedItem: {},\n      defaultItem: {},\n      upFile: [],\n      file: [],\n      s_file: [],\n      fieldInForm: null,\n      stepInProcess: null,\n      listUserInfo: [],\n      requestStepData: StepDataDto\n    };\n  },\n  created: function created() {\n    this.idStepData = this._idStepData;\n    this.m_isSaved = this.isSaved; // this.requestData = this.requestDataDto;\n    // this.m_requestStepDataList = this.requestStepDataList;\n    //this.getFieldData();\n  },\n  mounted: function mounted() {\n    // this.requestData = this.requestDataDto;\n    this.initialize();\n  },\n  filters: {\n    formatName: function formatName(val) {\n      console.log(\"formatName: val: \", val);\n\n      if (val.length > 40) {\n        return val.substring(0, 38) + \"...\";\n      }\n\n      return val;\n    }\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this4._requestGroups();\n\n              case 2:\n                _context4.next = 4;\n                return _this4.GetAllUser();\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    handleRequestTypes: function handleRequestTypes(event) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this5.requestType = event;\n\n                if (!(_this5.requestType === null)) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 3:\n                if (!(_this5.requestType.id && _this5.requestGroup.id)) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                _context5.next = 6;\n                return _this5._request();\n\n              case 6:\n                _context5.next = 8;\n                return _this5.getStepInProcesses();\n\n              case 8:\n                _context5.next = 10;\n                return _this5.getFieldInForm();\n\n              case 10:\n                _context5.next = 12;\n                return _this5.getForm();\n\n              case 12:\n                _context5.next = 14;\n                return _this5.getAttachmentFileRequest();\n\n              case 14:\n                return _context5.abrupt(\"return\");\n\n              case 15:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    handleRequestGroup: function handleRequestGroup(event) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this6.requestGroup = event;\n\n                if (!(_this6.requestGroup === null)) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 3:\n                _context6.next = 5;\n                return _this6._requestTypes();\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    },\n    handleFileUpload: function handleFileUpload(event, row, colunm) {\n      this.file[row][colunm] = event;\n\n      if (this.file[row][colunm]) {\n        this.errorMessageFile = \"\";\n      }\n    },\n    FormData: function FormData() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var response, requests, _iterator, _step, form_row, _iterator2, _step2, form_col;\n\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetFormDataById(_this7.requestData.id));\n\n              case 3:\n                response = _context7.sent;\n\n                if (!(!response || !response.state)) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", []);\n\n              case 6:\n                requests = response.data;\n\n                if (requests.length > 0) {\n                  _this7.formData = requests[0];\n                  _this7.form = JSON.parse(_this7.formData.objectSchema);\n                  _iterator = _createForOfIteratorHelper(_this7.form);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      form_row = _step.value;\n                      _iterator2 = _createForOfIteratorHelper(form_row.elements);\n\n                      try {\n                        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                          form_col = _step2.value;\n\n                          if (form_col.field.name == \"Trường bảng\") {\n                            _this7.headers = JSON.parse(form_col.field.configSchema.properties.Headers);\n                          }\n                        }\n                      } catch (err) {\n                        _iterator2.e(err);\n                      } finally {\n                        _iterator2.f();\n                      }\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  _this7.form = _this7.form.map(function (ele) {\n                    if (ele.elements) {\n                      ele.elements = ele.elements.map(function (ele1) {\n                        if (ele1.field.configModel.is_required) ele1.field.previewSchema.required = _this7.spreadObjectToArray(ele1.field.previewSchema.properties);\n                        ele1.field.previewSchema.properties.title.readOnly = false;\n                        ele1.field.previewSchema.properties.title[\"x-options\"] = _objectSpread({}, _this7[\"x-options\"]);\n                        ele1.field.previewSchema.properties.title = _objectSpread(_objectSpread({}, ele1.field.previewSchema.properties.title), ele1.field.configModel);\n                        return ele1;\n                      });\n                    }\n\n                    return ele;\n                  });\n\n                  _this7.objectToAdd();\n                }\n\n                _context7.next = 14;\n                break;\n\n              case 10:\n                _context7.prev = 10;\n                _context7.t0 = _context7[\"catch\"](0);\n\n                _this7.toastError(_context7.t0);\n\n                return _context7.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[0, 10]]);\n      }))();\n    },\n    objectToAdd: function objectToAdd() {\n      this.editIndex = 0;\n\n      var _iterator3 = _createForOfIteratorHelper(this.headers),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var head = _step3.value;\n          this.rowToAdd.push(head);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      this.headers.push({\n        text: \"Thao tác\",\n        value: \"action\",\n        sortable: false\n      });\n\n      var _iterator4 = _createForOfIteratorHelper(this.rowToAdd),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var row = _step4.value;\n          // this.editedItem[\"id\"] = 0;\n          this.editedItem[row.value] = \"\";\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      this.defaultItem = this.editedItem;\n    },\n    spreadObjectToArray: function spreadObjectToArray(targetObject) {\n      var result = [];\n\n      for (var field in targetObject) {\n        result.push(field);\n      }\n\n      return result;\n    },\n    getFieldData: function getFieldData() {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var response, requests;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                _context8.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetFieldDataByIdRequest(_this8.requestData.id));\n\n              case 3:\n                response = _context8.sent;\n\n                if (!(!response || !response.state)) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", []);\n\n              case 6:\n                requests = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                if (requests.length > 0) {\n                  _this8.fieldData = requests[0];\n                }\n\n                _context8.next = 14;\n                break;\n\n              case 10:\n                _context8.prev = 10;\n                _context8.t0 = _context8[\"catch\"](0);\n\n                _this8.toastError(_context8.t0);\n\n                return _context8.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[0, 10]]);\n      }))();\n    },\n    getStepData: function getStepData() {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var response, requests;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                _context9.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetSteepDataByIdRequest(_this9.requestData.id));\n\n              case 3:\n                response = _context9.sent;\n\n                if (!(!response || !response.state)) {\n                  _context9.next = 6;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\", []);\n\n              case 6:\n                requests = response.data.sort(function (e1, e2) {\n                  return e1 - e2;\n                });\n                _this9.steepData = requests;\n                _context9.next = 14;\n                break;\n\n              case 10:\n                _context9.prev = 10;\n                _context9.t0 = _context9[\"catch\"](0);\n\n                _this9.toastError(_context9.t0);\n\n                return _context9.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, null, [[0, 10]]);\n      }))();\n    },\n    openExit: function openExit() {\n      this.$router.push({\n        path: \"/phieu-yeu-cau/danh-sach\"\n      });\n    },\n    openEditRequestType: function openEditRequestType() {\n      this.editRefuseRequestForm = true;\n    },\n    OpenApproveRequestForm: function OpenApproveRequestForm() {\n      this.openApproveRequestForm = true;\n    },\n    openExaminRequestForm: function openExaminRequestForm() {\n      this.openExaminRequestForm2 = true;\n    },\n    openModifyRequestForm: function openModifyRequestForm() {\n      this.editModifyRequestForm = true;\n    },\n    openRequestModifyRequestForm: function openRequestModifyRequestForm() {\n      this.editRequestModifyRequestForm = true;\n    },\n    openRequestExamineRequestForm: function openRequestExamineRequestForm() {\n      this.editRequestExamineRequestForm = true;\n    },\n    openViewAttachmentFile: function openViewAttachmentFile() {\n      this.editViewAttachmentFile = true;\n    },\n    onClose: function onClose(value) {\n      if (value) {\n        this.editRefuseRequestForm = false;\n        this.openApproveRequestForm = false;\n        this.openExaminRequestForm2 = false;\n        this.editModifyRequestForm = false;\n        this.editRequestModifyRequestForm = false;\n        this.editRequestExamineRequestForm = false;\n        this.editViewAttachmentFile = false;\n      }\n    },\n    getAttachmentFile: function getAttachmentFile() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                _context10.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllAttachmentFileByRequestDataId(_this10.requestData.id));\n\n              case 3:\n                response = _context10.sent;\n\n                if (!(!response || !response.state)) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", []);\n\n              case 6:\n                _this10.listAttachmentFile = response.data[0];\n                _context10.next = 13;\n                break;\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](0);\n\n                _this10.toastError(_context10.t0);\n\n                return _context10.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[0, 9]]);\n      }))();\n    },\n    GetAllUser: function GetAllUser() {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.prev = 0;\n                _context11.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllUserInfos());\n\n              case 3:\n                response = _context11.sent;\n\n                if (!(!response || !response.state)) {\n                  _context11.next = 6;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\", []);\n\n              case 6:\n                _this11.listUserInfos = response.data.filter(function (entry) {\n                  return !entry.isDelete && entry.isActive;\n                });\n                _context11.next = 13;\n                break;\n\n              case 9:\n                _context11.prev = 9;\n                _context11.t0 = _context11[\"catch\"](0);\n\n                _this11.toastError(_context11.t0);\n\n                return _context11.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, null, [[0, 9]]);\n      }))();\n    },\n    GetStepData: function GetStepData() {\n      var _this12 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        var tempOrderMin, _iterator5, _step5, stepData, response;\n\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                tempOrderMin = Math.min.apply(Math, _toConsumableArray(_this12.m_requestStepDataList.map(function (e) {\n                  return e.stepOrder;\n                })));\n                _iterator5 = _createForOfIteratorHelper(_this12.m_requestStepDataList);\n                _context12.prev = 2;\n\n                _iterator5.s();\n\n              case 4:\n                if ((_step5 = _iterator5.n()).done) {\n                  _context12.next = 15;\n                  break;\n                }\n\n                stepData = _step5.value;\n\n                if (!(stepData.stepOrder == tempOrderMin)) {\n                  _context12.next = 13;\n                  break;\n                }\n\n                stepData.isActive = true;\n                _context12.next = 10;\n                return globalService.putData_Async(administratorAPI.API_UpDateStepData(stepData.id), stepData);\n\n              case 10:\n                response = _context12.sent;\n\n                if (!(!response || !response.state)) {\n                  _context12.next = 13;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\");\n\n              case 13:\n                _context12.next = 4;\n                break;\n\n              case 15:\n                _context12.next = 20;\n                break;\n\n              case 17:\n                _context12.prev = 17;\n                _context12.t0 = _context12[\"catch\"](2);\n\n                _iterator5.e(_context12.t0);\n\n              case 20:\n                _context12.prev = 20;\n\n                _iterator5.f();\n\n                return _context12.finish(20);\n\n              case 23:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, null, [[2, 17, 20, 23]]);\n      }))();\n    },\n    createTable: function createTable() {\n      this.editedItem = Object.assign({}, this.defaultItem); // this.editedItem[\"id\"] = this.selected.length + 1;\n\n      this.selected.push(Object.assign({}, this.editedItem));\n      this.editItem(this.selected[this.selected.length - 1]);\n    },\n    remove: function remove(item) {\n      this.requestData.splice(this.requestData.indexOf(item), 1);\n    },\n    editItem: function editItem(item) {\n      this.editIndex = this.selected.indexOf(item);\n      this.editedItem = this.selected[this.editIndex];\n    },\n    deleteItem: function deleteItem(item) {\n      this.selected.splice(this.selected.indexOf(item), 1); // this.dialog.delete = true;\n\n      this.editedItem = Object.assign({}, this.defaultItem);\n    },\n    onConfirmDelete: function onConfirmDelete() {},\n    onCloseDialog: function onCloseDialog() {\n      this.dialog.delete = false;\n    },\n    log: function log() {\n      this.selected[this.editIndex] = Object.assign({}, this.editedItem);\n    },\n    UpLoadFile2: function UpLoadFile2() {\n      var _this13 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        var i, j, response;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                i = 0;\n\n              case 1:\n                if (!(i < _this13.form.length)) {\n                  _context13.next = 19;\n                  break;\n                }\n\n                j = 0;\n\n              case 3:\n                if (!(j < 3)) {\n                  _context13.next = 16;\n                  break;\n                }\n\n                if (!(_this13.file[i][j] && _this13.file[i][j].type)) {\n                  _context13.next = 13;\n                  break;\n                }\n\n                _context13.next = 7;\n                return globalService.uploadData_Async(administratorAPI.API_UploadFile(), _this13.file[i][j], {\n                  isFolder: 0,\n                  needEncrypt: true,\n                  contentType: _this13.file[i][j].type\n                });\n\n              case 7:\n                response = _context13.sent;\n\n                if (response) {\n                  _context13.next = 10;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\", _this13.toastError(_this13.$t(\"error.upload_file\")));\n\n              case 10:\n                if (response.state) {\n                  _context13.next = 12;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\", _this13.toastError(response.message));\n\n              case 12:\n                _this13.form[i].elements[j].field.attachmentInfo = response.data;\n\n              case 13:\n                j++;\n                _context13.next = 3;\n                break;\n\n              case 16:\n                i++;\n                _context13.next = 1;\n                break;\n\n              case 19:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13);\n      }))();\n    },\n    UpLoadFile: function UpLoadFile() {\n      var _this14 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n        var listUpload, _i, _listUpload, _entry$field$previewM, _entry$field$previewM2, entry, response, attachmentFileCreater;\n\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                listUpload = [];\n\n                _this14.form.forEach(function (entry) {\n                  entry.elements.forEach(function (entry1) {\n                    var _entry1$field$preview;\n\n                    if ((_entry1$field$preview = entry1.field.previewModel.title) !== null && _entry1$field$preview !== void 0 && _entry1$field$preview.data) listUpload.push(entry1);\n                  });\n                });\n\n                _i = 0, _listUpload = listUpload;\n\n              case 3:\n                if (!(_i < _listUpload.length)) {\n                  _context14.next = 19;\n                  break;\n                }\n\n                entry = _listUpload[_i];\n                _context14.next = 7;\n                return globalService.uploadData_Async(administratorAPI.API_UploadFile(), (_entry$field$previewM = entry.field.previewModel.title) === null || _entry$field$previewM === void 0 ? void 0 : _entry$field$previewM.data, {\n                  isFolder: 0,\n                  needEncrypt: true,\n                  contentType: (_entry$field$previewM2 = entry.field.previewModel.title) === null || _entry$field$previewM2 === void 0 ? void 0 : _entry$field$previewM2.type\n                });\n\n              case 7:\n                response = _context14.sent;\n\n                if (response) {\n                  _context14.next = 10;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", _this14.toastError(_this14.$t(\"error.upload_file\")));\n\n              case 10:\n                if (response.state) {\n                  _context14.next = 12;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", _this14.toastError(response.message));\n\n              case 12:\n                attachmentFileCreater = response.data;\n                _this14.upFile = attachmentFileCreater;\n                entry.field.attachmentInfo = attachmentFileCreater;\n                console.log(\"entry.field.attachmentInfo\", entry.field.attachmentInfo); // attachmentFileCreater.created = this.getUserInfo();\n                // attachmentFileCreater.requestData = {\n                // \tid: this.requestData.id,\n                // };\n                // try {\n                // \tlet response = await globalService.putData_Async(\n                // \t\tadministratorAPI.API_UpdateAttachmentFile(\n                // \t\t\tattachmentFileCreater.id,\n                // \t\t),\n                // \t\tattachmentFileCreater,\n                // \t);\n                // \tif (!response || !response.state) {\n                // \t\treturn;\n                // \t}\n                // \treturn;\n                // } catch (error) {\n                // \tthis.toastError(error);\n                // }\n\n              case 16:\n                _i++;\n                _context14.next = 3;\n                break;\n\n              case 19:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }))();\n    },\n    updateAttachmentFile: function updateAttachmentFile(attachmentFileDto) {\n      var _this15 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                attachmentFileDto.created = _this15.getUserInfo();\n                attachmentFileDto = _this15.getUserInfo();\n                attachmentFileDto = new Date();\n                attachmentFileDto.requestData = {\n                  id: _this15.requestData.id\n                };\n                _context15.prev = 4;\n                _context15.next = 7;\n                return globalService.putData_Async(administratorAPI.API_UpdateAttachmentFile(attachmentFileDto.id), attachmentFileDto);\n\n              case 7:\n                response = _context15.sent;\n\n                if (!(!response || !response.state)) {\n                  _context15.next = 10;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\");\n\n              case 10:\n                return _context15.abrupt(\"return\");\n\n              case 13:\n                _context15.prev = 13;\n                _context15.t0 = _context15[\"catch\"](4);\n\n                _this15.toastError(_context15.t0);\n\n              case 16:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, null, [[4, 13]]);\n      }))();\n    },\n    _requestGroups: function _requestGroups() {\n      var _this16 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.prev = 0;\n                _context16.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequestGroup());\n\n              case 3:\n                response = _context16.sent;\n\n                if (!(!response || !response.state)) {\n                  _context16.next = 6;\n                  break;\n                }\n\n                return _context16.abrupt(\"return\", []);\n\n              case 6:\n                _this16.requestGroups = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _context16.next = 13;\n                break;\n\n              case 9:\n                _context16.prev = 9;\n                _context16.t0 = _context16[\"catch\"](0);\n\n                _this16.toastError(_context16.t0);\n\n                return _context16.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, null, [[0, 9]]);\n      }))();\n    },\n    _requestTypes: function _requestTypes() {\n      var _this17 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _context17.prev = 0;\n                _context17.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequestTypeByRequestGroupId(_this17.requestGroup.id));\n\n              case 3:\n                response = _context17.sent;\n\n                if (!(!response || !response.state)) {\n                  _context17.next = 6;\n                  break;\n                }\n\n                return _context17.abrupt(\"return\", []);\n\n              case 6:\n                _this17.requestTypes = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n                _context17.next = 13;\n                break;\n\n              case 9:\n                _context17.prev = 9;\n                _context17.t0 = _context17[\"catch\"](0);\n\n                _this17.toastError(_context17.t0);\n\n                return _context17.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, null, [[0, 9]]);\n      }))();\n    },\n    _request: function _request() {\n      var _this18 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {\n        var response, requests;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                _context18.prev = 0;\n                _context18.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindOneRequesrtByID(_this18.requestType.id));\n\n              case 3:\n                response = _context18.sent;\n\n                if (!(!response || !response.state)) {\n                  _context18.next = 6;\n                  break;\n                }\n\n                return _context18.abrupt(\"return\", _this18.toastError(_this18.$t(\"error.load\")));\n\n              case 6:\n                requests = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                if (requests.length > 0) {\n                  _this18.request = requests[0];\n                  console.log(\"this.request \", _this18.request);\n\n                  _this18.$emit(\"save\", _this18.request);\n                }\n\n                _context18.next = 14;\n                break;\n\n              case 10:\n                _context18.prev = 10;\n                _context18.t0 = _context18[\"catch\"](0);\n\n                _this18.toastError(_context18.t0);\n\n                return _context18.abrupt(\"return\");\n\n              case 14:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, null, [[0, 10]]);\n      }))();\n    },\n    getStepInProcesses: function getStepInProcesses() {\n      var _this19 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.prev = 0;\n                _context19.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindStepInProcessesByID(_this19.request.processInfo.id));\n\n              case 3:\n                response = _context19.sent;\n\n                if (!(!response || !response.state)) {\n                  _context19.next = 6;\n                  break;\n                }\n\n                return _context19.abrupt(\"return\");\n\n              case 6:\n                _this19.stepInProcess = response.data;\n                _context19.next = 13;\n                break;\n\n              case 9:\n                _context19.prev = 9;\n                _context19.t0 = _context19[\"catch\"](0);\n\n                _this19.toastError(_context19.t0);\n\n                return _context19.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, null, [[0, 9]]);\n      }))();\n    },\n    getFieldInForm: function getFieldInForm() {\n      var _this20 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20() {\n        var response, requests;\n        return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                _context20.prev = 0;\n                _context20.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindFieldInForm(_this20.request.form.id));\n\n              case 3:\n                response = _context20.sent;\n\n                if (!(!response || !response.state)) {\n                  _context20.next = 6;\n                  break;\n                }\n\n                return _context20.abrupt(\"return\", []);\n\n              case 6:\n                requests = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                if (requests.length > 0) {\n                  _this20.fieldInForm = requests[0];\n                }\n\n                console.log(\"this.fieldInForm\", _this20.fieldInForm);\n                _context20.next = 15;\n                break;\n\n              case 11:\n                _context20.prev = 11;\n                _context20.t0 = _context20[\"catch\"](0);\n\n                _this20.toastError(_context20.t0);\n\n                return _context20.abrupt(\"return\");\n\n              case 15:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, null, [[0, 11]]);\n      }))();\n    },\n    getForm: function getForm() {\n      var _this21 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21() {\n        var _iterator6, _step6, form_row, _iterator7, _step7, form_col;\n\n        return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                console.log(\"11111111\");\n                _this21.formData = _this21.request.form;\n                console.log(\"this.request.form\", _this21.request.form);\n                _this21.form = JSON.parse(_this21.formData.objectSchema);\n                _iterator6 = _createForOfIteratorHelper(_this21.form);\n\n                try {\n                  for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                    form_row = _step6.value;\n                    _iterator7 = _createForOfIteratorHelper(form_row.elements);\n\n                    try {\n                      for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                        form_col = _step7.value;\n\n                        if (form_col.field.name == \"Trường bảng\") {\n                          _this21.headers = JSON.parse(form_col.field.configSchema.properties.Headers);\n                        }\n                      }\n                    } catch (err) {\n                      _iterator7.e(err);\n                    } finally {\n                      _iterator7.f();\n                    }\n                  }\n                } catch (err) {\n                  _iterator6.e(err);\n                } finally {\n                  _iterator6.f();\n                }\n\n                console.log(\"2222\");\n                _this21.form = _this21.form.map(function (ele) {\n                  if (ele.elements) {\n                    ele.elements = ele.elements.map(function (ele1) {\n                      if (ele1.field.configModel.is_required) ele1.field.previewSchema.required = _this21.spreadObjectToArray(ele1.field.previewSchema.properties);\n                      ele1.field.previewSchema.properties.title.readOnly = false;\n                      ele1.field.previewSchema.properties.title[\"x-options\"] = _objectSpread({}, _this21[\"x-options\"]);\n                      ele1.field.previewSchema.properties.title = _objectSpread(_objectSpread({}, ele1.field.previewSchema.properties.title), ele1.field.configModel);\n                      return ele1;\n                    });\n                  }\n\n                  return ele;\n                });\n                console.log(\"this.form\", _this21.form);\n\n                _this21.objectToAdd();\n\n              case 10:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21);\n      }))();\n    },\n    getAttachmentFileRequest: function getAttachmentFileRequest() {\n      var _this22 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22() {\n        var _iterator8, _step8, _this22$listAttachmen, templateForm, response;\n\n        return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                _iterator8 = _createForOfIteratorHelper(_this22.request.templateForms);\n                _context22.prev = 1;\n\n                _iterator8.s();\n\n              case 3:\n                if ((_step8 = _iterator8.n()).done) {\n                  _context22.next = 14;\n                  break;\n                }\n\n                templateForm = _step8.value;\n                response = void 0;\n                _context22.next = 8;\n                return globalService.getData_Async(administratorAPI.API_GetAllAttachmentFileByTemplateFormId(templateForm.id));\n\n              case 8:\n                response = _context22.sent;\n\n                if (!(!response || !response.state)) {\n                  _context22.next = 11;\n                  break;\n                }\n\n                return _context22.abrupt(\"return\", []);\n\n              case 11:\n                (_this22$listAttachmen = _this22.listAttachmentFlieByRequest).push.apply(_this22$listAttachmen, _toConsumableArray(response.data));\n\n              case 12:\n                _context22.next = 3;\n                break;\n\n              case 14:\n                _context22.next = 19;\n                break;\n\n              case 16:\n                _context22.prev = 16;\n                _context22.t0 = _context22[\"catch\"](1);\n\n                _iterator8.e(_context22.t0);\n\n              case 19:\n                _context22.prev = 19;\n\n                _iterator8.f();\n\n                return _context22.finish(19);\n\n              case 22:\n                console.log(\"this.request.listAttachmentFlieByRequest\", _this22.listAttachmentFlieByRequest);\n\n              case 23:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, null, [[1, 16, 19, 22]]);\n      }))();\n    },\n    clearRequestGroup: function clearRequestGroup() {\n      this.requestType = null;\n      this.form = null;\n      this.requestTypes = [];\n      this.request = null;\n    },\n    clearForm: function clearForm() {\n      this.form = null;\n      this.request = null;\n    },\n    saveRequetsData: function saveRequetsData() {\n      var _this23 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                _context23.next = 2;\n                return _this23.UpLoadFile();\n\n              case 2:\n                if (_this23.request) {\n                  _context23.next = 4;\n                  break;\n                }\n\n                return _context23.abrupt(\"return\");\n\n              case 4:\n                if (!_this23.isSaving) {\n                  _context23.next = 6;\n                  break;\n                }\n\n                return _context23.abrupt(\"return\");\n\n              case 6:\n                _this23.m_requestDto.modified = {\n                  id: _this23.user_info.id\n                };\n                _this23.m_requestDto.modifiedName = new Date();\n                _this23.m_requestDto.requestDataName = _this23.request.requestName;\n                _this23.m_requestDto.requestDataCode = _this23.request.requestCode;\n                _this23.m_requestDto.request = {\n                  id: _this23.request.id\n                };\n                _context23.prev = 11;\n                _this23.m_requestDto.created = _this23.user_info;\n                _this23.m_requestDto.createdName = _this23.user_info.fullName;\n                _this23.m_requestDto.createdDate = new Date();\n                _this23.m_requestDto.statusName = \"Khởi tạo\";\n                _this23.m_requestDto.status = {\n                  id: 1\n                };\n                _this23.m_requestDto.userInfos = _this23.listUserInfo;\n                _this23.m_requestDto.requestGroupCode = _this23.request.requestGroup.requestGroupCode;\n                _this23.m_requestDto.requestGroupName = _this23.request.requestGroup.requestGroupName;\n                _this23.m_requestDto.rrequestTypeCode = _this23.request.requestType.requestTypeCode;\n                _this23.m_requestDto.requestTypeName = _this23.request.requestType.requestTypeName;\n                _context23.next = 24;\n                return globalService.postData_Async(administratorAPI.API_CreateRequestData(), _this23.m_requestDto);\n\n              case 24:\n                response = _context23.sent;\n                console.log(\"this.request\", response);\n\n                if (!(!response || !response.state)) {\n                  _context23.next = 28;\n                  break;\n                }\n\n                return _context23.abrupt(\"return\", _this23.isSaving = false);\n\n              case 28:\n                _this23.requestData = response;\n                _context23.next = 31;\n                return _this23.saveProcessData();\n\n              case 31:\n                if (_this23.processData) {\n                  _context23.next = 33;\n                  break;\n                }\n\n                return _context23.abrupt(\"return\", _this23.isSaving = false);\n\n              case 33:\n                _context23.next = 35;\n                return _this23.saveFormData();\n\n              case 35:\n                _this23.m_isSaved.state = 2;\n                _this23.m_isSaved.idRequestData = _this23.requestData.data.id;\n                _this23.m_isSaved.idProcessData = _this23.processData.id;\n                console.log(\"1111\");\n                console.log(\"this.idStepData\", _this23.idStepData);\n\n                _this23.$emit(\"save2\", Object.assign({}, _this23.m_isSaved));\n\n                if (!(_this23.idStepData == 0)) {\n                  _context23.next = 49;\n                  break;\n                }\n\n                console.log(\"vao idStepData\");\n                _context23.next = 45;\n                return _this23.getUserInStep();\n\n              case 45:\n                _context23.next = 47;\n                return _this23.saveStepData();\n\n              case 47:\n                _this23.toastSuccess(_this23.$t(\"message.add_success\"));\n\n                _this23.$router.push({\n                  path: \"/phieu-yeu-cau\"\n                });\n\n              case 49:\n                _context23.next = 54;\n                break;\n\n              case 51:\n                _context23.prev = 51;\n                _context23.t0 = _context23[\"catch\"](11);\n\n                _this23.toastError(_context23.t0);\n\n              case 54:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, null, [[11, 51]]);\n      }))();\n    },\n    saveProcessData: function saveProcessData() {\n      var _this24 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                _this24.processDataDTO.created = {\n                  id: _this24.request.processInfo.created.id\n                };\n                _this24.processDataDTO.createdDate = _this24.request.processInfo.createdDate;\n                _this24.processDataDTO.isActive = _this24.request.processInfo.isActive;\n                _this24.processDataDTO.isDelete = _this24.request.processInfo.isDelete;\n                _this24.processDataDTO.modified = {\n                  id: _this24.request.processInfo.modified.id\n                };\n                _this24.processDataDTO.modifiedDate = _this24.request.processInfo.modifiedDate;\n                _this24.processDataDTO.modifiedName = _this24.request.processInfo.modifiedName;\n                _this24.processDataDTO.processCode = _this24.request.processInfo.processCode;\n                _this24.processDataDTO.processName = _this24.request.processInfo.processName;\n                _this24.processDataDTO.requestData = {\n                  id: _this24.requestData.data.id\n                };\n                _context24.next = 12;\n                return globalService.postData_Async(administratorAPI.API_CreateProcessData(), _this24.processDataDTO);\n\n              case 12:\n                response = _context24.sent;\n\n                if (!(!response || !response.state)) {\n                  _context24.next = 15;\n                  break;\n                }\n\n                return _context24.abrupt(\"return\");\n\n              case 15:\n                _this24.processData = response.data;\n                console.log(\"this.processData\", _this24.processData);\n\n              case 17:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24);\n      }))();\n    },\n    saveFormData: function saveFormData() {\n      var _this25 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                _this25.formData[\"objectSchema\"] = JSON.stringify(_this25.form);\n                _this25.requestFormDataDto = _this25.formData;\n                _this25.requestFormDataDto.id = null; // this.requestFormDataDto.option = this.form.option;\n                // this.requestFormDataDto.formDataCode = this.form.formDataCode;\n                // this.requestFormDataDto.formDateName = this.form.formDateName;\n                // this.requestFormDataDto.objectSchema = this.form.objectSchema;\n                // this.requestFormDataDto.objectModel = this.form.objectModel;\n                // this.requestFormDataDto.createdName = this.form.createdName;\n                // this.requestFormDataDto.createdDate = this.form.createdDate;\n                // this.requestFormDataDto.modifiedName = this.form.modifiedName;\n                // this.requestFormDataDto.modifiedDate = this.form.modifiedDate;\n                // this.requestFormDataDto.isActive = this.form.isActive;\n                // this.requestFormDataDto.isDelete = this.form.isDelete;\n                // this.requestFormDataDto.tennantCode = this.form.tennantCode;\n                // this.requestFormDataDto.tennantName = this.form.tennantName;\n                // this.requestFormDataDto.created = {\n                // \tid: this.form.created.id,\n                // };\n                // this.requestFormDataDto.modified = {\n                // \tid: this.form.modified.id,\n                // };\n\n                _this25.requestFormDataDto.requestData = {\n                  id: _this25.requestData.data.id\n                }; // this.requestFormDataDto.form = this.request.form;\n\n                _context25.next = 6;\n                return globalService.postData_Async(administratorAPI.API_CreateFormData(), _this25.requestFormDataDto);\n\n              case 6:\n                response = _context25.sent;\n\n                if (!(!response || !response.state)) {\n                  _context25.next = 9;\n                  break;\n                }\n\n                return _context25.abrupt(\"return\");\n\n              case 9:\n                console.log(\"requestFormDataDto\", response);\n\n              case 10:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25);\n      }))();\n    },\n    saveStepData: function saveStepData() {\n      var _this26 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26() {\n        var _iterator9, _step9, stepInProces, response;\n\n        return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                console.log(\"this.stepInProcess\", _this26.stepInProcess);\n                _iterator9 = _createForOfIteratorHelper(_this26.stepInProcess);\n                _context26.prev = 2;\n\n                _iterator9.s();\n\n              case 4:\n                if ((_step9 = _iterator9.n()).done) {\n                  _context26.next = 52;\n                  break;\n                }\n\n                stepInProces = _step9.value;\n                console.log(\"sâsâsááá\");\n                _this26.requestStepData.isActive = false;\n                console.log(\"222\");\n                _this26.requestStepData.created = {\n                  id: _this26.user_info.id\n                };\n                _this26.requestStepData.step = {\n                  id: stepInProces.step.id\n                };\n                _this26.requestStepData.processData = {\n                  id: _this26.processData.id\n                };\n                _this26.requestStepData.requestData = {\n                  id: _this26.requestData.data.id\n                };\n                _this26.requestStepData.stepInProcess = {\n                  id: stepInProces.id\n                }; // this.requestStepData = [...stepInProces];\n\n                _this26.requestStepData.stepOrder = stepInProces.stepOrder;\n                _this26.requestStepData.stepDataCode = stepInProces.stepInProcessCode;\n                _this26.requestStepData.stepDataName = stepInProces.stepInProcessName;\n                _this26.requestStepData.processingTerm = stepInProces.processingTerm;\n                _this26.requestStepData.precessingTermTime = stepInProces.precessingTermTime;\n                _this26.requestStepData.isRequiredSignature = stepInProces.isRequiredSignature;\n                _this26.requestStepData.isBack = stepInProces.isBack;\n                _this26.requestStepData.isAuthorizedApproval = stepInProces.isAuthorizedApproval;\n                _this26.requestStepData.isExamine = stepInProces.isExamine;\n                _this26.requestStepData.isEdit = stepInProces.isEdit;\n                _this26.requestStepData.isRequestModify = stepInProces.isRequestModify;\n                _this26.requestStepData.isSendMail = stepInProces.isSendMail;\n                _this26.requestStepData.isProcessRecover = stepInProces.isProcessRecover;\n                _this26.requestStepData.isCreateTfsTask = stepInProces.isCreateTfsTask;\n                _this26.requestStepData.organizationCode = stepInProces.organization.organizationCode;\n                _this26.requestStepData.organizationName = stepInProces.organization.organizationName;\n                _this26.requestStepData.rankCode = stepInProces.rankCode;\n                _this26.requestStepData.rankName = stepInProces.rankName;\n                _this26.requestStepData.description = stepInProces.description;\n                _this26.requestStepData.createdName = stepInProces.createdName;\n                _this26.requestStepData.createdDate = stepInProces.createdDate;\n                _this26.requestStepData.modifiedName = stepInProces.modifiedName;\n                _this26.requestStepData.isDelete = stepInProces.isDelete;\n                _this26.requestStepData.tennantCode = stepInProces.tennantCode;\n                _this26.requestStepData.tennantName = stepInProces.tennantName;\n                _this26.requestStepData.modifiedDate = stepInProces.modifiedDate;\n                _this26.requestStepData.modified = {\n                  id: stepInProces.modified.id\n                };\n                console.log(\"33\");\n                _this26.requestStepData.userInfos = stepInProces.userInStepDTOs.map(function (entry) {\n                  return {\n                    id: entry.userInfo.id\n                  };\n                });\n                console.log(\"44\"); // let user = await this.getUserInStep(stepInProces.id);\n                // let responseUser = await globalService.getData_Async(\n                // \tadministratorAPI.API_GetAllByStepInProcessId(\n                // \t\tstepInProces.id,\n                // \t),\n                // );\n                // if (!responseUser || !responseUser.state) {\n                // \tthis.toastError(responseUser.messgage);\n                // \treturn (this.requestStepData.userInfos = []);\n                // }\n                // responseUser.data.filter((entry) => {\n                // \tthis.requestStepData.userInfos.push({\n                // \t\tid: entry.userInfo.id,\n                // \t});\n                // });\n\n                _context26.next = 46;\n                return globalService.postData_Async(administratorAPI.API_CreateStepData(), _this26.requestStepData);\n\n              case 46:\n                response = _context26.sent;\n\n                if (!(!response || !response.state)) {\n                  _context26.next = 49;\n                  break;\n                }\n\n                return _context26.abrupt(\"return\");\n\n              case 49:\n                _this26.toastSuccess(_this26.$t(\"message.add_success\")); // console.log(\"respon create\", response);\n\n\n              case 50:\n                _context26.next = 4;\n                break;\n\n              case 52:\n                _context26.next = 57;\n                break;\n\n              case 54:\n                _context26.prev = 54;\n                _context26.t0 = _context26[\"catch\"](2);\n\n                _iterator9.e(_context26.t0);\n\n              case 57:\n                _context26.prev = 57;\n\n                _iterator9.f();\n\n                return _context26.finish(57);\n\n              case 60:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee26, null, [[2, 54, 57, 60]]);\n      }))();\n    },\n    getUserInStep: function getUserInStep() {\n      var _this27 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27() {\n        var response, _iterator10, _step10, stepInProces;\n\n        return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _iterator10 = _createForOfIteratorHelper(_this27.stepInProcess);\n                _context27.prev = 1;\n\n                _iterator10.s();\n\n              case 3:\n                if ((_step10 = _iterator10.n()).done) {\n                  _context27.next = 20;\n                  break;\n                }\n\n                stepInProces = _step10.value;\n                _context27.prev = 5;\n                _context27.next = 8;\n                return globalService.getData_Async(administratorAPI.API_GetSteepDataByIdStepInProcessId(stepInProces.id));\n\n              case 8:\n                response = _context27.sent;\n\n                if (!response || !response.state) {\n                  _this27.toastError(_this27.$t(\"error.load\"));\n                }\n\n                stepInProces.userInStepDTOs = response.data;\n                console.log(\"stepInProces\", stepInProces);\n                _context27.next = 18;\n                break;\n\n              case 14:\n                _context27.prev = 14;\n                _context27.t0 = _context27[\"catch\"](5);\n\n                _this27.toastError(_context27.t0);\n\n                return _context27.abrupt(\"return\");\n\n              case 18:\n                _context27.next = 3;\n                break;\n\n              case 20:\n                _context27.next = 25;\n                break;\n\n              case 22:\n                _context27.prev = 22;\n                _context27.t1 = _context27[\"catch\"](1);\n\n                _iterator10.e(_context27.t1);\n\n              case 25:\n                _context27.prev = 25;\n\n                _iterator10.f();\n\n                return _context27.finish(25);\n\n              case 28:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27, null, [[1, 22, 25, 28], [5, 14]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","m_requestDataV2","isSaved","_idStepData","components","VJsf","watch","newValue","value","data","user_info","processDataDTO","m_requestDto","request","requestGroup","requestGroups","requestTypes","requestType","requestData","formData","options","fieldProps","outlined","dense","form","requestFormDataDto","fieldData","steepData","m_requestStepDataList","direction","fabs","fab","fling","hover","tabs","top","selected","right","dialog","edit","delete","bottom","left","transition","editRefuseRequestForm","openApproveRequestForm","openExaminRequestForm2","editModifyRequestForm","editRequestModifyRequestForm","editRequestExamineRequestForm","editViewAttachmentFile","listAttachmentFile","listAttachmentFlieByRequest","listUserInfos","valid","messages","pattern","required","maxLength","minLength","status","m_isSaved","idStepData","headers","number","editIndex","rowToAdd","editedItem","defaultItem","upFile","file","s_file","fieldInForm","stepInProcess","listUserInfo","requestStepData","created","mounted","filters","formatName","console","methods","initialize","handleRequestTypes","event","handleRequestGroup","handleFileUpload","row","colunm","FormData","globalService","administratorAPI","response","requests","form_row","form_col","Headers","ele","ele1","title","objectToAdd","text","sortable","spreadObjectToArray","targetObject","result","getFieldData","getStepData","openExit","path","openEditRequestType","OpenApproveRequestForm","openExaminRequestForm","openModifyRequestForm","openRequestModifyRequestForm","openRequestExamineRequestForm","openViewAttachmentFile","onClose","getAttachmentFile","GetAllUser","GetStepData","tempOrderMin","Math","stepData","createTable","remove","item","editItem","deleteItem","onConfirmDelete","onCloseDialog","log","UpLoadFile2","i","j","isFolder","needEncrypt","contentType","UpLoadFile","listUpload","entry","attachmentFileCreater","updateAttachmentFile","attachmentFileDto","id","_requestGroups","_requestTypes","_request","getStepInProcesses","getFieldInForm","getForm","getAttachmentFileRequest","templateForm","clearRequestGroup","clearForm","saveRequetsData","saveProcessData","saveFormData","saveStepData","stepInProces","getUserInStep"],"sourceRoot":"src/views/modules/khai-phieu-yeu-cau/RequestForm","sources":["CreateRequestFormV2.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<v-row>\r\n\t\t\t<v-col md=\"8\">\r\n\t\t\t\t<v-card elevation=\"3\" color=\"#C2C2C2\">\r\n\t\t\t\t\t<v-row class=\"mt-4\">\r\n\t\t\t\t\t\t<v-col cols=\"12\" md=\"12\" class=\"px-10\">\r\n\t\t\t\t\t\t\t<label> Nhóm yêu cầu : </label>\r\n\t\t\t\t\t\t\t<v-combobox\r\n\t\t\t\t\t\t\t\tv-model=\"requestGroup\"\r\n\t\t\t\t\t\t\t\t:items=\"requestGroups\"\r\n\t\t\t\t\t\t\t\titem-text=\"requestGroupName\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\tbackground-color=\"#fff\"\r\n\t\t\t\t\t\t\t\tclass=\"text-red pt-2\"\r\n\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t@click:clear=\"clearRequestGroup()\"\r\n\t\t\t\t\t\t\t\t@change=\"handleRequestGroup($event)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\tv-slot:selection=\"{\r\n\t\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\tparent,\r\n\t\t\t\t\t\t\t\t\t\tselected,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"item === Object(item)\"\r\n\t\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t\t:input-value=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\t\tclass=\"ma-2 rounded-pill\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"red--text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.requestGroupName,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"parent.selectItem(item)\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</v-combobox>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t\t<v-row class=\"mt-2\">\r\n\t\t\t\t\t\t<v-col cols=\"12\" md=\"12\" class=\"px-10\">\r\n\t\t\t\t\t\t\t<label> Loại yêu cầu : </label>\r\n\t\t\t\t\t\t\t<v-combobox\r\n\t\t\t\t\t\t\t\tv-model=\"requestType\"\r\n\t\t\t\t\t\t\t\t:items=\"requestTypes\"\r\n\t\t\t\t\t\t\t\titem-text=\"requestTypeName\"\r\n\t\t\t\t\t\t\t\t:item-value=\"\r\n\t\t\t\t\t\t\t\t\t(itemrequestType) => itemrequestType\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\tbackground-color=\"#fff\"\r\n\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t@change=\"handleRequestTypes($event)\"\r\n\t\t\t\t\t\t\t\t@click:clear=\"clearForm()\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\tv-slot:selection=\"{\r\n\t\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\tparent,\r\n\t\t\t\t\t\t\t\t\t\tselected,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"item === Object(item)\"\r\n\t\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t\t:input-value=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\t\tclass=\"ma-2 rounded-pill\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"red--text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.requestTypeName,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"parent.selectItem(item)\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</v-combobox>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t\t<!-- <v-row class=\"mt-4\" v-if=\"request\">\r\n\t\t\t\t\t\t<v-col cols=\"12\" md=\"12\" class=\"px-10\">\r\n\t\t\t\t\t\t\t<label> Biểu mẫu liên quan : </label>\r\n\t\t\t\t\t\t\t<v-file-input> </v-file-input>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row> -->\r\n\t\t\t\t</v-card>\r\n\t\t\t\t<v-form ref=\"form\" v-model=\"valid\">\r\n\t\t\t\t\t<v-card\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tclass=\"grey lighten-4 p-2\"\r\n\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\tcolor=\"#C2C2C2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-row\r\n\t\t\t\t\t\t\tv-for=\"(row, rowIndex) in form\"\r\n\t\t\t\t\t\t\t:key=\"'row_' + rowIndex\"\r\n\t\t\t\t\t\t\tclass=\"form-row\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\t\t\tv-for=\"(col, colIndex) in row.elements\"\r\n\t\t\t\t\t\t\t\t:key=\"'col_' + rowIndex + '_' + colIndex\"\r\n\t\t\t\t\t\t\t\t:cols=\"col.width\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-card\r\n\t\t\t\t\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"m-1 p-2 rounded col-12\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<v-card-text\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcol.field &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tcol.field.previewSchema\r\n\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-jsf\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"col.field.previewModel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:schema=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field.previewSchema\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:options=\"options\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'col_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-data-table\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field.name ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Trường bảng'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:items=\"selected\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:headers=\"headers\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:items-per-page=\"5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"elevation-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmulti-sort\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:[`item.action`]=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditItem(item)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-pencil\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteItem(item)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:top>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"item of rowToAdd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.type ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditedItem[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:type=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyup=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlog()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-dialog>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-slot:activator=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-bind=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattrs\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcreateTable()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNew row\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <v-file-input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequestData.status &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequestData.status\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id == '2' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field.name ==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Trường tải lên file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@change=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleFileUpload(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$event,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ts_file[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.fileName &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!s_file[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol.field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.attachmentInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.fileName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.attachment_file\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext-red\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label.star\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</v-file-input> -->\r\n\t\t\t\t\t\t\t\t\t\t\t</v-jsf>\r\n\t\t\t\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-form>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col md=\"4\">\r\n\t\t\t\t<v-card>\r\n\t\t\t\t\t<v-card-title>\r\n\t\t\t\t\t\t<h4>Thông tin chung</h4>\r\n\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t<!-- <v-card-text>\r\n\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Số kí hiệu\"\r\n\t\t\t\t\t\t\t\tv-model=\"requestData.id\"\r\n\t\t\t\t\t\t\t\t>{{\r\n\t\t\t\t\t\t\t}}</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Trạng thái\"\r\n\t\t\t\t\t\t\t\tv-model=\"requestData.status.statusName\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Nhóm phiếu yêu cầu\"\r\n\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\trequestData.request.requestGroup\r\n\t\t\t\t\t\t\t\t\t\t.requestGroupName\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Loại phiếu yêu cầu\"\r\n\t\t\t\t\t\t\t\tv-model=\"\r\n\t\t\t\t\t\t\t\t\trequestData.request.requestType\r\n\t\t\t\t\t\t\t\t\t\t.requestTypeName\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Người tạo\"\r\n\t\t\t\t\t\t\t\tv-model=\"requestData.created.fullName\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" v-if=\"requestData\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\tlabel=\"Ngày tạo\"\r\n\t\t\t\t\t\t\t\tv-model=\"requestData.createdDate\"\r\n\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-card-text> -->\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title> Biểu mẫu liên quan : </v-card-title>\r\n\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-for=\"(\r\n\t\t\t\t\t\t\t\tattachment, index\r\n\t\t\t\t\t\t\t) of listAttachmentFlieByRequest\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\tclass=\"ma-2 border-0\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tcolor=\"indigo\"\r\n\t\t\t\t\t\t\t\t@click=\"openViewAttachmentFile()\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ attachment.fileName | formatName }}\r\n\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title> Phiếu yêu cầu liên quan : </v-card-title>\r\n\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tv-for=\"(attachment, index) of listAttachmentFile\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\t\t\tclass=\"ma-2 border-0\"\r\n\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\tcolor=\"indigo\"\r\n\t\t\t\t\t\t\t\t@click=\"openViewAttachmentFile()\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ attachment.fileName }}\r\n\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t<v-card-title>Chia sẻ với</v-card-title>\r\n\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t<v-combobox\r\n\t\t\t\t\t\t\tv-model=\"listUserInfo\"\r\n\t\t\t\t\t\t\t:items=\"listUserInfos\"\r\n\t\t\t\t\t\t\titem-text=\"fullName\"\r\n\t\t\t\t\t\t\tchips\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\thide-selected\r\n\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template\r\n\t\t\t\t\t\t\t\tv-slot:selection=\"{\r\n\t\t\t\t\t\t\t\t\tattrs,\r\n\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\tparent,\r\n\t\t\t\t\t\t\t\t\tselected,\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\t\t\t\tv-if=\"item === Object(item)\"\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\t:input-value=\"selected\"\r\n\t\t\t\t\t\t\t\t\tlabel\r\n\t\t\t\t\t\t\t\t\tclass=\"ma-2\"\r\n\t\t\t\t\t\t\t\t\tclose\r\n\t\t\t\t\t\t\t\t\t@click:close=\"remove(item)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<v-avatar color=\"indigo mr-2\" size=\"30\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"white--text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetAvatarText(item.fullName, 2)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t\t\t<span class=\"pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t{{ item.fullName }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\t\tsmall\r\n\t\t\t\t\t\t\t\t\t\t@click=\"parent.selectItem(item)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</v-combobox>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport \"@koumoul/vjsf/lib/VJsf.css\";\r\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\r\nimport VJsf from \"@koumoul/vjsf/lib/VJsf\";\r\nimport globalService from \"@/services/global.service\";\r\nimport administratorAPI from \"../../administrator/administrator.api\";\r\nimport RequestFormDataDto from \"@/models/form-data.dto\";\r\nimport ProcessDataDTO from \"@/models/process-data.dto\";\r\nimport RequestDataDto from \"@/models/request-data.dto\";\r\nimport StepDataDto from \"@/models/step-data.dto\";\r\nexport default {\r\n\tname: \"VSMFECreateRequestFormV2\",\r\n\tprops: { m_requestDataV2: {}, isSaved: {}, _idStepData: {} },\r\n\tcomponents: {\r\n\t\tVJsf,\r\n\t},\r\n\twatch: {\r\n\t\tasync m_requestDataV2(newValue) {\r\n\t\t\tthis.request = newValue;\r\n\t\t},\r\n\t\t// async requestDataDto(newValue) {\r\n\t\t// \tthis.requestData = newValue;\r\n\t\t// \t//await this.FormData();\r\n\t\t// \tawait this.getFieldData();\r\n\t\t// \tawait this.getAttachmentFile();\r\n\t\t// \tthis.number = this.headers.length;\r\n\t\t// \t//await this.getStepData();\r\n\t\t// \tfor (let i = 0; i < this.form.length; i++) {\r\n\t\t// \t\tthis.file.push([]);\r\n\t\t// \t\tfor (let j = 0; j < 3; j++) {\r\n\t\t// \t\t\tthis.file[i].push({});\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// },\r\n\t\t// requestStepDataList(value) {\r\n\t\t// \tthis.m_requestStepDataList = value;\r\n\t\t// },\r\n\t\t// async isSaved(value) {\r\n\t\t// \tthis.m_isSaved = value;\r\n\t\t// \tif (this.m_isSaved.state) {\r\n\t\t// \t\tif (this.requestData.status.id == \"1\") {\r\n\t\t// \t\t\tawait this.UpLoadFile();\r\n\t\t// \t\t}\r\n\t\t// \t\tawait this.save();\r\n\t\t// \t}\r\n\t\t// },\r\n\t\tasync isSaved(value) {\r\n\t\t\tthis.m_isSaved = value;\r\n\t\t\tif (this.m_isSaved.state === 1) {\r\n\t\t\t\tawait this.saveRequetsData();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync _idStepData(value) {\r\n\t\t\tthis.idStepData = value;\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuser_info: this.getUserInfo(),\r\n\r\n\t\t\tprocessDataDTO: ProcessDataDTO,\r\n\t\t\tm_requestDto: RequestDataDto,\r\n\r\n\t\t\trequest: null,\r\n\t\t\trequestGroup: null,\r\n\t\t\trequestGroups: [],\r\n\t\t\trequestTypes: [],\r\n\t\t\trequestType: null,\r\n\t\t\trequestData: null,\r\n\t\t\tformData: null,\r\n\t\t\toptions: {\r\n\t\t\t\tfieldProps: {\r\n\t\t\t\t\toutlined: \"outlined\",\r\n\t\t\t\t\tdense: \"dense\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tform: [],\r\n\t\t\trequestFormDataDto: RequestFormDataDto,\r\n\t\t\tfieldData: null,\r\n\t\t\tsteepData: null,\r\n\t\t\tm_requestStepDataList: [],\r\n\t\t\tdirection: \"top\",\r\n\t\t\tfabs: false,\r\n\t\t\tfab: false,\r\n\t\t\tfling: false,\r\n\t\t\thover: false,\r\n\t\t\ttabs: null,\r\n\t\t\ttop: false,\r\n\t\t\tselected: [],\r\n\t\t\tright: false,\r\n\t\t\tdialog: {\r\n\t\t\t\tedit: false,\r\n\t\t\t\tdelete: false,\r\n\t\t\t},\r\n\t\t\tbottom: true,\r\n\t\t\tleft: true,\r\n\t\t\ttransition: \"slide-y\",\r\n\t\t\teditRefuseRequestForm: false,\r\n\t\t\topenApproveRequestForm: false,\r\n\t\t\topenExaminRequestForm2: false,\r\n\t\t\teditModifyRequestForm: false,\r\n\t\t\teditRequestModifyRequestForm: false,\r\n\t\t\teditRequestExamineRequestForm: false,\r\n\t\t\teditViewAttachmentFile: false,\r\n\t\t\tlistAttachmentFile: [],\r\n\t\t\tlistAttachmentFlieByRequest: [],\r\n\r\n\t\t\tlistUserInfos: [],\r\n\t\t\tvalid: null,\r\n\t\t\t\"x-options\": {\r\n\t\t\t\tmessages: {\r\n\t\t\t\t\tpattern: \"Sai định dạng\",\r\n\t\t\t\t\trequired: \"Đây là trường bắt buộc.\",\r\n\t\t\t\t\tmaxLength: \"Lớn hơn maxLength\",\r\n\t\t\t\t\tminLength: \"Nhỏ hơn minLength\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\tstatus: {},\r\n\t\t\tm_isSaved: {},\r\n\t\t\tidStepData: {},\r\n\t\t\theaders: [],\r\n\t\t\tnumber: null,\r\n\t\t\teditIndex: 0,\r\n\t\t\trowToAdd: [],\r\n\t\t\teditedItem: {},\r\n\t\t\tdefaultItem: {},\r\n\t\t\tupFile: [],\r\n\t\t\tfile: [],\r\n\t\t\ts_file: [],\r\n\t\t\tfieldInForm: null,\r\n\t\t\tstepInProcess: null,\r\n\t\t\tlistUserInfo: [],\r\n\t\t\trequestStepData: StepDataDto,\r\n\t\t};\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.idStepData = this._idStepData;\r\n\t\tthis.m_isSaved = this.isSaved;\r\n\t\t// this.requestData = this.requestDataDto;\r\n\t\t// this.m_requestStepDataList = this.requestStepDataList;\r\n\t\t//this.getFieldData();\r\n\t},\r\n\tmounted() {\r\n\t\t// this.requestData = this.requestDataDto;\r\n\t\tthis.initialize();\r\n\t},\r\n\r\n\tfilters: {\r\n\t\tformatName: function (val) {\r\n\t\t\tconsole.log(\"formatName: val: \", val);\r\n\t\t\tif (val.length > 40) {\r\n\t\t\t\treturn val.substring(0, 38) + \"...\";\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t},\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync initialize() {\r\n\t\t\tawait this._requestGroups();\r\n\r\n\t\t\t//await this._request();\r\n\t\t\tawait this.GetAllUser();\r\n\t\t},\r\n\t\tasync handleRequestTypes(event) {\r\n\t\t\tthis.requestType = event;\r\n\t\t\tif (this.requestType === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.requestType.id && this.requestGroup.id) {\r\n\t\t\t\tawait this._request();\r\n\t\t\t\tawait this.getStepInProcesses();\r\n\t\t\t\tawait this.getFieldInForm();\r\n\t\t\t\tawait this.getForm();\r\n\r\n\t\t\t\tawait this.getAttachmentFileRequest();\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t},\r\n\t\tasync handleRequestGroup(event) {\r\n\t\t\tthis.requestGroup = event;\r\n\t\t\tif (this.requestGroup === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tawait this._requestTypes();\r\n\t\t},\r\n\t\thandleFileUpload(event, row, colunm) {\r\n\t\t\tthis.file[row][colunm] = event;\r\n\t\t\tif (this.file[row][colunm]) {\r\n\t\t\t\tthis.errorMessageFile = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync FormData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetFormDataById(this.requestData.id),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet requests = response.data;\r\n\t\t\t\tif (requests.length > 0) {\r\n\t\t\t\t\tthis.formData = requests[0];\r\n\r\n\t\t\t\t\tthis.form = JSON.parse(this.formData.objectSchema);\r\n\t\t\t\t\tfor (const form_row of this.form) {\r\n\t\t\t\t\t\tfor (const form_col of form_row.elements) {\r\n\t\t\t\t\t\t\tif (form_col.field.name == \"Trường bảng\") {\r\n\t\t\t\t\t\t\t\tthis.headers = JSON.parse(\r\n\t\t\t\t\t\t\t\t\tform_col.field.configSchema.properties\r\n\t\t\t\t\t\t\t\t\t\t.Headers,\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.form = this.form.map((ele) => {\r\n\t\t\t\t\t\tif (ele.elements) {\r\n\t\t\t\t\t\t\tele.elements = ele.elements.map((ele1) => {\r\n\t\t\t\t\t\t\t\tif (ele1.field.configModel.is_required)\r\n\t\t\t\t\t\t\t\t\tele1.field.previewSchema.required =\r\n\t\t\t\t\t\t\t\t\t\tthis.spreadObjectToArray(\r\n\t\t\t\t\t\t\t\t\t\t\tele1.field.previewSchema.properties,\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title.readOnly = false;\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title[\r\n\t\t\t\t\t\t\t\t\t\"x-options\"\r\n\t\t\t\t\t\t\t\t] = { ...this[\"x-options\"] };\r\n\r\n\t\t\t\t\t\t\t\tele1.field.previewSchema.properties.title = {\r\n\t\t\t\t\t\t\t\t\t...ele1.field.previewSchema.properties\r\n\t\t\t\t\t\t\t\t\t\t.title,\r\n\t\t\t\t\t\t\t\t\t...ele1.field.configModel,\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\treturn ele1;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn ele;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.objectToAdd();\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tobjectToAdd() {\r\n\t\t\tthis.editIndex = 0;\r\n\t\t\tfor (const head of this.headers) {\r\n\t\t\t\tthis.rowToAdd.push(head);\r\n\t\t\t}\r\n\t\t\tthis.headers.push({\r\n\t\t\t\ttext: \"Thao tác\",\r\n\t\t\t\tvalue: \"action\",\r\n\t\t\t\tsortable: false,\r\n\t\t\t});\r\n\t\t\tfor (const row of this.rowToAdd) {\r\n\t\t\t\t// this.editedItem[\"id\"] = 0;\r\n\t\t\t\tthis.editedItem[row.value] = \"\";\r\n\t\t\t}\r\n\t\t\tthis.defaultItem = this.editedItem;\r\n\t\t},\r\n\t\tspreadObjectToArray(targetObject) {\r\n\t\t\tlet result = [];\r\n\t\t\tfor (let field in targetObject) {\r\n\t\t\t\tresult.push(field);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\tasync getFieldData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetFieldDataByIdRequest(\r\n\t\t\t\t\t\tthis.requestData.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet requests = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tif (requests.length > 0) {\r\n\t\t\t\t\tthis.fieldData = requests[0];\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getStepData() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetSteepDataByIdRequest(\r\n\t\t\t\t\t\tthis.requestData.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\tlet requests = response.data.sort((e1, e2) => {\r\n\t\t\t\t\treturn e1 - e2;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.steepData = requests;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\topenExit() {\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath: `/phieu-yeu-cau/danh-sach`,\r\n\t\t\t});\r\n\t\t},\r\n\t\topenEditRequestType() {\r\n\t\t\tthis.editRefuseRequestForm = true;\r\n\t\t},\r\n\t\tOpenApproveRequestForm() {\r\n\t\t\tthis.openApproveRequestForm = true;\r\n\t\t},\r\n\t\topenExaminRequestForm() {\r\n\t\t\tthis.openExaminRequestForm2 = true;\r\n\t\t},\r\n\t\topenModifyRequestForm() {\r\n\t\t\tthis.editModifyRequestForm = true;\r\n\t\t},\r\n\t\topenRequestModifyRequestForm() {\r\n\t\t\tthis.editRequestModifyRequestForm = true;\r\n\t\t},\r\n\t\topenRequestExamineRequestForm() {\r\n\t\t\tthis.editRequestExamineRequestForm = true;\r\n\t\t},\r\n\t\topenViewAttachmentFile() {\r\n\t\t\tthis.editViewAttachmentFile = true;\r\n\t\t},\r\n\t\tonClose(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.editRefuseRequestForm = false;\r\n\t\t\t\tthis.openApproveRequestForm = false;\r\n\t\t\t\tthis.openExaminRequestForm2 = false;\r\n\t\t\t\tthis.editModifyRequestForm = false;\r\n\t\t\t\tthis.editRequestModifyRequestForm = false;\r\n\t\t\t\tthis.editRequestExamineRequestForm = false;\r\n\t\t\t\tthis.editViewAttachmentFile = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAttachmentFile() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllAttachmentFileByRequestDataId(\r\n\t\t\t\t\t\tthis.requestData.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.listAttachmentFile = response.data[0];\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync GetAllUser() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllUserInfos(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.listUserInfos = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete && entry.isActive;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync GetStepData() {\r\n\t\t\tlet tempOrderMin = Math.min(\r\n\t\t\t\t...this.m_requestStepDataList.map((e) => e.stepOrder),\r\n\t\t\t);\r\n\t\t\tfor (let stepData of this.m_requestStepDataList) {\r\n\t\t\t\tif (stepData.stepOrder == tempOrderMin) {\r\n\t\t\t\t\tstepData.isActive = true;\r\n\t\t\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_UpDateStepData(stepData.id),\r\n\t\t\t\t\t\tstepData,\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateTable() {\r\n\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t// this.editedItem[\"id\"] = this.selected.length + 1;\r\n\t\t\tthis.selected.push(Object.assign({}, this.editedItem));\r\n\t\t\tthis.editItem(this.selected[this.selected.length - 1]);\r\n\t\t},\r\n\t\tremove(item) {\r\n\t\t\tthis.requestData.splice(this.requestData.indexOf(item), 1);\r\n\t\t},\r\n\t\teditItem(item) {\r\n\t\t\tthis.editIndex = this.selected.indexOf(item);\r\n\t\t\tthis.editedItem = this.selected[this.editIndex];\r\n\t\t},\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.selected.splice(this.selected.indexOf(item), 1);\r\n\t\t\t// this.dialog.delete = true;\r\n\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t},\r\n\t\tonConfirmDelete() {},\r\n\t\tonCloseDialog() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\t\tlog() {\r\n\t\t\tthis.selected[this.editIndex] = Object.assign({}, this.editedItem);\r\n\t\t},\r\n\t\tasync UpLoadFile2() {\r\n\t\t\tfor (let i = 0; i < this.form.length; i++) {\r\n\t\t\t\tfor (let j = 0; j < 3; j++) {\r\n\t\t\t\t\tif (this.file[i][j] && this.file[i][j].type) {\r\n\t\t\t\t\t\tlet response = await globalService.uploadData_Async(\r\n\t\t\t\t\t\t\tadministratorAPI.API_UploadFile(),\r\n\t\t\t\t\t\t\tthis.file[i][j],\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisFolder: 0,\r\n\t\t\t\t\t\t\t\tneedEncrypt: true,\r\n\t\t\t\t\t\t\t\tcontentType: this.file[i][j].type,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (!response) {\r\n\t\t\t\t\t\t\treturn this.toastError(\r\n\t\t\t\t\t\t\t\tthis.$t(\"error.upload_file\"),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!response.state) {\r\n\t\t\t\t\t\t\treturn this.toastError(response.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.form[i].elements[j].field.attachmentInfo =\r\n\t\t\t\t\t\t\tresponse.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync UpLoadFile() {\r\n\t\t\tlet listUpload = [];\r\n\t\t\tthis.form.forEach((entry) => {\r\n\t\t\t\tentry.elements.forEach((entry1) => {\r\n\t\t\t\t\tif (entry1.field.previewModel.title?.data)\r\n\t\t\t\t\t\tlistUpload.push(entry1);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tfor (let entry of listUpload) {\r\n\t\t\t\tlet response = await globalService.uploadData_Async(\r\n\t\t\t\t\tadministratorAPI.API_UploadFile(),\r\n\t\t\t\t\tentry.field.previewModel.title?.data,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisFolder: 0,\r\n\t\t\t\t\t\tneedEncrypt: true,\r\n\t\t\t\t\t\tcontentType: entry.field.previewModel.title?.type,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"error.upload_file\"));\r\n\t\t\t\t}\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\treturn this.toastError(response.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet attachmentFileCreater = response.data;\r\n\t\t\t\tthis.upFile = attachmentFileCreater;\r\n\t\t\t\tentry.field.attachmentInfo = attachmentFileCreater;\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"entry.field.attachmentInfo\",\r\n\t\t\t\t\tentry.field.attachmentInfo,\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// attachmentFileCreater.created = this.getUserInfo();\r\n\t\t\t\t// attachmentFileCreater.requestData = {\r\n\t\t\t\t// \tid: this.requestData.id,\r\n\t\t\t\t// };\r\n\t\t\t\t// try {\r\n\t\t\t\t// \tlet response = await globalService.putData_Async(\r\n\t\t\t\t// \t\tadministratorAPI.API_UpdateAttachmentFile(\r\n\t\t\t\t// \t\t\tattachmentFileCreater.id,\r\n\t\t\t\t// \t\t),\r\n\t\t\t\t// \t\tattachmentFileCreater,\r\n\t\t\t\t// \t);\r\n\t\t\t\t// \tif (!response || !response.state) {\r\n\t\t\t\t// \t\treturn;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// } catch (error) {\r\n\t\t\t\t// \tthis.toastError(error);\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updateAttachmentFile(attachmentFileDto) {\r\n\t\t\tattachmentFileDto.created = this.getUserInfo();\r\n\t\t\tattachmentFileDto = this.getUserInfo();\r\n\t\t\tattachmentFileDto = new Date();\r\n\t\t\tattachmentFileDto.requestData = { id: this.requestData.id };\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\tadministratorAPI.API_UpdateAttachmentFile(\r\n\t\t\t\t\t\tattachmentFileDto.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t\tattachmentFileDto,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync _requestGroups() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRequestGroup(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.requestGroups = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync _requestTypes() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRequestTypeByRequestGroupId(\r\n\t\t\t\t\t\tthis.requestGroup.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.requestTypes = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync _request() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindOneRequesrtByID(\r\n\t\t\t\t\t\tthis.requestType.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn this.toastError(this.$t(\"error.load\"));\r\n\t\t\t\t}\r\n\t\t\t\tlet requests;\r\n\t\t\t\trequests = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tif (requests.length > 0) {\r\n\t\t\t\t\tthis.request = requests[0];\r\n\t\t\t\t\tconsole.log(\"this.request \", this.request);\r\n\t\t\t\t\tthis.$emit(\"save\", this.request);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getStepInProcesses() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindStepInProcessesByID(\r\n\t\t\t\t\t\tthis.request.processInfo.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.stepInProcess = response.data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getFieldInForm() {\r\n\t\t\tlet response;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindFieldInForm(this.request.form.id),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet requests = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tif (requests.length > 0) {\r\n\t\t\t\t\tthis.fieldInForm = requests[0];\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"this.fieldInForm\", this.fieldInForm);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getForm() {\r\n\t\t\tconsole.log(\"11111111\");\r\n\t\t\tthis.formData = this.request.form;\r\n\t\t\tconsole.log(\"this.request.form\", this.request.form);\r\n\r\n\t\t\tthis.form = JSON.parse(this.formData.objectSchema);\r\n\t\t\tfor (const form_row of this.form) {\r\n\t\t\t\tfor (const form_col of form_row.elements) {\r\n\t\t\t\t\tif (form_col.field.name == \"Trường bảng\") {\r\n\t\t\t\t\t\tthis.headers = JSON.parse(\r\n\t\t\t\t\t\t\tform_col.field.configSchema.properties.Headers,\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(\"2222\");\r\n\r\n\t\t\tthis.form = this.form.map((ele) => {\r\n\t\t\t\tif (ele.elements) {\r\n\t\t\t\t\tele.elements = ele.elements.map((ele1) => {\r\n\t\t\t\t\t\tif (ele1.field.configModel.is_required)\r\n\t\t\t\t\t\t\tele1.field.previewSchema.required =\r\n\t\t\t\t\t\t\t\tthis.spreadObjectToArray(\r\n\t\t\t\t\t\t\t\t\tele1.field.previewSchema.properties,\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\tele1.field.previewSchema.properties.title.readOnly = false;\r\n\t\t\t\t\t\tele1.field.previewSchema.properties.title[\"x-options\"] =\r\n\t\t\t\t\t\t\t{ ...this[\"x-options\"] };\r\n\r\n\t\t\t\t\t\tele1.field.previewSchema.properties.title = {\r\n\t\t\t\t\t\t\t...ele1.field.previewSchema.properties.title,\r\n\t\t\t\t\t\t\t...ele1.field.configModel,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\treturn ele1;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn ele;\r\n\t\t\t});\r\n\t\t\tconsole.log(\"this.form\", this.form);\r\n\t\t\tthis.objectToAdd();\r\n\t\t},\r\n\t\tasync getAttachmentFileRequest() {\r\n\t\t\tfor (let templateForm of this.request.templateForms) {\r\n\t\t\t\tlet response;\r\n\r\n\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllAttachmentFileByTemplateFormId(\r\n\t\t\t\t\t\ttemplateForm.id,\r\n\t\t\t\t\t),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.listAttachmentFlieByRequest.push(...response.data);\r\n\t\t\t}\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"this.request.listAttachmentFlieByRequest\",\r\n\t\t\t\tthis.listAttachmentFlieByRequest,\r\n\t\t\t);\r\n\t\t},\r\n\t\tclearRequestGroup() {\r\n\t\t\tthis.requestType = null;\r\n\t\t\tthis.form = null;\r\n\t\t\tthis.requestTypes = [];\r\n\t\t\tthis.request = null;\r\n\t\t},\r\n\t\tclearForm() {\r\n\t\t\tthis.form = null;\r\n\t\t\tthis.request = null;\r\n\t\t},\r\n\t\tasync saveRequetsData() {\r\n\t\t\tawait this.UpLoadFile();\r\n\t\t\tif (!this.request) return;\r\n\r\n\t\t\tlet response;\r\n\t\t\tif (this.isSaving) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.m_requestDto.modified = { id: this.user_info.id };\r\n\t\t\tthis.m_requestDto.modifiedName = new Date();\r\n\t\t\tthis.m_requestDto.requestDataName = this.request.requestName;\r\n\t\t\tthis.m_requestDto.requestDataCode = this.request.requestCode;\r\n\t\t\tthis.m_requestDto.request = { id: this.request.id };\r\n\r\n\t\t\ttry {\r\n\t\t\t\tthis.m_requestDto.created = this.user_info;\r\n\t\t\t\tthis.m_requestDto.createdName = this.user_info.fullName;\r\n\t\t\t\tthis.m_requestDto.createdDate = new Date();\r\n\t\t\t\tthis.m_requestDto.statusName = \"Khởi tạo\";\r\n\t\t\t\tthis.m_requestDto.status = { id: 1 };\r\n\t\t\t\tthis.m_requestDto.userInfos = this.listUserInfo;\r\n\t\t\t\tthis.m_requestDto.requestGroupCode =\r\n\t\t\t\t\tthis.request.requestGroup.requestGroupCode;\r\n\t\t\t\tthis.m_requestDto.requestGroupName =\r\n\t\t\t\t\tthis.request.requestGroup.requestGroupName;\r\n\t\t\t\tthis.m_requestDto.rrequestTypeCode =\r\n\t\t\t\t\tthis.request.requestType.requestTypeCode;\r\n\t\t\t\tthis.m_requestDto.requestTypeName =\r\n\t\t\t\t\tthis.request.requestType.requestTypeName;\r\n\r\n\t\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_CreateRequestData(),\r\n\t\t\t\t\tthis.m_requestDto,\r\n\t\t\t\t);\r\n\t\t\t\tconsole.log(\"this.request\", response);\r\n\r\n\t\t\t\tif (!response || !response.state)\r\n\t\t\t\t\treturn (this.isSaving = false);\r\n\r\n\t\t\t\tthis.requestData = response;\r\n\r\n\t\t\t\tawait this.saveProcessData();\r\n\t\t\t\tif (!this.processData) return (this.isSaving = false);\r\n\r\n\t\t\t\tawait this.saveFormData();\r\n\t\t\t\tthis.m_isSaved.state = 2;\r\n\t\t\t\tthis.m_isSaved.idRequestData = this.requestData.data.id;\r\n\t\t\t\tthis.m_isSaved.idProcessData = this.processData.id;\r\n\t\t\t\tconsole.log(\"1111\");\r\n\t\t\t\tconsole.log(\"this.idStepData\", this.idStepData);\r\n\r\n\t\t\t\tthis.$emit(\"save2\", Object.assign({}, this.m_isSaved));\r\n\t\t\t\tif (this.idStepData == 0) {\r\n\t\t\t\t\tconsole.log(\"vao idStepData\");\r\n\t\t\t\t\tawait this.getUserInStep();\r\n\t\t\t\t\tawait this.saveStepData();\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"message.add_success\"));\r\n\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: `/phieu-yeu-cau`,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync saveProcessData() {\r\n\t\t\tlet response;\r\n\t\t\tthis.processDataDTO.created = {\r\n\t\t\t\tid: this.request.processInfo.created.id,\r\n\t\t\t};\r\n\t\t\tthis.processDataDTO.createdDate =\r\n\t\t\t\tthis.request.processInfo.createdDate;\r\n\t\t\tthis.processDataDTO.isActive = this.request.processInfo.isActive;\r\n\t\t\tthis.processDataDTO.isDelete = this.request.processInfo.isDelete;\r\n\t\t\tthis.processDataDTO.modified = {\r\n\t\t\t\tid: this.request.processInfo.modified.id,\r\n\t\t\t};\r\n\t\t\tthis.processDataDTO.modifiedDate =\r\n\t\t\t\tthis.request.processInfo.modifiedDate;\r\n\t\t\tthis.processDataDTO.modifiedName =\r\n\t\t\t\tthis.request.processInfo.modifiedName;\r\n\t\t\tthis.processDataDTO.processCode =\r\n\t\t\t\tthis.request.processInfo.processCode;\r\n\t\t\tthis.processDataDTO.processName =\r\n\t\t\t\tthis.request.processInfo.processName;\r\n\r\n\t\t\tthis.processDataDTO.requestData = { id: this.requestData.data.id };\r\n\r\n\t\t\tresponse = await globalService.postData_Async(\r\n\t\t\t\tadministratorAPI.API_CreateProcessData(),\r\n\t\t\t\tthis.processDataDTO,\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) {\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.processData = response.data;\r\n\t\t\tconsole.log(\"this.processData\", this.processData);\r\n\t\t},\r\n\t\tasync saveFormData() {\r\n\t\t\tthis.formData[\"objectSchema\"] = JSON.stringify(this.form);\r\n\t\t\tthis.requestFormDataDto = this.formData;\r\n\t\t\tthis.requestFormDataDto.id = null;\r\n\t\t\t// this.requestFormDataDto.option = this.form.option;\r\n\t\t\t// this.requestFormDataDto.formDataCode = this.form.formDataCode;\r\n\t\t\t// this.requestFormDataDto.formDateName = this.form.formDateName;\r\n\t\t\t// this.requestFormDataDto.objectSchema = this.form.objectSchema;\r\n\t\t\t// this.requestFormDataDto.objectModel = this.form.objectModel;\r\n\t\t\t// this.requestFormDataDto.createdName = this.form.createdName;\r\n\t\t\t// this.requestFormDataDto.createdDate = this.form.createdDate;\r\n\t\t\t// this.requestFormDataDto.modifiedName = this.form.modifiedName;\r\n\t\t\t// this.requestFormDataDto.modifiedDate = this.form.modifiedDate;\r\n\t\t\t// this.requestFormDataDto.isActive = this.form.isActive;\r\n\t\t\t// this.requestFormDataDto.isDelete = this.form.isDelete;\r\n\t\t\t// this.requestFormDataDto.tennantCode = this.form.tennantCode;\r\n\t\t\t// this.requestFormDataDto.tennantName = this.form.tennantName;\r\n\t\t\t// this.requestFormDataDto.created = {\r\n\t\t\t// \tid: this.form.created.id,\r\n\t\t\t// };\r\n\t\t\t// this.requestFormDataDto.modified = {\r\n\t\t\t// \tid: this.form.modified.id,\r\n\t\t\t// };\r\n\r\n\t\t\tthis.requestFormDataDto.requestData = {\r\n\t\t\t\tid: this.requestData.data.id,\r\n\t\t\t};\r\n\t\t\t// this.requestFormDataDto.form = this.request.form;\r\n\r\n\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\tadministratorAPI.API_CreateFormData(),\r\n\t\t\t\tthis.requestFormDataDto,\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) {\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"requestFormDataDto\", response);\r\n\t\t},\r\n\t\tasync saveStepData() {\r\n\t\t\tconsole.log(\"this.stepInProcess\", this.stepInProcess);\r\n\t\t\tfor (let stepInProces of this.stepInProcess) {\r\n\t\t\t\tconsole.log(\"sâsâsááá\");\r\n\t\t\t\tthis.requestStepData.isActive = false;\r\n\t\t\t\tconsole.log(\"222\");\r\n\t\t\t\tthis.requestStepData.created = { id: this.user_info.id };\r\n\t\t\t\tthis.requestStepData.step = { id: stepInProces.step.id };\r\n\r\n\t\t\t\tthis.requestStepData.processData = {\r\n\t\t\t\t\tid: this.processData.id,\r\n\t\t\t\t};\r\n\t\t\t\tthis.requestStepData.requestData = {\r\n\t\t\t\t\tid: this.requestData.data.id,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.requestStepData.stepInProcess = { id: stepInProces.id };\r\n\t\t\t\t// this.requestStepData = [...stepInProces];\r\n\t\t\t\tthis.requestStepData.stepOrder = stepInProces.stepOrder;\r\n\t\t\t\tthis.requestStepData.stepDataCode =\r\n\t\t\t\t\tstepInProces.stepInProcessCode;\r\n\t\t\t\tthis.requestStepData.stepDataName =\r\n\t\t\t\t\tstepInProces.stepInProcessName;\r\n\t\t\t\tthis.requestStepData.processingTerm =\r\n\t\t\t\t\tstepInProces.processingTerm;\r\n\t\t\t\tthis.requestStepData.precessingTermTime =\r\n\t\t\t\t\tstepInProces.precessingTermTime;\r\n\t\t\t\tthis.requestStepData.isRequiredSignature =\r\n\t\t\t\t\tstepInProces.isRequiredSignature;\r\n\t\t\t\tthis.requestStepData.isBack = stepInProces.isBack;\r\n\t\t\t\tthis.requestStepData.isAuthorizedApproval =\r\n\t\t\t\t\tstepInProces.isAuthorizedApproval;\r\n\t\t\t\tthis.requestStepData.isExamine = stepInProces.isExamine;\r\n\t\t\t\tthis.requestStepData.isEdit = stepInProces.isEdit;\r\n\t\t\t\tthis.requestStepData.isRequestModify =\r\n\t\t\t\t\tstepInProces.isRequestModify;\r\n\t\t\t\tthis.requestStepData.isSendMail = stepInProces.isSendMail;\r\n\t\t\t\tthis.requestStepData.isProcessRecover =\r\n\t\t\t\t\tstepInProces.isProcessRecover;\r\n\t\t\t\tthis.requestStepData.isCreateTfsTask =\r\n\t\t\t\t\tstepInProces.isCreateTfsTask;\r\n\t\t\t\tthis.requestStepData.organizationCode =\r\n\t\t\t\t\tstepInProces.organization.organizationCode;\r\n\t\t\t\tthis.requestStepData.organizationName =\r\n\t\t\t\t\tstepInProces.organization.organizationName;\r\n\t\t\t\tthis.requestStepData.rankCode = stepInProces.rankCode;\r\n\t\t\t\tthis.requestStepData.rankName = stepInProces.rankName;\r\n\t\t\t\tthis.requestStepData.description = stepInProces.description;\r\n\t\t\t\tthis.requestStepData.createdName = stepInProces.createdName;\r\n\t\t\t\tthis.requestStepData.createdDate = stepInProces.createdDate;\r\n\t\t\t\tthis.requestStepData.modifiedName = stepInProces.modifiedName;\r\n\r\n\t\t\t\tthis.requestStepData.isDelete = stepInProces.isDelete;\r\n\t\t\t\tthis.requestStepData.tennantCode = stepInProces.tennantCode;\r\n\t\t\t\tthis.requestStepData.tennantName = stepInProces.tennantName;\r\n\r\n\t\t\t\tthis.requestStepData.modifiedDate = stepInProces.modifiedDate;\r\n\r\n\t\t\t\tthis.requestStepData.modified = {\r\n\t\t\t\t\tid: stepInProces.modified.id,\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\"33\");\r\n\r\n\t\t\t\tthis.requestStepData.userInfos =\r\n\t\t\t\t\tstepInProces.userInStepDTOs.map((entry) => {\r\n\t\t\t\t\t\treturn { id: entry.userInfo.id };\r\n\t\t\t\t\t});\r\n\t\t\t\tconsole.log(\"44\");\r\n\r\n\t\t\t\t// let user = await this.getUserInStep(stepInProces.id);\r\n\t\t\t\t// let responseUser = await globalService.getData_Async(\r\n\t\t\t\t// \tadministratorAPI.API_GetAllByStepInProcessId(\r\n\t\t\t\t// \t\tstepInProces.id,\r\n\t\t\t\t// \t),\r\n\t\t\t\t// );\r\n\t\t\t\t// if (!responseUser || !responseUser.state) {\r\n\t\t\t\t// \tthis.toastError(responseUser.messgage);\r\n\t\t\t\t// \treturn (this.requestStepData.userInfos = []);\r\n\t\t\t\t// }\r\n\t\t\t\t// responseUser.data.filter((entry) => {\r\n\t\t\t\t// \tthis.requestStepData.userInfos.push({\r\n\t\t\t\t// \t\tid: entry.userInfo.id,\r\n\t\t\t\t// \t});\r\n\t\t\t\t// });\r\n\t\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_CreateStepData(),\r\n\t\t\t\t\tthis.requestStepData,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.toastSuccess(this.$t(\"message.add_success\"));\r\n\t\t\t\t// console.log(\"respon create\", response);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getUserInStep() {\r\n\t\t\tlet response;\r\n\t\t\tfor (let stepInProces of this.stepInProcess) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_GetSteepDataByIdStepInProcessId(\r\n\t\t\t\t\t\t\tstepInProces.id,\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (!response || !response.state) {\r\n\t\t\t\t\t\tthis.toastError(this.$t(\"error.load\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstepInProces.userInStepDTOs = response.data;\r\n\t\t\t\t\tconsole.log(\"stepInProces\", stepInProces);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.toastError(error);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.title {\r\n\tcolor: rgb(36, 50, 248);\r\n}\r\n\r\n.v-speed-dial {\r\n\tposition: absolute;\r\n}\r\n.v-btn--floating {\r\n\tposition: sticky;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}