{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\"; // import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\n\nimport moment from \"moment\";\nimport \"@koumoul/vjsf/lib/VJsf.css\";\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\nimport constant from \"@/common/constant.js\";\nimport administratorAPI from \"../administrator.api\";\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nexport default {\n  name: \"ListProcess\",\n  components: {\n    // VuePerfectScrollbar,\n    DeleteDialogVue: DeleteDialogVue,\n    BreadcrumbsVue: BreadcrumbsVue\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      showCreateDatePicker: false,\n      showModifyDatePicker: false,\n      itemperpage: 10,\n      numberPage: 1,\n      dateFormat: \"DD/MM/yyyy\",\n      createdDate: null,\n      modifiedDate: null,\n      s_createdName: \"\",\n      s_modifiedName: \"\",\n      organizations: this.$t(\"label.show_all\"),\n      s_request: this.$t(\"label.show_all\"),\n      isActive: this.$t(\"label.show_all\"),\n      filterItems: [this.$t(\"label.show_all\"), this.$t(\"label.used\"), this.$t(\"label.unused\")],\n      filterOrganization: [],\n      filterRequest: [],\n      s_description: \"\",\n      s_processName: \"\",\n      s_processCode: \"\",\n      stepSelected: [],\n      user_in_step: [],\n      modelslt: {},\n      updateItem: {},\n      search: \"\",\n      stepInProcess: {},\n      singleSelect: false,\n      dialog: {\n        delete: false\n      },\n      selected: [],\n      items: [],\n      itemDelete: {},\n      headers: [// {\n      // \ttext: this.$t(\"label.process_code\"),\n      // \tvalue: \"processCode\",\n      // \tfilter: (value) => {\n      // \t\tif (!this.s_processCode || !value) return true;\n      // \t\treturn this.nonAccentVietnamese(value)\n      // \t\t\t.toLocaleUpperCase()\n      // \t\t\t.includes(\n      // \t\t\t\tthis.nonAccentVietnamese(this.s_processCode)\n      // \t\t\t\t\t.trim()\n      // \t\t\t\t\t.toLocaleUpperCase(),\n      // \t\t\t);\n      // \t},\n      // },\n      {\n        text: this.$t(\"label.process_name\"),\n        value: \"processName\",\n        filter: function filter(value) {\n          if (!_this.s_processName || !value) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.s_processName).trim().toLocaleUpperCase());\n        }\n      }, // {\n      // \ttext: this.$t(\"label.description\"),\n      // \tvalue: \"description\",\n      // \tfilter: (value) => {\n      // \t\tif (!this.s_description.trim()) return true;\n      // \t\tif (!value) return;\n      // \t\treturn this.nonAccentVietnamese(value)\n      // \t\t\t.toLocaleUpperCase()\n      // \t\t\t.includes(\n      // \t\t\t\tthis.nonAccentVietnamese(this.s_description)\n      // \t\t\t\t\t.toLocaleUpperCase()\n      // \t\t\t\t\t.trim(),\n      // \t\t\t);\n      // \t},\n      // },\n      // {\n      // \ttext: this.$t(\"label.created_name\"),\n      // \tvalue: \"createdName\",\n      // \tfilter: (value) => {\n      // \t\tif (!this.s_createdName || !value) return true;\n      // \t\treturn this.nonAccentVietnamese(value)\n      // \t\t\t.toLocaleUpperCase()\n      // \t\t\t.includes(\n      // \t\t\t\tthis.nonAccentVietnamese(this.s_createdName)\n      // \t\t\t\t\t.toLocaleUpperCase()\n      // \t\t\t\t\t.trim(),\n      // \t\t\t);\n      // \t},\n      // },\n      // {\n      // \ttext: this.$t(\"label.created_date\"),\n      // \tvalue: \"createdDate\",\n      // \tformatter: (x) =>\n      // \t\tx ? moment(x).format(this.dateFormat) : null,\n      // \tfilter: (value) => {\n      // \t\tif (!this.createdDate || !value) return true;\n      // \t\treturn value.includes(this.createdDate);\n      // \t},\n      // \tsort: (a, b) => {\n      // \t\treturn (\n      // \t\t\tmoment(b).toDate().getTime() -\n      // \t\t\tmoment(a).toDate().getTime()\n      // \t\t);\n      // \t},\n      // },\n      {\n        text: this.$t(\"label.type_request_apply\"),\n        value: \"requestDTOS\",\n        filter: function filter(value) {\n          if (_this.s_request == _this.$t(\"label.show_all\")) return true;\n          return value.filter(function (entry) {\n            return entry.requestName.includes(_this.s_request);\n          }).length;\n        }\n      }, {\n        text: this.$t(\"label.organize_use\"),\n        value: \"organizations\",\n        filter: function filter(value) {\n          if (_this.organizations == _this.$t(\"label.show_all\")) return true;\n          return value.filter(function (entry) {\n            return entry.organizationName.includes(_this.organizations);\n          }).length;\n        }\n      }, {\n        text: this.$t(\"label.modified_name\"),\n        value: \"modifiedName\",\n        filter: function filter(value) {\n          if (!_this.s_modifiedName || !value) return true;\n          return _this.nonAccentVietnamese(value).toLocaleUpperCase().includes(_this.nonAccentVietnamese(_this.s_modifiedName).toLocaleUpperCase().trim());\n        }\n      }, {\n        text: this.$t(\"label.modified_date\"),\n        value: \"modifiedDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.modifiedDate || !value) return true;\n          return value.includes(_this.modifiedDate);\n        },\n        sort: function sort(a, b) {\n          return moment(b).toDate().getTime() - moment(a).toDate().getTime();\n        }\n      }, // {\n      // \ttext: this.$t(\"label.is_active\"),\n      // \tvalue: \"isActive\",\n      // \tfilter: (value) => {\n      // \t\tif (this.isActive == this.$t(\"label.used\")) {\n      // \t\t\treturn value == true;\n      // \t\t}\n      // \t\tif (this.isActive == this.$t(\"label.unused\")) {\n      // \t\t\treturn value == false;\n      // \t\t}\n      // \t\treturn true;\n      // \t},\n      // },\n      {\n        text: this.$t(\"label.manipulation\"),\n        value: \"actions\",\n        sortable: false\n      }],\n      desserts: [],\n      editedIndex: -1,\n      indexItems: 0,\n      editedItem: {\n        createdDate: new Date(),\n        createdId: null,\n        createdName: \"\",\n        description: \"\",\n        id: null,\n        isActive: false,\n        isDelete: false,\n        modifiedDate: null,\n        modifiedId: null,\n        modifiedName: \"\",\n        numberRequest: 0,\n        processCode: \"\",\n        processName: \"\"\n      },\n      defaultItem: {\n        createdDate: new Date(),\n        createdId: null,\n        createdName: \"\",\n        description: \"\",\n        id: null,\n        isActive: false,\n        isDelete: false,\n        modifiedDate: null,\n        modifiedId: null,\n        modifiedName: \"\",\n        numberRequest: 0,\n        processCode: \"\",\n        processName: \"\"\n      },\n      arrShow: [],\n      constant: constant,\n      listIndexAfterFillter: []\n    };\n  },\n  computed: {\n    isEdit: function isEdit() {\n      return this.editedIndex === -1 ? false : true;\n    },\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? \"Tạo mới quy trình\" : \"Sửa quy trình\";\n    },\n    formatDateFns: function formatDateFns() {\n      return this.createdDate ? moment(this.createdDate).format(this.dateFormat) : \"\";\n    },\n    formatModifyDateFns: function formatModifyDateFns() {\n      return this.modifiedDate ? moment(this.modifiedDate).format(this.dateFormat) : \"\";\n    }\n  },\n  // watch: {\n  // \tdialog(val) {\n  // \t\tval || this.close();\n  // \t},\n  // \tdialogDelete(val) {\n  // \t\tval || this.closeDelete();\n  // \t},\n  // },\n  created: function created() {\n    this.$Progress.start();\n    this.initialize();\n    this.getAllOrganzation();\n    this.getAllRequest();\n  },\n  mounted: function mounted() {\n    this.$Progress.finish();\n  },\n  methods: {\n    getAllOrganzation: function getAllOrganzation() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return globalService.getData_Async(administratorAPI.API_FindAllOrganization());\n\n              case 3:\n                response = _context.sent;\n\n                if (!(!response || !response.state)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                _this2.filterOrganization = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                _this2.filterOrganization.unshift(_this2.$t(\"label.show_all\"));\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this2.toastError(_context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 10]]);\n      }))();\n    },\n    getAllRequest: function getAllRequest() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllRequest());\n\n              case 3:\n                response = _context2.sent;\n\n                if (!(!response || !response.state)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _this3.filterRequest = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                _this3.filterRequest.unshift(_this3.$t(\"label.show_all\"));\n\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this3.toastError(_context2.t0);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 10]]);\n      }))();\n    },\n    initialize: function initialize() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return globalService.getData_Async(administratorAPI.API_GetAllProcessInfo());\n\n              case 2:\n                response = _context3.sent;\n\n                if (!(!response || !response.state)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this4.desserts = response.data.filter(function (entry) {\n                  entry.showAll = false;\n                  entry.showName = false;\n                  entry.showReq = false;\n                  return !entry.isDelete;\n                });\n\n                _this4.sortList(_this4.desserts);\n\n                _this4.modelslt = {\n                  createdDate: null,\n                  createdName: \"\",\n                  description: \"\",\n                  id: null,\n                  isActive: true,\n                  isAuthorizedApproval: false,\n                  isBack: false,\n                  isEdit: false,\n                  optionDeny: 1,\n                  sendEmail: false,\n                  isExamine: false,\n                  isRequestModify: false,\n                  isRequiredSignature: false,\n                  modifiedDate: null,\n                  modifiedName: \"\",\n                  processInfo: null,\n                  processingActiveTime: null,\n                  processingTerm: 0,\n                  processingTermTime: null,\n                  step: null,\n                  stepInProcessCode: \"\",\n                  stepInProcessName: \"\",\n                  stepOrder: 0,\n                  tennantCode: \"\",\n                  tennantName: \"\",\n                  organization: null,\n                  organizationCode: \"\",\n                  organizationName: \"\",\n                  rank: null\n                };\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    deleteItem: function deleteItem(item) {\n      this.selected = [item];\n      this.updateItem = item;\n      this.dialog.delete = true;\n    },\n    // async deleteItemConfirm() {\n    // \tthis.updateItem.isDelete = true;\n    // \tlet response = await globalService.putData_Async(\n    // \t\tadministratorAPI.API_UpdateProcessInfo(this.updateItem.id),\n    // \t\tthis.updateItem,\n    // \t);\n    // \tif (!response.state) {\n    // \t\tthis.toastError(this.$t(\"message.delete_error\"));\n    // \t\tthis.closeDelete();\n    // \t\treturn;\n    // \t} else {\n    // \t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\n    // \t}\n    // \tthis.initialize();\n    // \tthis.closeDelete();\n    // },\n    deleteAll: function deleteAll() {\n      if (this.selected.length > 0) {\n        this.dialog.delete = true;\n      } else {\n        this.toastError(this.$t(\"label.no_selected\"));\n      }\n    },\n    deleteAllConfirm: function deleteAllConfirm() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!_this5.isDeleting) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 2:\n                _this5.isDeleting = true;\n                _context4.prev = 3;\n                _this5.selected = _this5.selected.map(function (x) {\n                  x.isDelete = true;\n                  return x;\n                });\n                _context4.next = 7;\n                return globalService.postData_Async(administratorAPI.API_DeleteAllProcessInfo(), _this5.selected);\n\n              case 7:\n                response = _context4.sent;\n\n                if (response) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                _this5.toastError(_this5.$t(\"message.delete_error\"));\n\n                return _context4.abrupt(\"return\");\n\n              case 11:\n                if (response.state) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                _this5.toastError(response.message);\n\n                _this5.isDeleting = false;\n                return _context4.abrupt(\"return\");\n\n              case 17:\n                _this5.toastSuccess(_this5.$t(\"message.delete_success\"));\n\n              case 18:\n                _context4.next = 23;\n                break;\n\n              case 20:\n                _context4.prev = 20;\n                _context4.t0 = _context4[\"catch\"](3);\n\n                _this5.toastError(_context4.t0);\n\n              case 23:\n                _context4.prev = 23;\n                _this5.selected = [];\n                _this5.isDeleting = false;\n\n                _this5.initialize();\n\n                _this5.closeDeleteAll();\n\n                return _context4.finish(23);\n\n              case 29:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[3, 20, 23, 29]]);\n      }))();\n    },\n    // close() {\n    // \tthis.dialog = false;\n    // \tthis.$nextTick(() => {\n    // \t\tthis.editedItem = Object.assign({}, this.defaultItem);\n    // \t\tthis.editedIndex = -1;\n    // \t});\n    // },\n    closeDelete: function closeDelete() {\n      var _this6 = this;\n\n      this.dialog.delete = false;\n      this.$nextTick(function () {\n        _this6.editedItem = Object.assign({}, _this6.defaultItem);\n        _this6.editedIndex = -1;\n      });\n    },\n    closeDeleteAll: function closeDeleteAll() {\n      this.dialog.delete = false;\n    },\n    sortList: function sortList(arr) {\n      return arr.sort(function (a, b) {\n        return moment(b.createdDate).toDate().getTime() - moment(a.createdDate).toDate().getTime();\n      });\n    },\n    customFilter: function customFilter(value, search, item) {\n      return !!search && this.match(item, search);\n    },\n    toggle_detail: function toggle_detail(index) {\n      if (this.listIndexAfterFillter.length != 0) index = this.listIndexAfterFillter[index];else index = (this.numberPage - 1) * this.itemperpage + index;\n      this.desserts[index].showAll = !this.desserts[index].showAll;\n    },\n    updatePage: function updatePage(event) {\n      console.log(\"event\", event); // this.numberPage = event.page;\n      // this.itemperpage = event.itemsPerPage;\n    },\n    toggle_request: function toggle_request(index) {\n      if (this.listIndexAfterFillter.length != 0) index = this.listIndexAfterFillter[index];else index = (this.numberPage - 1) * this.itemperpage + index;\n      this.desserts[index].showReq = !this.desserts[index].showReq;\n    },\n    toggle_show_name: function toggle_show_name(item) {\n      item.showName = !item.showName;\n    },\n    onConfirmDelete: function onConfirmDelete(value) {\n      if (!value) {\n        this.onCloseDialog();\n      } else {\n        if (this.selected) {\n          this.deleteAllConfirm();\n        }\n      }\n    },\n    logEvent: function logEvent(event) {\n      this.numberPage = event.page;\n      this.itemperpage = event.itemsPerPage;\n    }\n  },\n  filters: constant.filters\n};","map":{"version":3,"mappings":"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","names":["name","components","DeleteDialogVue","BreadcrumbsVue","data","showCreateDatePicker","showModifyDatePicker","itemperpage","numberPage","dateFormat","createdDate","modifiedDate","s_createdName","s_modifiedName","organizations","s_request","isActive","filterItems","filterOrganization","filterRequest","s_description","s_processName","s_processCode","stepSelected","user_in_step","modelslt","updateItem","search","stepInProcess","singleSelect","dialog","delete","selected","items","itemDelete","headers","text","value","filter","toLocaleUpperCase","includes","trim","length","formatter","x","sort","moment","sortable","desserts","editedIndex","indexItems","editedItem","createdId","createdName","description","id","isDelete","modifiedId","modifiedName","numberRequest","processCode","processName","defaultItem","arrShow","constant","listIndexAfterFillter","computed","isEdit","formTitle","formatDateFns","formatModifyDateFns","created","mounted","methods","getAllOrganzation","globalService","administratorAPI","response","getAllRequest","initialize","entry","isAuthorizedApproval","isBack","optionDeny","sendEmail","isExamine","isRequestModify","isRequiredSignature","processInfo","processingActiveTime","processingTerm","processingTermTime","step","stepInProcessCode","stepInProcessName","stepOrder","tennantCode","tennantName","organization","organizationCode","organizationName","rank","deleteItem","item","deleteAll","deleteAllConfirm","closeDelete","closeDeleteAll","sortList","arr","customFilter","toggle_detail","index","updatePage","event","console","toggle_request","toggle_show_name","onConfirmDelete","logEvent","filters"],"sourceRoot":"src/views/modules/administrator/ProcessStep","sources":["ListProcess.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\" class=\"p-2 rounded\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-dialog v-model=\"dialog.delete\" width=\"fit-content\">\r\n\t\t\t<DeleteDialogVue\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@confirmDelete=\"onConfirmDelete\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-data-table\r\n\t\t\tv-model=\"selected\"\r\n\t\t\t:headers=\"headers\"\r\n\t\t\t:items=\"desserts\"\r\n\t\t\t:search=\"search\"\r\n\t\t\t:custom-filter=\"customFilter\"\r\n\t\t\titem-key=\"id\"\r\n\t\t\tmulti-sort\r\n\t\t\tshow-select\r\n\t\t\t:items-per-page=\"itemperpage\"\r\n\t\t\t:page=\"numberPage\"\r\n\t\t\tloading=\"true\"\r\n\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t\t@update:options=\"updatePage($event)\"\r\n\t\t\t@pagination=\"logEvent($event)\"\r\n\t\t>\r\n\t\t\t<template v-slot:top>\r\n\t\t\t\t<v-card-title class=\"p-0 w-full\">\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tclass=\"mb-4 mr-2 white\"\r\n\t\t\t\t\t\tto=\"quy-trinh/tao-moi-v2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-plus </v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t\t<v-icon> mdi-menu-down </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tclass=\"mb-4 mr-2 white\"\r\n\t\t\t\t\t\t@click=\"deleteAll\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-delete-outline </v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<!-- <v-text-field\r\n\t\t\t\t\t\tv-model=\"search\"\r\n\t\t\t\t\t\t:label=\"$t('title.search')\"\r\n\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\tdense\r\n\t\t\t\t\t\tclass=\"mt-2 mx-4\"\r\n\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\tsearch.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t></v-text-field> -->\r\n\t\t\t\t\t<v-btn icon @click=\"filterExist = !filterExist\">\r\n\t\t\t\t\t\t<v-icon>mdi-filter </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-card-title>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:no-results\r\n\t\t\t\t><h1>{{ $t(\"message.no_results\") }}</h1>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:no-data\r\n\t\t\t\t><h1>{{ $t(\"message.no_data\") }}</h1></template\r\n\t\t\t>\r\n\t\t\t<template v-slot:[`item.isActive`]=\"{ item }\">\r\n\t\t\t\t<v-simple-checkbox\r\n\t\t\t\t\tv-model=\"item.isActive\"\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t></v-simple-checkbox>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.modifiedName`]=\"{ item }\">\r\n\t\t\t\t<template>\r\n\t\t\t\t\t<v-avatar color=\"indigo mr-2\" size=\"28\">\r\n\t\t\t\t\t\t<span class=\"white--text\">\r\n\t\t\t\t\t\t\t{{ getAvatarText(item.modifiedName, 2) }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t{{ item.modifiedName }}\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t\t<template\r\n\t\t\t\tv-for=\"header in headers.filter((header) =>\r\n\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t)\"\r\n\t\t\t\tv-slot:[`item.${header.value}`]=\"{ headers, value }\"\r\n\t\t\t>\r\n\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.organizations`]=\"{ item, index }\">\r\n\t\t\t\t<template v-if=\"item.showAll\">\r\n\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\tv-for=\"organization of item.organizations\"\r\n\t\t\t\t\t\t:key=\"organization.id\"\r\n\t\t\t\t\t\tv-bind=\"item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ organization.organizationName }}\r\n\t\t\t\t\t</v-chip>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(organization, key) of item.organizations\"\r\n\t\t\t\t\t\tv-bind=\"item\"\r\n\t\t\t\t\t\t:key=\"organization.id\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-chip v-if=\"key < 1\">\r\n\t\t\t\t\t\t\t{{ organization.organizationName }}\r\n\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<span\r\n\t\t\t\t\tv-if=\"item.organizations.length > 2 && !item.showAll\"\r\n\t\t\t\t\t@click=\"toggle_detail(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\"><i>Chi tiết</i></a>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tv-if=\"item.organizations.length > 2 && item.showAll\"\r\n\t\t\t\t\t@click=\"toggle_detail(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\"><i>Ẩn</i></a>\r\n\t\t\t\t</span>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.requestDTOS`]=\"{ item, index }\">\r\n\t\t\t\t<template v-if=\"item.showReq\">\r\n\t\t\t\t\t<v-chip\r\n\t\t\t\t\t\tv-for=\"request of item.requestDTOS\"\r\n\t\t\t\t\t\t:key=\"request.id\"\r\n\t\t\t\t\t\tv-bind=\"item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ request.requestName }}\r\n\t\t\t\t\t</v-chip>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(request, key) of item.requestDTOS\"\r\n\t\t\t\t\t\tv-bind=\"item\"\r\n\t\t\t\t\t\t:key=\"request.id\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-chip v-if=\"key < 1\">\r\n\t\t\t\t\t\t\t{{ request.requestName }}\r\n\t\t\t\t\t\t</v-chip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<span\r\n\t\t\t\t\tv-if=\"item.requestDTOS.length > 2 && !item.showReq\"\r\n\t\t\t\t\t@click=\"toggle_request(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\"><i>Chi tiết</i></a>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tv-if=\"item.requestDTOS.length > 2 && item.showReq\"\r\n\t\t\t\t\t@click=\"toggle_request(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<a href=\"#\"><i>Ẩn</i></a>\r\n\t\t\t\t</span>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.processName`]=\"{ item }\">\r\n\t\t\t\t<template\r\n\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\titem.processName.trim().length >\r\n\t\t\t\t\t\t\tconstant.length_process_name && !item.showName\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\titem.processName.slice(\r\n\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\tconstant.length_process_name,\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span @click=\"toggle_show_name(item)\">\r\n\t\t\t\t\t\t<a href=\"#\"><i>Chi tiết</i></a>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template\r\n\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\titem.processName.trim().length >\r\n\t\t\t\t\t\t\tconstant.length_process_name && item.showName\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>{{ item.processName }}</span>\r\n\t\t\t\t\t<span @click=\"toggle_show_name(item)\">\r\n\t\t\t\t\t\t<a href=\"#\"><i>Ẩn</i></a>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template\r\n\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\titem.processName.trim().length <=\r\n\t\t\t\t\t\tconstant.length_process_name\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{{ item.processName }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`body.prepend`]>\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t<tr v-if=\"filterExist\">\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t\t<!-- <td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"s_processCode\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.process_code')\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\ts_processCode.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td> -->\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"s_processName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.process_name')\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\ts_processName.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"s_request\"\r\n\t\t\t\t\t\t\titem-text=\"requestName\"\r\n\t\t\t\t\t\t\t:items=\"filterRequest\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.type_request_apply')\"\r\n\t\t\t\t\t\t\t:item-value=\"(item) => item.requestName\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"organizations\"\r\n\t\t\t\t\t\t\t:items=\"filterOrganization\"\r\n\t\t\t\t\t\t\titem-text=\"organizationName\"\r\n\t\t\t\t\t\t\t:item-value=\"(item) => item.organizationName\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.organize_use')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<!-- <td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"s_description\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.description')\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\ts_description.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td> -->\r\n\t\t\t\t\t<!-- <td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"s_createdName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.created_name')\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\ts_createdName.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td> -->\r\n\t\t\t\t\t<!-- <td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showCreateDatePicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tmax-width=\"290\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatDateFns\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.created_date')\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"createdDate = null\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"createdDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showCreateDatePicker = false\"\r\n\t\t\t\t\t\t\t\tno-title\r\n\t\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\t\trange\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td> -->\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"s_modifiedName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.modified_name')\"\r\n\t\t\t\t\t\t\t:rules=\"[\r\n\t\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\t\ts_modifiedName.trim().length <= 255 ||\r\n\t\t\t\t\t\t\t\t\t$t('error.max_length_255'),\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showModifyDatePicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tclass=\"mt-10\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatModifyDateFns\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.modified_date')\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"modifiedDate = null\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"modifiedDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showModifyDatePicker = false\"\r\n\t\t\t\t\t\t\t\tno-title\r\n\t\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\t\trange\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<!-- <td class=\"\">\r\n\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\tv-model=\"isActive\"\r\n\t\t\t\t\t\t\t:items=\"filterItems\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.is_active')\"\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t></v-select>\r\n\t\t\t\t\t</td> -->\r\n\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.actions`]=\"{ item }\">\r\n\t\t\t\t<div class=\"d-flex\" style=\"min-width: fit-content\">\r\n\t\t\t\t\t<!-- <v-btn\r\n\t\t\t\t\t\ticon\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t\tx-small\r\n\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\t:to=\"{\r\n\t\t\t\t\t\t\tpath: `/administrator/quy-trinh/view/${item.id}`,\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon small> mdi-eye </v-icon>\r\n\t\t\t\t\t</v-btn> -->\r\n\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\tcolor=\"blue darken-1\"\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t:to=\"{ path: `/administrator/quy-trinh/${item.id}` }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-pencil-circle </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\ticon\r\n\t\t\t\t\t\tcolor=\"red darken-1\"\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t\t@click=\"deleteItem(item)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-close-circle </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</v-card>\r\n</template>\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\n// import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport moment from \"moment\";\r\nimport \"@koumoul/vjsf/lib/VJsf.css\";\r\nimport \"@koumoul/vjsf/lib/deps/third-party.js\";\r\nimport constant from \"@/common/constant.js\";\r\nimport administratorAPI from \"../administrator.api\";\r\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\nexport default {\r\n\tname: \"ListProcess\",\r\n\tcomponents: {\r\n\t\t// VuePerfectScrollbar,\r\n\t\tDeleteDialogVue,\r\n\t\tBreadcrumbsVue,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowCreateDatePicker: false,\r\n\t\t\tshowModifyDatePicker: false,\r\n\t\t\titemperpage: 10,\r\n\t\t\tnumberPage: 1,\r\n\t\t\tdateFormat: \"DD/MM/yyyy\",\r\n\t\t\tcreatedDate: null,\r\n\t\t\tmodifiedDate: null,\r\n\t\t\ts_createdName: \"\",\r\n\t\t\ts_modifiedName: \"\",\r\n\t\t\torganizations: this.$t(\"label.show_all\"),\r\n\t\t\ts_request: this.$t(\"label.show_all\"),\r\n\t\t\tisActive: this.$t(\"label.show_all\"),\r\n\t\t\tfilterItems: [\r\n\t\t\t\tthis.$t(\"label.show_all\"),\r\n\t\t\t\tthis.$t(\"label.used\"),\r\n\t\t\t\tthis.$t(\"label.unused\"),\r\n\t\t\t],\r\n\t\t\tfilterOrganization: [],\r\n\t\t\tfilterRequest: [],\r\n\t\t\ts_description: \"\",\r\n\t\t\ts_processName: \"\",\r\n\t\t\ts_processCode: \"\",\r\n\t\t\tstepSelected: [],\r\n\t\t\tuser_in_step: [],\r\n\t\t\tmodelslt: {},\r\n\t\t\tupdateItem: {},\r\n\t\t\tsearch: \"\",\r\n\t\t\tstepInProcess: {},\r\n\t\t\tsingleSelect: false,\r\n\t\t\tdialog: {\r\n\t\t\t\tdelete: false,\r\n\t\t\t},\r\n\t\t\tselected: [],\r\n\t\t\titems: [],\r\n\t\t\titemDelete: {},\r\n\t\t\theaders: [\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: this.$t(\"label.process_code\"),\r\n\t\t\t\t// \tvalue: \"processCode\",\r\n\t\t\t\t// \tfilter: (value) => {\r\n\t\t\t\t// \t\tif (!this.s_processCode || !value) return true;\r\n\r\n\t\t\t\t// \t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t// \t\t\t.toLocaleUpperCase()\r\n\t\t\t\t// \t\t\t.includes(\r\n\t\t\t\t// \t\t\t\tthis.nonAccentVietnamese(this.s_processCode)\r\n\t\t\t\t// \t\t\t\t\t.trim()\r\n\t\t\t\t// \t\t\t\t\t.toLocaleUpperCase(),\r\n\t\t\t\t// \t\t\t);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.process_name\"),\r\n\t\t\t\t\tvalue: \"processName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.s_processName || !value) return true;\r\n\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.s_processName)\r\n\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: this.$t(\"label.description\"),\r\n\t\t\t\t// \tvalue: \"description\",\r\n\r\n\t\t\t\t// \tfilter: (value) => {\r\n\t\t\t\t// \t\tif (!this.s_description.trim()) return true;\r\n\t\t\t\t// \t\tif (!value) return;\r\n\t\t\t\t// \t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t// \t\t\t.toLocaleUpperCase()\r\n\t\t\t\t// \t\t\t.includes(\r\n\t\t\t\t// \t\t\t\tthis.nonAccentVietnamese(this.s_description)\r\n\t\t\t\t// \t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t// \t\t\t\t\t.trim(),\r\n\t\t\t\t// \t\t\t);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// },\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: this.$t(\"label.created_name\"),\r\n\t\t\t\t// \tvalue: \"createdName\",\r\n\r\n\t\t\t\t// \tfilter: (value) => {\r\n\t\t\t\t// \t\tif (!this.s_createdName || !value) return true;\r\n\r\n\t\t\t\t// \t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t// \t\t\t.toLocaleUpperCase()\r\n\t\t\t\t// \t\t\t.includes(\r\n\t\t\t\t// \t\t\t\tthis.nonAccentVietnamese(this.s_createdName)\r\n\t\t\t\t// \t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t// \t\t\t\t\t.trim(),\r\n\t\t\t\t// \t\t\t);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// },\r\n\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: this.$t(\"label.created_date\"),\r\n\t\t\t\t// \tvalue: \"createdDate\",\r\n\r\n\t\t\t\t// \tformatter: (x) =>\r\n\t\t\t\t// \t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t// \tfilter: (value) => {\r\n\t\t\t\t// \t\tif (!this.createdDate || !value) return true;\r\n\t\t\t\t// \t\treturn value.includes(this.createdDate);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tsort: (a, b) => {\r\n\t\t\t\t// \t\treturn (\r\n\t\t\t\t// \t\t\tmoment(b).toDate().getTime() -\r\n\t\t\t\t// \t\t\tmoment(a).toDate().getTime()\r\n\t\t\t\t// \t\t);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.type_request_apply\"),\r\n\t\t\t\t\tvalue: \"requestDTOS\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (this.s_request == this.$t(\"label.show_all\"))\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\treturn value.filter((entry) => {\r\n\t\t\t\t\t\t\treturn entry.requestName.includes(this.s_request);\r\n\t\t\t\t\t\t}).length;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.organize_use\"),\r\n\t\t\t\t\tvalue: \"organizations\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (this.organizations == this.$t(\"label.show_all\"))\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\treturn value.filter((entry) => {\r\n\t\t\t\t\t\t\treturn entry.organizationName.includes(\r\n\t\t\t\t\t\t\t\tthis.organizations,\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}).length;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_name\"),\r\n\t\t\t\t\tvalue: \"modifiedName\",\r\n\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.s_modifiedName || !value) return true;\r\n\r\n\t\t\t\t\t\treturn this.nonAccentVietnamese(value)\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.nonAccentVietnamese(this.s_modifiedName)\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_date\"),\r\n\t\t\t\t\tvalue: \"modifiedDate\",\r\n\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.modifiedDate || !value) return true;\r\n\t\t\t\t\t\treturn value.includes(this.modifiedDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsort: (a, b) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tmoment(b).toDate().getTime() -\r\n\t\t\t\t\t\t\tmoment(a).toDate().getTime()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttext: this.$t(\"label.is_active\"),\r\n\t\t\t\t// \tvalue: \"isActive\",\r\n\r\n\t\t\t\t// \tfilter: (value) => {\r\n\t\t\t\t// \t\tif (this.isActive == this.$t(\"label.used\")) {\r\n\t\t\t\t// \t\t\treturn value == true;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (this.isActive == this.$t(\"label.unused\")) {\r\n\t\t\t\t// \t\t\treturn value == false;\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\treturn true;\r\n\t\t\t\t// \t},\r\n\t\t\t\t// },\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.manipulation\"),\r\n\t\t\t\t\tvalue: \"actions\",\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdesserts: [],\r\n\t\t\teditedIndex: -1,\r\n\t\t\tindexItems: 0,\r\n\t\t\teditedItem: {\r\n\t\t\t\tcreatedDate: new Date(),\r\n\t\t\t\tcreatedId: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: false,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodifiedId: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tnumberRequest: 0,\r\n\t\t\t\tprocessCode: \"\",\r\n\t\t\t\tprocessName: \"\",\r\n\t\t\t},\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tcreatedDate: new Date(),\r\n\t\t\t\tcreatedId: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: false,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodifiedId: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tnumberRequest: 0,\r\n\t\t\t\tprocessCode: \"\",\r\n\t\t\t\tprocessName: \"\",\r\n\t\t\t},\r\n\t\t\tarrShow: [],\r\n\t\t\tconstant: constant,\r\n\t\t\tlistIndexAfterFillter: [],\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tisEdit() {\r\n\t\t\treturn this.editedIndex === -1 ? false : true;\r\n\t\t},\r\n\t\tformTitle() {\r\n\t\t\treturn this.editedIndex === -1\r\n\t\t\t\t? \"Tạo mới quy trình\"\r\n\t\t\t\t: \"Sửa quy trình\";\r\n\t\t},\r\n\t\tformatDateFns() {\r\n\t\t\treturn this.createdDate\r\n\t\t\t\t? moment(this.createdDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t\tformatModifyDateFns() {\r\n\t\t\treturn this.modifiedDate\r\n\t\t\t\t? moment(this.modifiedDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t},\r\n\r\n\t// watch: {\r\n\t// \tdialog(val) {\r\n\t// \t\tval || this.close();\r\n\t// \t},\r\n\t// \tdialogDelete(val) {\r\n\t// \t\tval || this.closeDelete();\r\n\t// \t},\r\n\t// },\r\n\r\n\tcreated() {\r\n\t\tthis.$Progress.start();\r\n\t\tthis.initialize();\r\n\t\tthis.getAllOrganzation();\r\n\t\tthis.getAllRequest();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$Progress.finish();\r\n\t},\r\n\tmethods: {\r\n\t\tasync getAllOrganzation() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_FindAllOrganization(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) return;\r\n\t\t\t\tthis.filterOrganization = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.filterOrganization.unshift(this.$t(\"label.show_all\"));\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getAllRequest() {\r\n\t\t\ttry {\r\n\t\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\t\tadministratorAPI.API_GetAllRequest(),\r\n\t\t\t\t);\r\n\t\t\t\tif (!response || !response.state) return;\r\n\t\t\t\tthis.filterRequest = response.data.filter((entry) => {\r\n\t\t\t\t\treturn !entry.isDelete;\r\n\t\t\t\t});\r\n\t\t\t\tthis.filterRequest.unshift(this.$t(\"label.show_all\"));\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync initialize() {\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllProcessInfo(),\r\n\t\t\t);\r\n\t\t\tif (!response || !response.state) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.desserts = response.data.filter((entry) => {\r\n\t\t\t\tentry.showAll = false;\r\n\t\t\t\tentry.showName = false;\r\n\t\t\t\tentry.showReq = false;\r\n\t\t\t\treturn !entry.isDelete;\r\n\t\t\t});\r\n\t\t\tthis.sortList(this.desserts);\r\n\t\t\tthis.modelslt = {\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tid: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisAuthorizedApproval: false,\r\n\t\t\t\tisBack: false,\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\toptionDeny: 1,\r\n\t\t\t\tsendEmail: false,\r\n\t\t\t\tisExamine: false,\r\n\t\t\t\tisRequestModify: false,\r\n\t\t\t\tisRequiredSignature: false,\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tprocessInfo: null,\r\n\t\t\t\tprocessingActiveTime: null,\r\n\t\t\t\tprocessingTerm: 0,\r\n\t\t\t\tprocessingTermTime: null,\r\n\t\t\t\tstep: null,\r\n\t\t\t\tstepInProcessCode: \"\",\r\n\t\t\t\tstepInProcessName: \"\",\r\n\t\t\t\tstepOrder: 0,\r\n\t\t\t\ttennantCode: \"\",\r\n\t\t\t\ttennantName: \"\",\r\n\t\t\t\torganization: null,\r\n\t\t\t\torganizationCode: \"\",\r\n\t\t\t\torganizationName: \"\",\r\n\t\t\t\trank: null,\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.selected = [item];\r\n\t\t\tthis.updateItem = item;\r\n\t\t\tthis.dialog.delete = true;\r\n\t\t},\r\n\r\n\t\t// async deleteItemConfirm() {\r\n\t\t// \tthis.updateItem.isDelete = true;\r\n\t\t// \tlet response = await globalService.putData_Async(\r\n\t\t// \t\tadministratorAPI.API_UpdateProcessInfo(this.updateItem.id),\r\n\t\t// \t\tthis.updateItem,\r\n\t\t// \t);\r\n\t\t// \tif (!response.state) {\r\n\t\t// \t\tthis.toastError(this.$t(\"message.delete_error\"));\r\n\t\t// \t\tthis.closeDelete();\r\n\t\t// \t\treturn;\r\n\t\t// \t} else {\r\n\t\t// \t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t// \t}\r\n\t\t// \tthis.initialize();\r\n\t\t// \tthis.closeDelete();\r\n\t\t// },\r\n\t\tdeleteAll() {\r\n\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\tthis.dialog.delete = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastError(this.$t(\"label.no_selected\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteAllConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\ttry {\r\n\t\t\t\tthis.selected = this.selected.map((x) => {\r\n\t\t\t\t\tx.isDelete = true;\r\n\t\t\t\t\treturn x;\r\n\t\t\t\t});\r\n\t\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\tadministratorAPI.API_DeleteAllProcessInfo(),\r\n\t\t\t\t\tthis.selected,\r\n\t\t\t\t);\r\n\t\t\t\tif (!response) {\r\n\t\t\t\t\tthis.toastError(this.$t(\"message.delete_error\"));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!response.state) {\r\n\t\t\t\t\tthis.toastError(response.message);\r\n\t\t\t\t\tthis.isDeleting = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.toastError(error);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.selected = [];\r\n\t\t\t\tthis.isDeleting = false;\r\n\t\t\t\tthis.initialize();\r\n\t\t\t\tthis.closeDeleteAll();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// close() {\r\n\t\t// \tthis.dialog = false;\r\n\t\t// \tthis.$nextTick(() => {\r\n\t\t// \t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t// \t\tthis.editedIndex = -1;\r\n\t\t// \t});\r\n\t\t// },\r\n\r\n\t\tcloseDelete() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteAll() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\t\tsortList(arr) {\r\n\t\t\treturn arr.sort((a, b) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tmoment(b.createdDate).toDate().getTime() -\r\n\t\t\t\t\tmoment(a.createdDate).toDate().getTime()\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t\tcustomFilter(value, search, item) {\r\n\t\t\treturn !!search && this.match(item, search);\r\n\t\t},\r\n\t\ttoggle_detail(index) {\r\n\t\t\tif (this.listIndexAfterFillter.length != 0)\r\n\t\t\t\tindex = this.listIndexAfterFillter[index];\r\n\t\t\telse index = (this.numberPage - 1) * this.itemperpage + index;\r\n\t\t\tthis.desserts[index].showAll = !this.desserts[index].showAll;\r\n\t\t},\r\n\r\n\t\tupdatePage(event) {\r\n\t\t\tconsole.log(\"event\", event);\r\n\t\t\t// this.numberPage = event.page;\r\n\t\t\t// this.itemperpage = event.itemsPerPage;\r\n\t\t},\r\n\r\n\t\ttoggle_request(index) {\r\n\t\t\tif (this.listIndexAfterFillter.length != 0)\r\n\t\t\t\tindex = this.listIndexAfterFillter[index];\r\n\t\t\telse index = (this.numberPage - 1) * this.itemperpage + index;\r\n\t\t\tthis.desserts[index].showReq = !this.desserts[index].showReq;\r\n\t\t},\r\n\t\ttoggle_show_name(item) {\r\n\t\t\titem.showName = !item.showName;\r\n\t\t},\r\n\t\tonConfirmDelete(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.selected) {\r\n\t\t\t\t\tthis.deleteAllConfirm();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tlogEvent(event) {\r\n\t\t\tthis.numberPage = event.page;\r\n\t\t\tthis.itemperpage = event.itemsPerPage;\r\n\t\t},\r\n\t},\r\n\tfilters: constant.filters,\r\n};\r\n</script>\r\n<style>\r\n.v-picker__title__btn--active {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}