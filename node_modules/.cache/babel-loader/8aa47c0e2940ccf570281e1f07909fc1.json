{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.array.find-index.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport globalService from \"@/services/global.service\";\nimport moment from \"moment\";\nimport EditTemplateFormVue from \"./EditTemplateForm.vue\";\nimport VueDocPreview from \"vue-doc-preview\";\nimport administratorAPI from \"../administrator.api\";\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\nimport pdf from \"pdfvuer\";\nexport default {\n  name: \"ListTemplateMailVue\",\n  components: {\n    EditTemplateFormVue: EditTemplateFormVue,\n    VueDocPreview: VueDocPreview,\n    VuePerfectScrollbar: VuePerfectScrollbar,\n    DeleteDialogVue: DeleteDialogVue,\n    BreadcrumbsVue: BreadcrumbsVue,\n    pdf: pdf\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      errorMessage: \"\",\n      errorMessageDes: \"\",\n      errorMessageSearchTemplateMailCode: \"\",\n      errorMessageSearchTemplateMailName: \"\",\n      errorMessageSearchCreatedName: \"\",\n      errorMessageSearchAll: \"\",\n      user_current: this.getUserInfo(),\n      mailTemplateCode: \"\",\n      mailTemplateName: \"\",\n      createdName: \"\",\n      dateFormat: \"DD/MM/yyyy\",\n      createdDate: null,\n      modifiedDate: null,\n      modifiedName: null,\n      description: null,\n      isActive: this.$t(\"label.show_all\"),\n      filterItems: [this.$t(\"label.show_all\"), this.$t(\"label.used\"), this.$t(\"label.unused\")],\n      singleSelect: false,\n      selected: [],\n      dialog: {\n        view: false,\n        edit: false,\n        delete: false\n      },\n      updateItem: {},\n      search: \"\",\n      isDeleting: false,\n      isSaving: false,\n      showPicker: false,\n      showModifyDatePicker: false,\n      headers: [{\n        text: this.$t(\"label.mail_template_name\"),\n        value: \"mailTemplateName\",\n        filter: function filter(value) {\n          if (!_this.mailTemplateName || !value) return true;\n          return value.toLocaleUpperCase().includes(_this.mailTemplateName.trim().toLocaleUpperCase().replace(/\\s+/g, \" \"));\n        }\n      }, {\n        text: this.$t(\"label.description\"),\n        value: \"description\",\n        filter: function filter(value) {\n          if (!_this.description || !value) return true;\n          return value.toLocaleUpperCase().includes(_this.description.trim().toLocaleUpperCase().replace(/\\s+/g, \" \"));\n        }\n      }, {\n        text: this.$t(\"label.modified_name\"),\n        value: \"modifiedName\",\n        filter: function filter(value) {\n          if (!_this.createdName || !value) return true;\n          return value.toLocaleUpperCase().includes(_this.createdName.trim().toLocaleUpperCase().replace(/\\s+/g, \" \"));\n        }\n      }, {\n        text: this.$t(\"label.modified_date\"),\n        value: \"modifiedDate\",\n        formatter: function formatter(x) {\n          return x ? moment(x).format(_this.dateFormat) : null;\n        },\n        filter: function filter(value) {\n          if (!_this.modifiedDate) return true;\n          return value.includes(_this.modifiedDate);\n        }\n      }, {\n        text: this.$t(\"label.manipulation\"),\n        value: \"actions\",\n        sortable: false\n      }],\n      templateMails: [],\n      editedIndex: -1,\n      editedItem: {\n        id: null,\n        mailTemplateCode: \"\",\n        mailTemplateName: \"\",\n        subject: \"\",\n        contentFile: \"\",\n        mappingInfo: \"\",\n        description: \"\",\n        createdId: null,\n        createdName: \"\",\n        createdOrgName: \"\",\n        createdRankName: \"\",\n        createdDate: null,\n        modifiedId: null,\n        modifiedName: \"\",\n        modifiedDate: null,\n        isActive: true,\n        isDelete: false\n      },\n      defaultItem: {\n        id: null,\n        mailTemplateCode: \"\",\n        mailTemplateName: \"\",\n        subject: \"\",\n        contentFile: \"\",\n        mappingInfo: \"\",\n        description: \"\",\n        createdId: null,\n        createdName: \"\",\n        createdOrgName: \"\",\n        createdRankName: \"\",\n        createdDate: null,\n        modifiedId: null,\n        modifiedName: \"\",\n        modifiedDate: null,\n        isActive: true,\n        isDelete: false\n      },\n\n      /**\r\n       * @var AttachmentFileDto[] files\r\n       */\n      files: {}\n    };\n  },\n  computed: {\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? this.$t(\"title.create_form\") : this.$t(\"title.edit_form\");\n    },\n    form: function form() {\n      return {\n        templateFormName: this.editedItem.templateFormName\n      };\n    },\n    formatDateFns: function formatDateFns() {\n      return this.createdDate ? moment(this.createdDate).format(this.dateFormat) : \"\";\n    },\n    formatModifyDateFns: function formatModifyDateFns() {\n      return this.modifiedDate ? moment(this.modifiedDate).format(this.dateFormat) : \"\";\n    }\n  },\n  watch: {\n    \"dialog.edit\": function dialogEdit(val) {\n      val || this.close();\n    },\n    \"dialog.delete\": function dialogDelete(val) {\n      val || this.closeDelete();\n    },\n    \"dialog.view\": function dialogView(val) {\n      val || this.closeView();\n    }\n  },\n  created: function created() {\n    this.initialize();\n  },\n  methods: {\n    initialize: function initialize() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.files = {};\n                _context.next = 3;\n                return globalService.getData_Async(administratorAPI.API_GetAllMailTemplate());\n\n              case 3:\n                response = _context.sent;\n\n                if (response.state) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                _this2.templateMails = response.data.filter(function (entry) {\n                  return !entry.isDelete;\n                });\n\n                _this2.sortList(_this2.templateMails);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    editItemV2: function editItemV2(item) {\n      this.$router.push({\n        path: \"\".concat(item.id),\n        append: true\n      });\n    },\n    editItem: function editItem(item) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response, array;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this3.editedIndex = _this3.templateMails.indexOf(item);\n                _this3.editedItem = Object.assign({}, item);\n\n                if (!(_this3.editedItem.id && !_this3.files[_this3.editedItem.id])) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _context2.prev = 3;\n                _context2.next = 6;\n                return globalService.getData_Async(administratorAPI.API_GetAllAttachmentFileByTemplateFormId(item.id));\n\n              case 6:\n                response = _context2.sent;\n\n                if (!response) {\n                  _this3.toastError(_this3.$t(\"error.load_file\"));\n                } else if (!response.state) {\n                  _this3.toastError(response.messgage);\n                }\n\n                array = response.data;\n                array.sort(function (a, b) {\n                  return b.id - a.id;\n                });\n                _this3.files[item.id] = array[0];\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](3);\n                console.log(_context2.t0); // this.toastError(error);\n\n              case 16:\n                _this3.dialog.edit = true;\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[3, 13]]);\n      }))();\n    },\n    viewItem: function viewItem(item) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var response, array;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this4.editedIndex = _this4.templateMails.indexOf(item);\n                _this4.editedItem = Object.assign({}, item);\n\n                if (_this4.files[_this4.editedItem.id]) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                _context3.prev = 3;\n                _context3.next = 6;\n                return globalService.getData_Async(administratorAPI.API_GetAllAttachmentFileByTemplateFormId(item.id));\n\n              case 6:\n                response = _context3.sent;\n\n                if (!response) {\n                  _this4.toastError(_this4.$t(\"error.load_file\"));\n                } else if (!response.state) {\n                  _this4.toastError(response.messgage);\n                }\n\n                array = response.data;\n                array.sort(function (a, b) {\n                  return b.id - a.id;\n                });\n                _this4.files[item.id] = array[0];\n                _context3.next = 16;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](3);\n\n                _this4.toastError(_context3.t0);\n\n              case 16:\n                _this4.editedItem.createdDate = moment(_this4.editedItem.createdDate).format(_this4.dateFormat);\n                _this4.editedItem.modifiedDate = moment(_this4.editedItem.modifiedDate).format(_this4.dateFormat);\n                _this4.dialog.view = true;\n\n              case 19:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[3, 13]]);\n      }))();\n    },\n    deleteItem: function deleteItem(item) {\n      this.selected = [item];\n      this.editedIndex = this.templateMails.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog.delete = true;\n    },\n    deleteItemConfirm: function deleteItemConfirm() {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this5.updateItem.isDelete = true;\n                _context4.next = 3;\n                return globalService.putData_Async(\"/api/mail-templates/\" + _this5.updateItem.id, _this5.updateItem);\n\n              case 3:\n                response = _context4.sent;\n\n                if (!response.state) {\n                  _this5.toastError(_this5.$t(\"message.delete_error\"));\n                } else {\n                  _this5.toastSuccess(_this5.$t(\"message.delete_success\"));\n                }\n\n                _this5.initialize();\n\n                _this5.closeDelete();\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    deleteAll: function deleteAll() {\n      if (this.selected.length > 0) {\n        this.dialog.delete = true;\n      } else {\n        this.toastError(this.$t(\"message.alert_no_selected\"));\n      }\n    },\n    deleteAllConfirm: function deleteAllConfirm() {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!_this6.isDeleting) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 2:\n                _this6.isDeleting = true;\n                _this6.selected = _this6.selected.map(function (entry) {\n                  entry.isDelete = true;\n                  return entry;\n                });\n                _context5.next = 6;\n                return globalService.postData_Async(\"/api/_save/mail-templates\", _this6.selected);\n\n              case 6:\n                response = _context5.sent;\n\n                if (!response.state) {\n                  _this6.toastError(response.message);\n                }\n\n                if (response.state) {\n                  _this6.isDeleting = true;\n\n                  _this6.toastSuccess(_this6.$t(\"message.delete_success\"));\n                }\n\n                _this6.selected = [];\n                _this6.isDeleting = false;\n\n                _this6.initialize();\n\n                _this6.closeDeleteAll();\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    close: function close() {\n      var _this7 = this;\n\n      this.dialog.edit = false;\n      this.errorMessage = \"\";\n      this.errorMessageDes = \"\";\n      this.$nextTick(function () {\n        _this7.editedItem = Object.assign({}, _this7.defaultItem);\n        _this7.editedIndex = -1;\n      });\n    },\n    closeView: function closeView() {\n      var _this8 = this;\n\n      this.dialog.view = false;\n      this.$nextTick(function () {\n        _this8.editedItem = Object.assign({}, _this8.defaultItem);\n        _this8.editedIndex = -1;\n      });\n    },\n    closeDelete: function closeDelete() {\n      var _this9 = this;\n\n      this.dialog.delete = false;\n      this.$nextTick(function () {\n        _this9.editedItem = Object.assign({}, _this9.defaultItem);\n        _this9.editedIndex = -1;\n      });\n    },\n    closeDeleteAll: function closeDeleteAll() {\n      this.dialog.delete = false;\n    },\n    onKeyUp: function onKeyUp() {\n      if (this.editedItem.templateFormName != \"\" || this.editedItem.templateFormName.length < 255) {\n        this.errorMessage = \"\";\n      }\n\n      if (this.editedItem.templateFormName.length > 255) {\n        this.errorMessage = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpDes: function onKeyUpDes() {\n      if (this.editedItem.description != \"\" || this.editedItem.description.length < 255) {\n        this.errorMessageDes = \"\";\n      }\n\n      if (this.editedItem.description.length > 255) {\n        this.errorMessageDes = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpSearchForTemplateFormCode: function onKeyUpSearchForTemplateFormCode() {\n      if (this.mailTemplateCode != \"\" || this.mailTemplateCode.length < 255) {\n        this.errorMessageSearchTemplateMailCode = \"\";\n      }\n\n      if (this.mailTemplateCode.length > 255) {\n        this.errorMessageSearchTemplateMailCode = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpSearchForTemplateFormName: function onKeyUpSearchForTemplateFormName() {\n      if (this.mailTemplateName != \"\" || this.mailTemplateName.length < 255) {\n        this.errorMessageSearchTemplateMailName = \"\";\n      }\n\n      if (this.mailTemplateName.length > 255) {\n        this.errorMessageSearchTemplateMailName = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    onKeyUpSearchForCreatedName: function onKeyUpSearchForCreatedName() {\n      if (this.createdName != \"\" || this.createdName.length < 255) {\n        this.errorMessageSearchCreatedName = \"\";\n      }\n\n      if (this.createdName.length > 255) {\n        this.errorMessageSearchCreatedName = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    sortList: function sortList(arr) {\n      return arr.sort(function (a, b) {\n        return moment(b.createdDate).toDate().getTime() - moment(a.createdDate).toDate().getTime();\n      });\n    },\n    onKeyUpForSearchAll: function onKeyUpForSearchAll() {\n      if (this.search != \"\" || this.search.length < 255) {\n        this.errorMessageSearchAll = \"\";\n      }\n\n      if (this.search.length > 255) {\n        this.errorMessageSearchAll = this.$t(\"message.maxlength_required_255\");\n      }\n    },\n    customFilter: function customFilter(value, search, item) {\n      return !!search && this.match(item, search.trim().replace(/\\s+/g, \" \"));\n    },\n    onSaveTemplateForm: function onSaveTemplateForm(value) {\n      var index = this.templateMails.findIndex(function (entry) {\n        return entry.id == value.id;\n      });\n\n      if (index == -1) {\n        this.templateMails.push(value);\n      } else {\n        this.templateMails[index] = value;\n      }\n\n      this.onSaveDialog();\n      this.initialize();\n    },\n    onClose: function onClose(value) {\n      if (value) {\n        this.dialog.edit = false;\n        this.dialog.view = false;\n        this.dialog.delete = false;\n      }\n    },\n    _downloadFileUrl: function _downloadFileUrl(item) {\n      if (!item || !item.id) {\n        return;\n      }\n\n      if (!this.files[item.id]) {\n        return;\n      }\n\n      var description = JSON.parse(this.files[item.id].description);\n      return administratorAPI.FullAPI_DownloadFile(this.files[item.id].idInFileService, encodeURIComponent(this.files[item.id].fileName), this.files[item.id].fileExtension, description.contentType);\n    },\n    downloadFileUrl: function downloadFileUrl(item) {\n      if (!item || !item.id) {\n        return;\n      }\n\n      if (!this.files[item.id]) {\n        return;\n      }\n\n      return this._downloadFileUrl(item);\n    },\n    onConfirmDelete: function onConfirmDelete(value) {\n      if (!value) {\n        this.onCloseDialog();\n      } else {\n        if (this.selected) {\n          this.deleteAllConfirm();\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","components","EditTemplateFormVue","VueDocPreview","VuePerfectScrollbar","DeleteDialogVue","BreadcrumbsVue","pdf","data","errorMessage","errorMessageDes","errorMessageSearchTemplateMailCode","errorMessageSearchTemplateMailName","errorMessageSearchCreatedName","errorMessageSearchAll","user_current","mailTemplateCode","mailTemplateName","createdName","dateFormat","createdDate","modifiedDate","modifiedName","description","isActive","filterItems","singleSelect","selected","dialog","view","edit","delete","updateItem","search","isDeleting","isSaving","showPicker","showModifyDatePicker","headers","text","value","filter","toLocaleUpperCase","includes","trim","replace","formatter","x","sortable","templateMails","editedIndex","editedItem","id","subject","contentFile","mappingInfo","createdId","createdOrgName","createdRankName","modifiedId","isDelete","defaultItem","files","computed","formTitle","form","templateFormName","formatDateFns","moment","formatModifyDateFns","watch","val","created","methods","initialize","globalService","administratorAPI","response","editItemV2","item","path","append","editItem","array","console","viewItem","format","deleteItem","deleteItemConfirm","deleteAll","deleteAllConfirm","entry","close","closeView","closeDelete","closeDeleteAll","onKeyUp","onKeyUpDes","onKeyUpSearchForTemplateFormCode","onKeyUpSearchForTemplateFormName","onKeyUpSearchForCreatedName","sortList","arr","onKeyUpForSearchAll","customFilter","onSaveTemplateForm","onClose","_downloadFileUrl","encodeURIComponent","downloadFileUrl","onConfirmDelete"],"sourceRoot":"src/views/modules/administrator/TemplateMail","sources":["ListTemplateMail.vue"],"sourcesContent":["<template>\r\n\t<v-card elevation=\"0\">\r\n\t\t<BreadcrumbsVue />\r\n\t\t<v-dialog v-model=\"dialog.view\" persistent width=\"fit-content\">\r\n\t\t\t<v-card>\r\n\t\t\t\t<v-toolbar>\r\n\t\t\t\t\t<v-toolbar-title>\r\n\t\t\t\t\t\t{{ $t(\"label.detail\") }}\r\n\t\t\t\t\t</v-toolbar-title>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn icon @click=\"dialog.view = false\">\r\n\t\t\t\t\t\t<v-icon>mdi-close</v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-toolbar>\r\n\t\t\t\t<VuePerfectScrollbar class=\"h-70\">\r\n\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t<v-container>\r\n\t\t\t\t\t\t\t<v-list-item-content>\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t><b>{{ $t(\"label.code_form\") }}</b\r\n\t\t\t\t\t\t\t\t\t>:\r\n\t\t\t\t\t\t\t\t\t<i>{{ editedItem.mailTemplateCode }}</i>\r\n\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t><b>{{ $t(\"label.name_form\") }}</b\r\n\t\t\t\t\t\t\t\t\t>:\r\n\t\t\t\t\t\t\t\t\t<i>{{\r\n\t\t\t\t\t\t\t\t\t\teditedItem.mailTemplateName\r\n\t\t\t\t\t\t\t\t\t}}</i></v-list-item-title\r\n\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t><b>{{ $t(\"label.created_name\") }}</b>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<i>\r\n\t\t\t\t\t\t\t\t\t\t{{ editedItem.createdName }}\r\n\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t><b>{{ $t(\"label.created_date\") }}</b\r\n\t\t\t\t\t\t\t\t\t>:\r\n\t\t\t\t\t\t\t\t\t<i>{{\r\n\t\t\t\t\t\t\t\t\t\teditedItem.createdDate\r\n\t\t\t\t\t\t\t\t\t}}</i></v-list-item-title\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\"\r\n\t\t\t\t\t\t\t\t\t><b>{{ $t(\"label.modified_date\") }}</b\r\n\t\t\t\t\t\t\t\t\t>:\r\n\t\t\t\t\t\t\t\t\t<i>{{\r\n\t\t\t\t\t\t\t\t\t\teditedItem.modifiedDate\r\n\t\t\t\t\t\t\t\t\t}}</i></v-list-item-title\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"mb-2 pt-2\">\r\n\t\t\t\t\t\t\t\t\t<v-checkbox\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.isActive\"\r\n\t\t\t\t\t\t\t\t\t\t:label=\"$t('label.is_active')\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</v-checkbox>\r\n\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t<pdf\r\n\t\t\t\t\t\t\t\t\tv-if=\"\r\n\t\t\t\t\t\t\t\t\t\tfiles[editedItem.id] &&\r\n\t\t\t\t\t\t\t\t\t\tfiles[editedItem.id].fileExtension ==\r\n\t\t\t\t\t\t\t\t\t\t\t'pdf'\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t:src=\"_downloadFileUrl(editedItem)\"\r\n\t\t\t\t\t\t\t\t></pdf>\r\n\t\t\t\t\t\t\t\t<VueDocPreview\r\n\t\t\t\t\t\t\t\t\tv-else-if=\"downloadFileUrl(editedItem)\"\r\n\t\t\t\t\t\t\t\t\t:value=\"downloadFileUrl(editedItem)\"\r\n\t\t\t\t\t\t\t\t\ttype=\"office\"\r\n\t\t\t\t\t\t\t\t></VueDocPreview>\r\n\t\t\t\t\t\t\t\t<span v-else>\r\n\t\t\t\t\t\t\t\t\t{{ $t(\"error.can_not_support\") }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</v-list-item-content>\r\n\t\t\t\t\t\t</v-container>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</VuePerfectScrollbar>\r\n\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\tdark\r\n\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t@click=\"closeView\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon>mdi-close</v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.close\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-card-actions>\r\n\t\t\t</v-card>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog v-model=\"dialog.delete\" persistent width=\"fit-content\">\r\n\t\t\t<DeleteDialogVue\r\n\t\t\t\t@close=\"onCloseDialog\"\r\n\t\t\t\t@confirmDelete=\"onConfirmDelete\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-dialog v-model=\"dialog.edit\" persistent width=\"60vw\">\r\n\t\t\t<EditTemplateFormVue\r\n\t\t\t\t:templateFormDto=\"editedItem\"\r\n\t\t\t\t:oldFile=\"files[editedItem.id]\"\r\n\t\t\t\t@close=\"onClose\"\r\n\t\t\t\t@save=\"onSaveTemplateForm\"\r\n\t\t\t/>\r\n\t\t</v-dialog>\r\n\t\t<v-data-table\r\n\t\t\tv-model=\"selected\"\r\n\t\t\t:headers=\"headers\"\r\n\t\t\t:items=\"templateMails\"\r\n\t\t\t:single-select=\"singleSelect\"\r\n\t\t\titem-key=\"id\"\r\n\t\t\tshow-select\r\n\t\t\tclass=\"grey lighten-5\"\r\n\t\t\t:search=\"search\"\r\n\t\t\t:custom-filter=\"customFilter\"\r\n\t\t\t:loading=\"!templateMails\"\r\n\t\t\t:loading-text=\"$t('label.loading')\"\r\n\t\t\t:no-data-text=\"$t('message.no_data')\"\r\n\t\t\t:no-results-text=\"$t('message.no_results')\"\r\n\t\t>\r\n\t\t\t<template v-slot:top=\"{ on, attrs }\">\r\n\t\t\t\t<v-card-title class=\"p-0 w-full\">\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\tto=\"tao-moi\"\r\n\t\t\t\t\t\ttext\r\n\t\t\t\t\t\tappend\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-plus-circle </v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.create\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-btn\r\n\t\t\t\t\t\televation=\"0\"\r\n\t\t\t\t\t\tclass=\"rounded-pill\"\r\n\t\t\t\t\t\t@click=\"deleteAll\"\r\n\t\t\t\t\t\ttext\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-icon> mdi-trash-can-outline </v-icon>\r\n\t\t\t\t\t\t{{ $t(\"button.delete_all\") }}\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<v-btn icon @click=\"filterExist = !filterExist\">\r\n\t\t\t\t\t\t<v-icon>mdi-filter </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-card-title>\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t</template>\r\n\r\n\t\t\t<template v-slot:[`body.prepend`]>\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t<tr v-if=\"filterExist\">\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"mailTemplateName\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.name_form')\"\r\n\t\t\t\t\t\t\t@keyup=\"onKeyUpSearchForTemplateFormName\"\r\n\t\t\t\t\t\t\t:error-messages=\"errorMessageSearchTemplateMailName\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"description\"\r\n\t\t\t\t\t\t\ttype=\"string\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.description')\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tv-model=\"modifiedName\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t:label=\"$t('label.description')\"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<v-menu\r\n\t\t\t\t\t\t\tv-model=\"showModifyDatePicker\"\r\n\t\t\t\t\t\t\t:close-on-content-click=\"false\"\r\n\t\t\t\t\t\t\tmax-width=\"290\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t:value=\"formatDate(modifiedDate)\"\r\n\t\t\t\t\t\t\t\t\tclearable\r\n\t\t\t\t\t\t\t\t\t:label=\"$t('label.modified_date')\"\r\n\t\t\t\t\t\t\t\t\tclass=\"mt-2\"\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\r\n\t\t\t\t\t\t\t\t\tv-on=\"on\"\r\n\t\t\t\t\t\t\t\t\t@click:clear=\"modifiedDate = null\"\r\n\t\t\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<v-date-picker\r\n\t\t\t\t\t\t\t\tv-model=\"modifiedDate\"\r\n\t\t\t\t\t\t\t\t@change=\"showModifyDatePicker = false\"\r\n\t\t\t\t\t\t\t\tno-title\r\n\t\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\t></v-date-picker>\r\n\t\t\t\t\t\t</v-menu>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:[`item.actions`]=\"{ item }\">\r\n\t\t\t\t<div class=\"d-flex\" style=\"min-width: fit-content\">\r\n\t\t\t\t\t<v-btn color=\"blue darken-1\" icon @click=\"editItemV2(item)\">\r\n\t\t\t\t\t\t<v-icon small> mdi-pencil </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t<v-btn color=\"red darken-1\" icon @click=\"deleteItem(item)\">\r\n\t\t\t\t\t\t<v-icon small> mdi-trash-can-outline </v-icon>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<template\r\n\t\t\t\tv-for=\"header in headers.filter((header) =>\r\n\t\t\t\t\theader.hasOwnProperty('formatter'),\r\n\t\t\t\t)\"\r\n\t\t\t\tv-slot:[`item.${header.value}`]=\"{ headers, value }\"\r\n\t\t\t>\r\n\t\t\t\t{{ header.formatter(value) }}\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</v-card>\r\n</template>\r\n<script>\r\nimport globalService from \"@/services/global.service\";\r\nimport moment from \"moment\";\r\nimport EditTemplateFormVue from \"./EditTemplateForm.vue\";\r\nimport VueDocPreview from \"vue-doc-preview\";\r\nimport administratorAPI from \"../administrator.api\";\r\nimport VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport DeleteDialogVue from \"@/components/DeleteDialog.vue\";\r\nimport BreadcrumbsVue from \"@/components/Breadcrumbs.vue\";\r\nimport pdf from \"pdfvuer\";\r\nexport default {\r\n\tname: \"ListTemplateMailVue\",\r\n\tcomponents: {\r\n\t\tEditTemplateFormVue,\r\n\t\tVueDocPreview,\r\n\t\tVuePerfectScrollbar,\r\n\t\tDeleteDialogVue,\r\n\t\tBreadcrumbsVue,\r\n\t\tpdf,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\terrorMessage: \"\",\r\n\t\t\terrorMessageDes: \"\",\r\n\t\t\terrorMessageSearchTemplateMailCode: \"\",\r\n\t\t\terrorMessageSearchTemplateMailName: \"\",\r\n\t\t\terrorMessageSearchCreatedName: \"\",\r\n\t\t\terrorMessageSearchAll: \"\",\r\n\t\t\tuser_current: this.getUserInfo(),\r\n\t\t\tmailTemplateCode: \"\",\r\n\t\t\tmailTemplateName: \"\",\r\n\t\t\tcreatedName: \"\",\r\n\t\t\tdateFormat: \"DD/MM/yyyy\",\r\n\t\t\tcreatedDate: null,\r\n\t\t\tmodifiedDate: null,\r\n\t\t\tmodifiedName: null,\r\n\t\t\tdescription: null,\r\n\t\t\tisActive: this.$t(\"label.show_all\"),\r\n\t\t\tfilterItems: [\r\n\t\t\t\tthis.$t(\"label.show_all\"),\r\n\t\t\t\tthis.$t(\"label.used\"),\r\n\t\t\t\tthis.$t(\"label.unused\"),\r\n\t\t\t],\r\n\t\t\tsingleSelect: false,\r\n\t\t\tselected: [],\r\n\t\t\tdialog: {\r\n\t\t\t\tview: false,\r\n\t\t\t\tedit: false,\r\n\t\t\t\tdelete: false,\r\n\t\t\t},\r\n\t\t\tupdateItem: {},\r\n\t\t\tsearch: \"\",\r\n\t\t\tisDeleting: false,\r\n\t\t\tisSaving: false,\r\n\t\t\tshowPicker: false,\r\n\t\t\tshowModifyDatePicker: false,\r\n\t\t\theaders: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.mail_template_name\"),\r\n\t\t\t\t\tvalue: \"mailTemplateName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.mailTemplateName || !value) return true;\r\n\r\n\t\t\t\t\t\treturn value\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.mailTemplateName\r\n\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.replace(/\\s+/g, \" \"),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.description\"),\r\n\t\t\t\t\tvalue: \"description\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.description || !value) return true;\r\n\r\n\t\t\t\t\t\treturn value\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.description\r\n\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.replace(/\\s+/g, \" \"),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_name\"),\r\n\t\t\t\t\tvalue: \"modifiedName\",\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.createdName || !value) return true;\r\n\r\n\t\t\t\t\t\treturn value\r\n\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t.includes(\r\n\t\t\t\t\t\t\t\tthis.createdName\r\n\t\t\t\t\t\t\t\t\t.trim()\r\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()\r\n\t\t\t\t\t\t\t\t\t.replace(/\\s+/g, \" \"),\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.modified_date\"),\r\n\t\t\t\t\tvalue: \"modifiedDate\",\r\n\t\t\t\t\tformatter: (x) =>\r\n\t\t\t\t\t\tx ? moment(x).format(this.dateFormat) : null,\r\n\t\t\t\t\tfilter: (value) => {\r\n\t\t\t\t\t\tif (!this.modifiedDate) return true;\r\n\t\t\t\t\t\treturn value.includes(this.modifiedDate);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t(\"label.manipulation\"),\r\n\t\t\t\t\tvalue: \"actions\",\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\ttemplateMails: [],\r\n\t\t\teditedIndex: -1,\r\n\t\t\teditedItem: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tmailTemplateCode: \"\",\r\n\t\t\t\tmailTemplateName: \"\",\r\n\t\t\t\tsubject: \"\",\r\n\t\t\t\tcontentFile: \"\",\r\n\t\t\t\tmappingInfo: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tcreatedId: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tcreatedOrgName: \"\",\r\n\t\t\t\tcreatedRankName: \"\",\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tmodifiedId: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t},\r\n\t\t\tdefaultItem: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tmailTemplateCode: \"\",\r\n\t\t\t\tmailTemplateName: \"\",\r\n\t\t\t\tsubject: \"\",\r\n\t\t\t\tcontentFile: \"\",\r\n\t\t\t\tmappingInfo: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tcreatedId: null,\r\n\t\t\t\tcreatedName: \"\",\r\n\t\t\t\tcreatedOrgName: \"\",\r\n\t\t\t\tcreatedRankName: \"\",\r\n\t\t\t\tcreatedDate: null,\r\n\t\t\t\tmodifiedId: null,\r\n\t\t\t\tmodifiedName: \"\",\r\n\t\t\t\tmodifiedDate: null,\r\n\t\t\t\tisActive: true,\r\n\t\t\t\tisDelete: false,\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @var AttachmentFileDto[] files\r\n\t\t\t */\r\n\t\t\tfiles: {},\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tformTitle() {\r\n\t\t\treturn this.editedIndex === -1\r\n\t\t\t\t? this.$t(\"title.create_form\")\r\n\t\t\t\t: this.$t(\"title.edit_form\");\r\n\t\t},\r\n\t\tform() {\r\n\t\t\treturn {\r\n\t\t\t\ttemplateFormName: this.editedItem.templateFormName,\r\n\t\t\t};\r\n\t\t},\r\n\t\tformatDateFns() {\r\n\t\t\treturn this.createdDate\r\n\t\t\t\t? moment(this.createdDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t\tformatModifyDateFns() {\r\n\t\t\treturn this.modifiedDate\r\n\t\t\t\t? moment(this.modifiedDate).format(this.dateFormat)\r\n\t\t\t\t: \"\";\r\n\t\t},\r\n\t},\r\n\r\n\twatch: {\r\n\t\t\"dialog.edit\"(val) {\r\n\t\t\tval || this.close();\r\n\t\t},\r\n\t\t\"dialog.delete\"(val) {\r\n\t\t\tval || this.closeDelete();\r\n\t\t},\r\n\t\t\"dialog.view\"(val) {\r\n\t\t\tval || this.closeView();\r\n\t\t},\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tthis.initialize();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync initialize() {\r\n\t\t\tthis.files = {};\r\n\t\t\tlet response = await globalService.getData_Async(\r\n\t\t\t\tadministratorAPI.API_GetAllMailTemplate(),\r\n\t\t\t);\r\n\t\t\tif (!response.state) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.templateMails = response.data.filter((entry) => {\r\n\t\t\t\treturn !entry.isDelete;\r\n\t\t\t});\r\n\t\t\tthis.sortList(this.templateMails);\r\n\t\t},\r\n\t\teditItemV2(item) {\r\n\t\t\tthis.$router.push({ path: `${item.id}`, append: true });\r\n\t\t},\r\n\t\tasync editItem(item) {\r\n\t\t\tthis.editedIndex = this.templateMails.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tif (this.editedItem.id && !this.files[this.editedItem.id]) {\r\n\t\t\t\tlet response;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_GetAllAttachmentFileByTemplateFormId(\r\n\t\t\t\t\t\t\titem.id,\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!response) {\r\n\t\t\t\t\t\tthis.toastError(this.$t(\"error.load_file\"));\r\n\t\t\t\t\t} else if (!response.state) {\r\n\t\t\t\t\t\tthis.toastError(response.messgage);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet array = response.data;\r\n\t\t\t\t\t\tarray.sort((a, b) => b.id - a.id);\r\n\t\t\t\t\t\tthis.files[item.id] = array[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t// this.toastError(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.dialog.edit = true;\r\n\t\t},\r\n\t\tasync viewItem(item) {\r\n\t\t\tthis.editedIndex = this.templateMails.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tif (!this.files[this.editedItem.id]) {\r\n\t\t\t\tlet response;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresponse = await globalService.getData_Async(\r\n\t\t\t\t\t\tadministratorAPI.API_GetAllAttachmentFileByTemplateFormId(\r\n\t\t\t\t\t\t\titem.id,\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (!response) {\r\n\t\t\t\t\t\tthis.toastError(this.$t(\"error.load_file\"));\r\n\t\t\t\t\t} else if (!response.state) {\r\n\t\t\t\t\t\tthis.toastError(response.messgage);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet array = response.data;\r\n\t\t\t\t\t\tarray.sort((a, b) => b.id - a.id);\r\n\t\t\t\t\t\tthis.files[item.id] = array[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tthis.toastError(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.editedItem.createdDate = moment(\r\n\t\t\t\tthis.editedItem.createdDate,\r\n\t\t\t).format(this.dateFormat);\r\n\t\t\tthis.editedItem.modifiedDate = moment(\r\n\t\t\t\tthis.editedItem.modifiedDate,\r\n\t\t\t).format(this.dateFormat);\r\n\t\t\tthis.dialog.view = true;\r\n\t\t},\r\n\r\n\t\tdeleteItem(item) {\r\n\t\t\tthis.selected = [item];\r\n\t\t\tthis.editedIndex = this.templateMails.indexOf(item);\r\n\t\t\tthis.editedItem = Object.assign({}, item);\r\n\t\t\tthis.dialog.delete = true;\r\n\t\t},\r\n\r\n\t\tasync deleteItemConfirm() {\r\n\t\t\tthis.updateItem.isDelete = true;\r\n\t\t\tlet response = await globalService.putData_Async(\r\n\t\t\t\t\"/api/mail-templates/\" + this.updateItem.id,\r\n\t\t\t\tthis.updateItem,\r\n\t\t\t);\r\n\t\t\tif (!response.state) {\r\n\t\t\t\tthis.toastError(this.$t(\"message.delete_error\"));\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t\t}\r\n\t\t\tthis.initialize();\r\n\t\t\tthis.closeDelete();\r\n\t\t},\r\n\t\tdeleteAll() {\r\n\t\t\tif (this.selected.length > 0) {\r\n\t\t\t\tthis.dialog.delete = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.toastError(this.$t(\"message.alert_no_selected\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteAllConfirm() {\r\n\t\t\tif (this.isDeleting) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDeleting = true;\r\n\t\t\tthis.selected = this.selected.map((entry) => {\r\n\t\t\t\tentry.isDelete = true;\r\n\t\t\t\treturn entry;\r\n\t\t\t});\r\n\t\t\tlet response = await globalService.postData_Async(\r\n\t\t\t\t\"/api/_save/mail-templates\",\r\n\t\t\t\tthis.selected,\r\n\t\t\t);\r\n\t\t\tif (!response.state) {\r\n\t\t\t\tthis.toastError(response.message);\r\n\t\t\t}\r\n\t\t\tif (response.state) {\r\n\t\t\t\tthis.isDeleting = true;\r\n\t\t\t\tthis.toastSuccess(this.$t(\"message.delete_success\"));\r\n\t\t\t}\r\n\r\n\t\t\tthis.selected = [];\r\n\t\t\tthis.isDeleting = false;\r\n\t\t\tthis.initialize();\r\n\t\t\tthis.closeDeleteAll();\r\n\t\t},\r\n\r\n\t\tclose() {\r\n\t\t\tthis.dialog.edit = false;\r\n\t\t\tthis.errorMessage = \"\";\r\n\t\t\tthis.errorMessageDes = \"\";\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseView() {\r\n\t\t\tthis.dialog.view = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDelete() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\r\n\t\t\t\tthis.editedIndex = -1;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcloseDeleteAll() {\r\n\t\t\tthis.dialog.delete = false;\r\n\t\t},\r\n\t\tonKeyUp() {\r\n\t\t\tif (\r\n\t\t\t\tthis.editedItem.templateFormName != \"\" ||\r\n\t\t\t\tthis.editedItem.templateFormName.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessage = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.editedItem.templateFormName.length > 255) {\r\n\t\t\t\tthis.errorMessage = this.$t(\"message.maxlength_required_255\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpDes() {\r\n\t\t\tif (\r\n\t\t\t\tthis.editedItem.description != \"\" ||\r\n\t\t\t\tthis.editedItem.description.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessageDes = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.editedItem.description.length > 255) {\r\n\t\t\t\tthis.errorMessageDes = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForTemplateFormCode() {\r\n\t\t\tif (\r\n\t\t\t\tthis.mailTemplateCode != \"\" ||\r\n\t\t\t\tthis.mailTemplateCode.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessageSearchTemplateMailCode = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.mailTemplateCode.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchTemplateMailCode = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForTemplateFormName() {\r\n\t\t\tif (\r\n\t\t\t\tthis.mailTemplateName != \"\" ||\r\n\t\t\t\tthis.mailTemplateName.length < 255\r\n\t\t\t) {\r\n\t\t\t\tthis.errorMessageSearchTemplateMailName = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.mailTemplateName.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchTemplateMailName = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyUpSearchForCreatedName() {\r\n\t\t\tif (this.createdName != \"\" || this.createdName.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchCreatedName = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.createdName.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchCreatedName = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsortList(arr) {\r\n\t\t\treturn arr.sort((a, b) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tmoment(b.createdDate).toDate().getTime() -\r\n\t\t\t\t\tmoment(a.createdDate).toDate().getTime()\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t\tonKeyUpForSearchAll() {\r\n\t\t\tif (this.search != \"\" || this.search.length < 255) {\r\n\t\t\t\tthis.errorMessageSearchAll = \"\";\r\n\t\t\t}\r\n\t\t\tif (this.search.length > 255) {\r\n\t\t\t\tthis.errorMessageSearchAll = this.$t(\r\n\t\t\t\t\t\"message.maxlength_required_255\",\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcustomFilter(value, search, item) {\r\n\t\t\treturn (\r\n\t\t\t\t!!search && this.match(item, search.trim().replace(/\\s+/g, \" \"))\r\n\t\t\t);\r\n\t\t},\r\n\t\tonSaveTemplateForm(value) {\r\n\t\t\tlet index = this.templateMails.findIndex((entry) => {\r\n\t\t\t\treturn entry.id == value.id;\r\n\t\t\t});\r\n\t\t\tif (index == -1) {\r\n\t\t\t\tthis.templateMails.push(value);\r\n\t\t\t} else {\r\n\t\t\t\tthis.templateMails[index] = value;\r\n\t\t\t}\r\n\t\t\tthis.onSaveDialog();\r\n\t\t\tthis.initialize();\r\n\t\t},\r\n\t\tonClose(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.dialog.edit = false;\r\n\t\t\t\tthis.dialog.view = false;\r\n\t\t\t\tthis.dialog.delete = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_downloadFileUrl(item) {\r\n\t\t\tif (!item || !item.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.files[item.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet description = JSON.parse(this.files[item.id].description);\r\n\t\t\treturn administratorAPI.FullAPI_DownloadFile(\r\n\t\t\t\tthis.files[item.id].idInFileService,\r\n\t\t\t\tencodeURIComponent(this.files[item.id].fileName),\r\n\t\t\t\tthis.files[item.id].fileExtension,\r\n\t\t\t\tdescription.contentType,\r\n\t\t\t);\r\n\t\t},\r\n\t\tdownloadFileUrl(item) {\r\n\t\t\tif (!item || !item.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.files[item.id]) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn this._downloadFileUrl(item);\r\n\t\t},\r\n\t\tonConfirmDelete(value) {\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.onCloseDialog();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.selected) {\r\n\t\t\t\t\tthis.deleteAllConfirm();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style>\r\ntbody tr:nth-of-type(odd) {\r\n\tbackground-color: #ffffff;\r\n}\r\n.v-picker__title__btn--active {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}