{"ast":null,"code":"import _toConsumableArray from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/nam/OneDrive/M\\xE1y t\\xEDnh/New folder/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport copy from 'fast-copy';\nexport default {\n  data: function data() {\n    return {\n      currentOneOf: null,\n      currentTab: null,\n      showCurrentOneOf: true,\n      subModels: {},\n      // a container for objects from root subSchemass and allOfs\n      currentStep: 1,\n      steps: []\n    };\n  },\n  computed: {\n    isObjectContainer: function isObjectContainer() {\n      if (!this.fullSchema) return;\n      if (this.fullSchema.type !== 'object' && !Array.isArray(this.fullSchema.items)) return false;\n      if (this.isSelectProp) return false;\n      if (this.isFileProp) return false;\n      return true;\n    },\n    subSchemas: function subSchemas() {\n      if (!this.fullSchema) return;\n      return this.fullSchema.oneOf || this.fullSchema.anyOf;\n    },\n    subSchemasConstProp: function subSchemasConstProp() {\n      if (!this.subSchemas) return;\n      var props = this.subSchemas[0].properties;\n      var key = Object.keys(props).find(function (p) {\n        return !!props[p].const;\n      });\n      if (!key) return;\n      return _objectSpread(_objectSpread({}, props[key]), {}, {\n        key: key,\n        htmlDescription: this.fullOptions.memMarkdown(props[key].description)\n      });\n    },\n    subSchemasRequired: function subSchemasRequired() {\n      var _this = this;\n\n      if (!this.subSchemas || !this.subSchemasConstProp) return false;\n      if (this.fullSchema.oneOf) return true;\n      if (this.fullSchema.anyOf && this.fullSchema.required && this.fullSchema.required.find(function (r) {\n        return r === _this.oneOfConstProp.key;\n      })) return true;\n    },\n    subSchemasRules: function subSchemasRules() {\n      var _this2 = this;\n\n      if (!this.fullSchema) return;\n      var rules = [];\n      if (this.subSchemasRequired) rules.push(function (val) {\n        return val !== undefined && val !== null && val !== '' || _this2.fullOptions.messages.required;\n      });\n      return rules;\n    }\n  },\n  watch: {\n    currentOneOf: function currentOneOf(newVal, oldVal) {\n      var _this3 = this;\n\n      // use this boolean to force removing then re-creating the object property\n      // based on the currentOneOf sub schema. If we don't the component is reused and reactivity creates some difficult bugs.\n      this.showCurrentOneOf = false;\n      this.$nextTick(function () {\n        _this3.showCurrentOneOf = true;\n        if (!_this3.currentOneOf) _this3.$set(_this3.subModels, 'currentOneOf', {});else _this3.input(_this3.fixProperties(_this3.value), false, false);\n\n        if (_this3.triggerChangeCurrentOneOf) {\n          _this3.$nextTick(function () {\n            _this3.triggerChangeCurrentOneOf = false;\n\n            _this3.change();\n          });\n        }\n      });\n    },\n    subModels: {\n      handler: function handler() {\n        this.input(this.fixProperties(this.value), false, false);\n      },\n      deep: true\n    }\n  },\n  methods: {\n    isSection: function isSection(prop, insideAllOf) {\n      if (!prop) return false;\n      if (!prop.title) return false;\n      if (prop['x-fromUrl'] || prop['x-fromData'] || prop['contentMediaType'] || prop['x-display'] === 'file') return false;\n      if (prop.allOf) return true;\n      if (insideAllOf && (prop.anyOf || prop.oneOf)) return true;\n      if (prop.properties || Array.isArray(prop.items)) return true;\n      return false;\n    },\n    initObjectContainer: function initObjectContainer(model) {\n      var _this4 = this;\n\n      if (this.fullSchema.type !== 'object') return; // Init subModels for allOf subschemas\n\n      if (this.fullSchema.allOf) {\n        this.fullSchema.allOf.forEach(function (allOf, i) {\n          _this4.$set(_this4.subModels, 'allOf-' + i, copy(model));\n        });\n      } // Case of a sub type selection based on a subSchemas\n\n\n      this.currentOneOf = null;\n\n      if (this.subSchemas && !this.currentOneOf && this.subSchemasConstProp) {\n        if (model && model[this.subSchemasConstProp.key]) {\n          this.currentOneOf = this.subSchemas.find(function (item) {\n            return item.properties[_this4.subSchemasConstProp.key].const === model[_this4.subSchemasConstProp.key];\n          });\n        } else if (this.fullSchema.default) {\n          this.currentOneOf = this.subSchemas.find(function (item) {\n            return item.properties[_this4.subSchemasConstProp.key].const === _this4.fullSchema.default[_this4.subSchemasConstProp.key];\n          });\n        }\n      } // Init subModel for current subSchemas\n\n\n      if (this.currentOneOf) {\n        this.$set(this.subModels, 'currentOneOf', copy(model));\n      } else {\n        this.$set(this.subModels, 'currentOneOf', {});\n      }\n    },\n    renderStepperStep: function renderStepperStep(h, schema, subModelKey, childProp, step, isLast) {\n      if (!childProp) return;\n      var modelKey = subModelKey || schema.key;\n      var hasError = this.dedupChildrenWithValidatedErrors.includes(modelKey);\n      var props = {\n        step: step,\n        editable: step < this.currentStep,\n        complete: step < this.currentStep,\n        rules: [function () {\n          return !hasError;\n        }]\n      };\n      return [h('v-stepper-step', {\n        props: props\n      }, [schema.title]), isLast ? null : h('v-divider')];\n    },\n    renderSection: function renderSection(h, schema, subModelKey, childProp, step, isLast) {\n      var _this5 = this;\n\n      if (!childProp) return;\n      var modelKey = subModelKey || schema.key;\n      var key = 'section-' + modelKey;\n      if (schema['x-display'] === 'hidden' || schema.readOnly && this.fullOptions.hideReadOnly) return [childProp];\n\n      if (this.display === 'expansion-panels') {\n        return [h('v-expansion-panel', {\n          key: key\n        }, [h('v-expansion-panel-header', {\n          class: {\n            'error--text': this.dedupChildrenWithValidatedErrors.includes(modelKey)\n          }\n        }, [schema.title]), h('v-expansion-panel-content', {\n          props: {\n            eager: true\n          }\n        }, [childProp])])];\n      } else if (this.display === 'tabs') {\n        return [h('v-tab', {\n          key: key,\n          props: {\n            href: \"#tab-\".concat(this.fullOptions.idPrefix).concat(this.dashKey, \"-\").concat(modelKey)\n          }\n        }, [h('span', {\n          class: {\n            'error--text': this.dedupChildrenWithValidatedErrors.includes(modelKey)\n          }\n        }, [schema.title])]), h('v-tab-item', {\n          key: key,\n          props: {\n            value: \"tab-\".concat(this.fullOptions.idPrefix).concat(this.dashKey, \"-\").concat(modelKey),\n            eager: true\n          }\n        }, [h('v-card', {\n          props: {\n            tile: true,\n            flat: true\n          }\n        }, [h('v-card-text', [childProp])])])];\n      } else if (this.display === 'stepper' || this.display === 'vertical-stepper') {\n        return [h('v-stepper-content', {\n          key: key,\n          props: {\n            step: step,\n            eager: true\n          }\n        }, [h('v-card', {\n          props: {\n            tile: true,\n            flat: true\n          }\n        }, [h('v-card-text', {\n          class: {\n            'pa-0': true\n          }\n        }, [childProp]), isLast ? null : h('v-card-actions', {\n          class: {\n            'px-0': true\n          }\n        }, [h('v-btn', {\n          props: {\n            color: 'primary'\n          },\n          on: {\n            click: function click() {\n              if (childProp.componentInstance.validate(true)) {\n                _this5.currentStep += 1;\n              }\n            }\n          }\n        }, this.fullOptions.messages.stepperContinue)])])])];\n      } else {\n        return [h('v-row', {\n          key: key,\n          class: \"ma-0 \".concat(this.fullOptions.sectionsClass)\n        }, [h('span', {\n          class: 'py-2 ' + (this.fullOptions.sectionsTitlesClasses[this.sectionDepth] || this.fullOptions.sectionsTitlesClasses[this.fullOptions.sectionsTitlesClasses.length - 1])\n        }, [\"\".concat(schema.title, \"\\xA0\")]), childProp])];\n      }\n    },\n    renderChildProp: function renderChildProp(h, schema, subModelKey, sectionDepth, forceRequired) {\n      var _this6 = this;\n\n      this.objectContainerChildrenCount += 1;\n      var wrapper;\n      if (subModelKey) wrapper = this.subModels;else if (Array.isArray(this.value)) wrapper = _toConsumableArray(this.value);else wrapper = _objectSpread({}, this.value);\n      var modelKey = subModelKey || schema.key; // Manage default values\n\n      var value = wrapper[modelKey];\n      value = this.fixValueType(value, schema);\n\n      if (value === undefined) {\n        value = this.defaultValue(schema);\n        if (schema.default !== undefined) value = copy(schema.default);\n\n        if (value !== undefined && value !== null) {\n          this.$set(wrapper, modelKey, value);\n          if (!subModelKey) this.input(wrapper, false, false);\n        }\n      }\n\n      return h('v-jsf', {\n        props: {\n          schema: _objectSpread({\n            readOnly: this.fullSchema.readOnly\n          }, schema),\n          value: value,\n          modelRoot: this.modelRoot || this.value,\n          modelKey: modelKey,\n          parentKey: \"\".concat(this.fullKey, \".\"),\n          required: forceRequired || !!(this.fullSchema.required && this.fullSchema.required.includes(schema.key)),\n          options: _objectSpread(_objectSpread({}, this.fullOptions), {}, {\n            autofocus: this.fullOptions.autofocus && this.objectContainerChildrenCount === 1\n          }),\n          optionsRoot: this.initialOptions,\n          sectionDepth: sectionDepth,\n          sharedData: this.sharedData\n        },\n        class: this.fullOptions.childrenClass,\n        scopedSlots: this.childScopedSlots(modelKey),\n        key: modelKey,\n        on: {\n          error: function error(e) {\n            return _this6.$emit('error', e);\n          },\n          input: function input(v) {\n            if (v === undefined) {\n              // set empty value instead of deleting key in the special case of the parts\n              // of a tuple (except the last part), otherwise we move last parts of the array to the beginning of the array\n              if (Array.isArray(wrapper) && parseInt(modelKey) < wrapper.length - 1) {\n                _this6.$set(wrapper, modelKey, v);\n              } else {\n                _this6.$delete(wrapper, modelKey);\n              }\n            } else {\n              _this6.$set(wrapper, modelKey, v);\n            }\n\n            if (!subModelKey) _this6.input(wrapper, false, false);\n          },\n          change: function change(v) {\n            return _this6.change(false);\n          }\n        }\n      }, this.childSlots(h, schema.key));\n    },\n    renderObjectContainer: function renderObjectContainer(h) {\n      var _this7 = this;\n\n      if (!this.isObjectContainer) return;\n      if ([undefined, null].includes(this.value)) return [];\n      var flatChildren = [];\n      this.objectContainerChildrenCount = 0;\n      var sections = [];\n\n      if (this.fullSchema.properties) {\n        this.fullSchema.properties.forEach(function (schema) {\n          if (_this7.isSection(schema)) {\n            sections.push({\n              schema: schema,\n              subModelKey: null,\n              forceRequired: false\n            });\n          } else {\n            flatChildren.push(_this7.renderChildProp(h, schema, null, _this7.sectionDepth, false));\n          }\n        });\n      }\n\n      if (Array.isArray(this.fullSchema.items)) {\n        this.fullSchema.items.forEach(function (schema, i) {\n          var forceRequired = _this7.value.length > i || _this7.fullSchema.minItems && _this7.fullSchema.minItems > i;\n\n          if (_this7.isSection(schema)) {\n            sections.push({\n              schema: schema,\n              subModelKey: null,\n              forceRequired: forceRequired\n            });\n          } else {\n            flatChildren.push(_this7.renderChildProp(h, schema, null, _this7.sectionDepth, forceRequired));\n          }\n        });\n      }\n\n      if (this.fullSchema.allOf) {\n        this.fullSchema.allOf.forEach(function (allOf, i) {\n          var schema = _objectSpread(_objectSpread({}, allOf), {}, {\n            type: 'object',\n            key: '' + i\n          });\n\n          if (_this7.isSection(allOf, true)) {\n            sections.push({\n              schema: schema,\n              subModelKey: 'allOf-' + i,\n              forceRequired: false\n            });\n          } else {\n            flatChildren.push(_this7.renderChildProp(h, schema, 'allOf-' + i, _this7.sectionDepth));\n          }\n        });\n      }\n\n      var sectionsChildren = [];\n      var stepperSteps = [];\n      sections.forEach(function (section, i) {\n        var childProp = _this7.renderChildProp(h, section.schema, section.subModelKey, _this7.sectionDepth + 1, section.forceRequired);\n\n        sectionsChildren = sectionsChildren.concat(_this7.renderSection(h, section.schema, section.subModelKey, childProp, i + 1, i === sections.length - 1));\n        if (_this7.display === 'stepper' || _this7.display === 'vertical-stepper') stepperSteps = stepperSteps.concat(_this7.renderStepperStep(h, section.schema, section.subModelKey, childProp, i + 1, i === sections.length - 1));\n      });\n\n      if (this.display === 'expansion-panels' && sectionsChildren.length) {\n        var props = _objectSpread(_objectSpread({}, this.fullOptions.expansionPanelsProps), this.fullSchema['x-props']);\n\n        sectionsChildren = [h('v-expansion-panels', {\n          props: props\n        }, sectionsChildren)];\n      }\n\n      if (this.display === 'tabs' && sectionsChildren.length) {\n        var _props = _objectSpread(_objectSpread({}, this.fullOptions.tabsProps), this.fullSchema['x-props']);\n\n        if (this.currentTab && this.dedupChildrenWithValidatedErrors.includes(this.currentTab)) {\n          _props.sliderColor = 'error';\n        }\n\n        sectionsChildren = [h('v-tabs', {\n          props: _props,\n          on: {\n            change: function change(value) {\n              _this7.currentTab = value.split('-').pop();\n            }\n          }\n        }, sectionsChildren)];\n      }\n\n      if (this.display === 'stepper' && sectionsChildren.length) {\n        var _props2 = _objectSpread(_objectSpread(_objectSpread({}, this.fullOptions.stepperProps), this.fullSchema['x-props']), {}, {\n          value: this.currentStep\n        });\n\n        sectionsChildren = [h('v-stepper', {\n          props: _props2,\n          style: 'width: 100%;',\n          on: {\n            change: function change(value) {\n              _this7.currentStep = value;\n            }\n          }\n        }, [h('v-stepper-header', {}, stepperSteps), h('v-stepper-items', {}, sectionsChildren)])];\n      }\n\n      if (this.display === 'vertical-stepper' && sectionsChildren.length) {\n        var _props3 = _objectSpread(_objectSpread(_objectSpread({}, this.fullOptions.verticalStepperProps), this.fullSchema['x-props']), {}, {\n          vertical: true,\n          value: this.currentStep\n        });\n\n        var stepperChildren = [];\n\n        for (var i = 0; i < sectionsChildren.length; i++) {\n          stepperChildren.push(stepperSteps[i * 2]);\n          stepperChildren.push(sectionsChildren[i]);\n        }\n\n        sectionsChildren = [h('v-stepper', {\n          props: _props3,\n          style: 'width: 100%;',\n          on: {\n            change: function change(value) {\n              _this7.currentStep = value;\n            }\n          }\n        }, stepperChildren)];\n      }\n\n      if (this.subSchemas && this.subSchemas.length) {\n        var _props4 = _objectSpread(_objectSpread(_objectSpread({}, this.commonFieldProps), this.subSchemasConstProp && this.subSchemasConstProp['x-props'] || {}), {}, {\n          disabled: this.disabled || this.subSchemasConstProp && this.subSchemasConstProp.readOnly,\n          value: this.currentOneOf,\n          label: this.subSchemasConstProp && this.subSchemasConstProp.title || this.fullSchema.title,\n          items: this.subSchemas.filter(function (item) {\n            return !item['x-if'] || !!_this7.getFromExpr(item['x-if']);\n          }).filter(function (item) {\n            return item.properties && item.properties[_this7.subSchemasConstProp.key];\n          }),\n          required: this.subSchemasRequired,\n          clearable: !this.subSchemasRequired,\n          itemValue: function itemValue(item) {\n            return item.properties[_this7.subSchemasConstProp.key].const;\n          },\n          itemText: function itemText(item) {\n            return item.title || item.properties[_this7.subSchemasConstProp.key].const;\n          },\n          rules: this.subSchemasRules,\n          returnObject: true\n        });\n\n        var on = {\n          input: function input(value) {\n            _this7.currentOneOf = value;\n            _this7.triggerChangeCurrentOneOf = true;\n          }\n        };\n        flatChildren.push(h('v-select', {\n          props: _props4,\n          on: on,\n          style: this.subSchemasConstProp && this.subSchemasConstProp['x-style'] || ''\n        }, [this.renderTooltip(h, 'append-outer')]));\n\n        if (this.currentOneOf && this.showCurrentOneOf) {\n          flatChildren.push(this.renderChildProp(h, _objectSpread(_objectSpread({}, this.currentOneOf), {}, {\n            type: 'object',\n            title: null\n          }), 'currentOneOf', this.sectionDepth + 1));\n        }\n      }\n\n      return [h('v-row', {\n        class: \"ma-0 \".concat(this.fullOptions.objectContainerClass)\n      }, [// display a local error only we don't already have an error displayed in the children\n      this.localRuleError && !this.dedupChildrenWithValidatedErrors.length && h('v-col', {\n        props: {\n          cols: 12\n        },\n        class: {\n          'px-0': true,\n          'error--text': true\n        }\n      }, this.localRuleError), // display the description as block of text on top of section\n      this.fullSchema.description && !this.subSchemasConstProp && h('v-col', {\n        props: {\n          cols: 12\n        },\n        class: {\n          'pa-0': true\n        },\n        domProps: {\n          innerHTML: this.htmlDescription\n        }\n      })].concat(flatChildren).concat(sectionsChildren))];\n    },\n    // pass an  extract of $slots from current container to a child by matching then removing the prefix\n    childSlots: function childSlots(h, childKey) {\n      var _this8 = this;\n\n      return Object.keys(this.$slots).filter(function (slot) {\n        return slot.startsWith(\"\".concat(childKey, \".\")) || slot.startsWith(\"\".concat(childKey, \"-\"));\n      }).map(function (slot) {\n        var childSlot = slot.startsWith(\"\".concat(childKey, \".\")) ? slot.replace(\"\".concat(childKey, \".\"), '') : slot.replace(\"\".concat(childKey, \"-\"), '');\n        return h('template', {\n          slot: childSlot\n        }, _this8.$slots[slot]);\n      });\n    },\n    childScopedSlots: function childScopedSlots(childKey) {\n      var _this9 = this;\n\n      return Object.keys(this.$scopedSlots).filter(function (slot) {\n        return slot.startsWith('custom-') || slot.startsWith(\"\".concat(childKey, \".\")) || slot.startsWith(\"\".concat(childKey, \"-\")) || slot === childKey;\n      }).reduce(function (a, slot) {\n        var childSlot = 'default';\n        if (slot.startsWith(\"\".concat(childKey, \".\"))) childSlot = slot.replace(\"\".concat(childKey, \".\"), '');\n        if (slot.startsWith(\"\".concat(childKey, \"-\"))) childSlot = slot.replace(\"\".concat(childKey, \"-\"), '');\n        if (slot.startsWith(\"custom-\")) childSlot = slot;\n        a[childSlot] = _this9.$scopedSlots[slot];\n        return a;\n      }, {});\n    }\n  }\n};","map":{"version":3,"names":["copy","data","currentOneOf","currentTab","showCurrentOneOf","subModels","currentStep","steps","computed","isObjectContainer","fullSchema","type","Array","isArray","items","isSelectProp","isFileProp","subSchemas","oneOf","anyOf","subSchemasConstProp","props","properties","key","Object","keys","find","p","const","htmlDescription","fullOptions","memMarkdown","description","subSchemasRequired","required","r","oneOfConstProp","subSchemasRules","rules","push","val","undefined","messages","watch","newVal","oldVal","$nextTick","$set","input","fixProperties","value","triggerChangeCurrentOneOf","change","handler","deep","methods","isSection","prop","insideAllOf","title","allOf","initObjectContainer","model","forEach","i","item","default","renderStepperStep","h","schema","subModelKey","childProp","step","isLast","modelKey","hasError","dedupChildrenWithValidatedErrors","includes","editable","complete","renderSection","readOnly","hideReadOnly","display","class","eager","href","idPrefix","dashKey","tile","flat","color","on","click","componentInstance","validate","stepperContinue","sectionsClass","sectionsTitlesClasses","sectionDepth","length","renderChildProp","forceRequired","objectContainerChildrenCount","wrapper","fixValueType","defaultValue","modelRoot","parentKey","fullKey","options","autofocus","optionsRoot","initialOptions","sharedData","childrenClass","scopedSlots","childScopedSlots","error","e","$emit","v","parseInt","$delete","childSlots","renderObjectContainer","flatChildren","sections","minItems","sectionsChildren","stepperSteps","section","concat","expansionPanelsProps","tabsProps","sliderColor","split","pop","stepperProps","style","verticalStepperProps","vertical","stepperChildren","commonFieldProps","disabled","label","filter","getFromExpr","clearable","itemValue","itemText","returnObject","renderTooltip","objectContainerClass","localRuleError","cols","domProps","innerHTML","childKey","$slots","slot","startsWith","map","childSlot","replace","$scopedSlots","reduce","a"],"sources":["C:/Users/nam/OneDrive/Máy tính/New folder/node_modules/@koumoul/vjsf/lib/mixins/ObjectContainer.js"],"sourcesContent":["import copy from 'fast-copy'\n\nexport default {\n  data() {\n    return {\n      currentOneOf: null,\n      currentTab: null,\n      showCurrentOneOf: true,\n      subModels: {}, // a container for objects from root subSchemass and allOfs\n      currentStep: 1,\n      steps: []\n    }\n  },\n  computed: {\n    isObjectContainer() {\n      if (!this.fullSchema) return\n      if (this.fullSchema.type !== 'object' && !Array.isArray(this.fullSchema.items)) return false\n      if (this.isSelectProp) return false\n      if (this.isFileProp) return false\n      return true\n    },\n    subSchemas() {\n      if (!this.fullSchema) return\n      return this.fullSchema.oneOf || this.fullSchema.anyOf\n    },\n    subSchemasConstProp() {\n      if (!this.subSchemas) return\n      const props = this.subSchemas[0].properties\n      const key = Object.keys(props).find(p => !!props[p].const)\n      if (!key) return\n      return { ...props[key], key, htmlDescription: this.fullOptions.memMarkdown(props[key].description) }\n    },\n    subSchemasRequired() {\n      if (!this.subSchemas || !this.subSchemasConstProp) return false\n      if (this.fullSchema.oneOf) return true\n      if (this.fullSchema.anyOf && this.fullSchema.required && this.fullSchema.required.find(r => r === this.oneOfConstProp.key)) return true\n    },\n    subSchemasRules() {\n      if (!this.fullSchema) return\n      const rules = []\n      if (this.subSchemasRequired) rules.push((val) => (val !== undefined && val !== null && val !== '') || this.fullOptions.messages.required)\n      return rules\n    }\n  },\n  watch: {\n    currentOneOf(newVal, oldVal) {\n      // use this boolean to force removing then re-creating the object property\n      // based on the currentOneOf sub schema. If we don't the component is reused and reactivity creates some difficult bugs.\n      this.showCurrentOneOf = false\n      this.$nextTick(() => {\n        this.showCurrentOneOf = true\n        if (!this.currentOneOf) this.$set(this.subModels, 'currentOneOf', {})\n        else this.input(this.fixProperties(this.value), false, false)\n        if (this.triggerChangeCurrentOneOf) {\n          this.$nextTick(() => {\n            this.triggerChangeCurrentOneOf = false\n            this.change()\n          })\n        }\n      })\n    },\n    subModels: {\n      handler() {\n        this.input(this.fixProperties(this.value), false, false)\n      },\n      deep: true\n    }\n  },\n  methods: {\n    isSection(prop, insideAllOf) {\n      if (!prop) return false\n      if (!prop.title) return false\n      if (prop['x-fromUrl'] || prop['x-fromData'] || prop['contentMediaType'] || prop['x-display'] === 'file') return false\n      if (prop.allOf) return true\n      if (insideAllOf && (prop.anyOf || prop.oneOf)) return true\n      if (prop.properties || Array.isArray(prop.items)) return true\n      return false\n    },\n    initObjectContainer(model) {\n      if (this.fullSchema.type !== 'object') return\n\n      // Init subModels for allOf subschemas\n      if (this.fullSchema.allOf) {\n        this.fullSchema.allOf.forEach((allOf, i) => {\n          this.$set(this.subModels, 'allOf-' + i, copy(model))\n        })\n      }\n\n      // Case of a sub type selection based on a subSchemas\n      this.currentOneOf = null\n      if (this.subSchemas && !this.currentOneOf && this.subSchemasConstProp) {\n        if (model && model[this.subSchemasConstProp.key]) {\n          this.currentOneOf = this.subSchemas.find(item => item.properties[this.subSchemasConstProp.key].const === model[this.subSchemasConstProp.key])\n        } else if (this.fullSchema.default) {\n          this.currentOneOf = this.subSchemas.find(item => item.properties[this.subSchemasConstProp.key].const === this.fullSchema.default[this.subSchemasConstProp.key])\n        }\n      }\n\n      // Init subModel for current subSchemas\n      if (this.currentOneOf) {\n        this.$set(this.subModels, 'currentOneOf', copy(model))\n      } else {\n        this.$set(this.subModels, 'currentOneOf', {})\n      }\n    },\n    renderStepperStep(h, schema, subModelKey, childProp, step, isLast) {\n      if (!childProp) return\n      const modelKey = subModelKey || schema.key\n      const hasError = this.dedupChildrenWithValidatedErrors.includes(modelKey)\n      const props = {\n        step,\n        editable: step < this.currentStep,\n        complete: step < this.currentStep,\n        rules: [() => !hasError]\n      }\n      return [h('v-stepper-step', { props }, [schema.title]), isLast ? null : h('v-divider')]\n    },\n    renderSection(h, schema, subModelKey, childProp, step, isLast) {\n      if (!childProp) return\n      const modelKey = subModelKey || schema.key\n      const key = 'section-' + modelKey\n\n      if (schema['x-display'] === 'hidden' || (schema.readOnly && this.fullOptions.hideReadOnly)) return [childProp]\n      if (this.display === 'expansion-panels') {\n        return [h('v-expansion-panel', { key }, [\n          h('v-expansion-panel-header', { class: { 'error--text': this.dedupChildrenWithValidatedErrors.includes(modelKey) } }, [schema.title]),\n          h('v-expansion-panel-content', { props: { eager: true } }, [childProp])\n        ])]\n      } else if (this.display === 'tabs') {\n        return [\n          h('v-tab', { key, props: { href: `#tab-${this.fullOptions.idPrefix}${this.dashKey}-${modelKey}` } }, [\n            h('span', { class: { 'error--text': this.dedupChildrenWithValidatedErrors.includes(modelKey) } }, [schema.title])\n          ]),\n          h('v-tab-item',\n            { key, props: { value: `tab-${this.fullOptions.idPrefix}${this.dashKey}-${modelKey}`, eager: true } },\n            [h('v-card', { props: { tile: true, flat: true } }, [h('v-card-text', [childProp])])]\n          )\n        ]\n      } else if (this.display === 'stepper' || this.display === 'vertical-stepper') {\n        return [\n          h('v-stepper-content',\n            { key, props: { step, eager: true } },\n            [h('v-card', { props: { tile: true, flat: true } }, [\n              h('v-card-text', { class: { 'pa-0': true } }, [childProp]),\n              isLast ? null : h('v-card-actions', { class: { 'px-0': true } }, [h('v-btn', { props: { color: 'primary' },\n                on: { click: () => {\n                  if (childProp.componentInstance.validate(true)) {\n                    this.currentStep += 1\n                  }\n                } } }, this.fullOptions.messages.stepperContinue)])\n            ])]\n          )\n        ]\n      } else {\n        return [h('v-row', { key, class: `ma-0 ${this.fullOptions.sectionsClass}` }, [\n          h('span', {\n            class: 'py-2 ' + (this.fullOptions.sectionsTitlesClasses[this.sectionDepth] || this.fullOptions.sectionsTitlesClasses[this.fullOptions.sectionsTitlesClasses.length - 1])\n          }, [`${schema.title}\\xa0`]),\n          childProp\n        ])]\n      }\n    },\n    renderChildProp(h, schema, subModelKey, sectionDepth, forceRequired) {\n      this.objectContainerChildrenCount += 1\n      let wrapper\n      if (subModelKey) wrapper = this.subModels\n      else if (Array.isArray(this.value)) wrapper = [...this.value]\n      else wrapper = { ...this.value }\n\n      const modelKey = subModelKey || schema.key\n\n      // Manage default values\n      let value = wrapper[modelKey]\n      value = this.fixValueType(value, schema)\n      if (value === undefined) {\n        value = this.defaultValue(schema)\n        if (schema.default !== undefined) value = copy(schema.default)\n        if (value !== undefined && value !== null) {\n          this.$set(wrapper, modelKey, value)\n          if (!subModelKey) this.input(wrapper, false, false)\n        }\n      }\n      return h('v-jsf', {\n        props: {\n          schema: { readOnly: this.fullSchema.readOnly, ...schema },\n          value,\n          modelRoot: this.modelRoot || this.value,\n          modelKey,\n          parentKey: `${this.fullKey}.`,\n          required: forceRequired || !!(this.fullSchema.required && this.fullSchema.required.includes(schema.key)),\n          options: { ...this.fullOptions, autofocus: this.fullOptions.autofocus && this.objectContainerChildrenCount === 1 },\n          optionsRoot: this.initialOptions,\n          sectionDepth,\n          sharedData: this.sharedData\n        },\n        class: this.fullOptions.childrenClass,\n        scopedSlots: this.childScopedSlots(modelKey),\n        key: modelKey,\n        on: {\n          error: e => this.$emit('error', e),\n          input: v => {\n            if (v === undefined) {\n              // set empty value instead of deleting key in the special case of the parts\n              // of a tuple (except the last part), otherwise we move last parts of the array to the beginning of the array\n              if (Array.isArray(wrapper) && parseInt(modelKey) < (wrapper.length - 1)) {\n                this.$set(wrapper, modelKey, v)\n              } else {\n                this.$delete(wrapper, modelKey)\n              }\n            } else {\n              this.$set(wrapper, modelKey, v)\n            }\n            if (!subModelKey) this.input(wrapper, false, false)\n          },\n          change: v => this.change(false)\n        }\n      }, this.childSlots(h, schema.key))\n    },\n    renderObjectContainer(h) {\n      if (!this.isObjectContainer) return\n      if ([undefined, null].includes(this.value)) return []\n\n      const flatChildren = []\n      this.objectContainerChildrenCount = 0\n      const sections = []\n      if (this.fullSchema.properties) {\n        this.fullSchema.properties.forEach((schema) => {\n          if (this.isSection(schema)) {\n            sections.push({ schema, subModelKey: null, forceRequired: false })\n          } else {\n            flatChildren.push(this.renderChildProp(h, schema, null, this.sectionDepth, false))\n          }\n        })\n      }\n      if (Array.isArray(this.fullSchema.items)) {\n        this.fullSchema.items.forEach((schema, i) => {\n          const forceRequired = this.value.length > i || (this.fullSchema.minItems && this.fullSchema.minItems > i)\n          if (this.isSection(schema)) {\n            sections.push({ schema, subModelKey: null, forceRequired })\n          } else {\n            flatChildren.push(this.renderChildProp(h, schema, null, this.sectionDepth, forceRequired))\n          }\n        })\n      }\n      if (this.fullSchema.allOf) {\n        this.fullSchema.allOf.forEach((allOf, i) => {\n          const schema = { ...allOf, type: 'object', key: '' + i }\n          if (this.isSection(allOf, true)) {\n            sections.push({ schema, subModelKey: 'allOf-' + i, forceRequired: false })\n          } else {\n            flatChildren.push(this.renderChildProp(h, schema, 'allOf-' + i, this.sectionDepth))\n          }\n        })\n      }\n\n      let sectionsChildren = []\n      let stepperSteps = []\n      sections.forEach((section, i) => {\n        const childProp = this.renderChildProp(h, section.schema, section.subModelKey, this.sectionDepth + 1, section.forceRequired)\n        sectionsChildren = sectionsChildren.concat(this.renderSection(h, section.schema, section.subModelKey, childProp, i + 1, i === sections.length - 1))\n        if (this.display === 'stepper' || this.display === 'vertical-stepper') stepperSteps = stepperSteps.concat(this.renderStepperStep(h, section.schema, section.subModelKey, childProp, i + 1, i === sections.length - 1))\n      })\n\n      if (this.display === 'expansion-panels' && sectionsChildren.length) {\n        const props = { ...this.fullOptions.expansionPanelsProps, ...this.fullSchema['x-props'] }\n        sectionsChildren = [h('v-expansion-panels', { props }, sectionsChildren)]\n      }\n      if (this.display === 'tabs' && sectionsChildren.length) {\n        const props = { ...this.fullOptions.tabsProps, ...this.fullSchema['x-props'] }\n        if (this.currentTab && this.dedupChildrenWithValidatedErrors.includes(this.currentTab)) {\n          props.sliderColor = 'error'\n        }\n        sectionsChildren = [h('v-tabs', { props, on: { change: value => { this.currentTab = value.split('-').pop() } } }, sectionsChildren)]\n      }\n      if (this.display === 'stepper' && sectionsChildren.length) {\n        const props = { ...this.fullOptions.stepperProps, ...this.fullSchema['x-props'], value: this.currentStep }\n        sectionsChildren = [h('v-stepper', { props, style: 'width: 100%;', on: { change: value => { this.currentStep = value } } }, [\n          h('v-stepper-header', {}, stepperSteps),\n          h('v-stepper-items', {}, sectionsChildren)\n        ])]\n      }\n      if (this.display === 'vertical-stepper' && sectionsChildren.length) {\n        const props = { ...this.fullOptions.verticalStepperProps, ...this.fullSchema['x-props'], vertical: true, value: this.currentStep }\n        const stepperChildren = []\n        for (let i = 0; i < sectionsChildren.length; i++) {\n          stepperChildren.push(stepperSteps[i * 2])\n          stepperChildren.push(sectionsChildren[i])\n        }\n        sectionsChildren = [h('v-stepper', { props, style: 'width: 100%;', on: { change: value => { this.currentStep = value } } }, stepperChildren)]\n      }\n\n      if (this.subSchemas && this.subSchemas.length) {\n        const props = {\n          ...this.commonFieldProps,\n          ...((this.subSchemasConstProp && this.subSchemasConstProp['x-props']) || {}),\n          disabled: this.disabled || (this.subSchemasConstProp && this.subSchemasConstProp.readOnly),\n          value: this.currentOneOf,\n          label: (this.subSchemasConstProp && this.subSchemasConstProp.title) || this.fullSchema.title,\n          items: this.subSchemas\n            .filter(item => !item['x-if'] || !!this.getFromExpr(item['x-if']))\n            .filter(item => item.properties && item.properties[this.subSchemasConstProp.key]),\n          required: this.subSchemasRequired,\n          clearable: !this.subSchemasRequired,\n          itemValue: item => item.properties[this.subSchemasConstProp.key].const,\n          itemText: item => item.title || item.properties[this.subSchemasConstProp.key].const,\n          rules: this.subSchemasRules,\n          returnObject: true\n        }\n        const on = {\n          input: value => {\n            this.currentOneOf = value\n            this.triggerChangeCurrentOneOf = true\n          }\n        }\n        flatChildren.push(h('v-select', { props, on, style: (this.subSchemasConstProp && this.subSchemasConstProp['x-style']) || '' }, [this.renderTooltip(h, 'append-outer')]))\n        if (this.currentOneOf && this.showCurrentOneOf) {\n          flatChildren.push(this.renderChildProp(h, { ...this.currentOneOf, type: 'object', title: null }, 'currentOneOf', this.sectionDepth + 1))\n        }\n      }\n      return [h('v-row', { class: `ma-0 ${this.fullOptions.objectContainerClass}` }, [\n        // display a local error only we don't already have an error displayed in the children\n        (this.localRuleError && !this.dedupChildrenWithValidatedErrors.length) && h('v-col', { props: { cols: 12 }, class: { 'px-0': true, 'error--text': true } }, this.localRuleError),\n        // display the description as block of text on top of section\n        this.fullSchema.description && !this.subSchemasConstProp && h('v-col', { props: { cols: 12 }, class: { 'pa-0': true }, domProps: { innerHTML: this.htmlDescription } })]\n        .concat(flatChildren).concat(sectionsChildren))\n      ]\n    },\n    // pass an  extract of $slots from current container to a child by matching then removing the prefix\n    childSlots(h, childKey) {\n      return Object.keys(this.$slots)\n        .filter(slot => slot.startsWith(`${childKey}.`) || slot.startsWith(`${childKey}-`))\n        .map(slot => {\n          const childSlot = slot.startsWith(`${childKey}.`) ? slot.replace(`${childKey}.`, '') : slot.replace(`${childKey}-`, '')\n          return h('template', { slot: childSlot }, this.$slots[slot])\n        })\n    },\n    childScopedSlots(childKey) {\n      return Object.keys(this.$scopedSlots)\n        .filter(slot => slot.startsWith('custom-') || slot.startsWith(`${childKey}.`) || slot.startsWith(`${childKey}-`) || slot === childKey)\n        .reduce((a, slot) => {\n          let childSlot = 'default'\n          if (slot.startsWith(`${childKey}.`)) childSlot = slot.replace(`${childKey}.`, '')\n          if (slot.startsWith(`${childKey}-`)) childSlot = slot.replace(`${childKey}-`, '')\n          if (slot.startsWith(`custom-`)) childSlot = slot\n          a[childSlot] = this.$scopedSlots[slot]\n          return a\n        }, {})\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}